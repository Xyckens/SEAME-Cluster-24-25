\doxysection{libcamera\+::Camera\+Manager\+::Private Class Reference}
\hypertarget{classlibcamera_1_1CameraManager_1_1Private}{}\label{classlibcamera_1_1CameraManager_1_1Private}\index{libcamera::CameraManager::Private@{libcamera::CameraManager::Private}}
Inheritance diagram for libcamera\+::Camera\+Manager\+::Private\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classlibcamera_1_1CameraManager_1_1Private}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1CameraManager_1_1Private_a025316b8b0790166682de5107413ce03}\label{classlibcamera_1_1CameraManager_1_1Private_a025316b8b0790166682de5107413ce03} 
int {\bfseries start} ()
\item 
void \mbox{\hyperlink{classlibcamera_1_1CameraManager_1_1Private_a51fcc386c6ea5dc81b29e7334d9f1d39}{add\+Camera}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} $>$ camera) LIBCAMERA\+\_\+\+TSA\+\_\+\+EXCLUDES(mutex\+\_\+)
\begin{DoxyCompactList}\small\item\em Add a camera to the camera manager. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1CameraManager_1_1Private_a613cf80645af31d6d76c4799678020af}{remove\+Camera}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} $>$ camera) LIBCAMERA\+\_\+\+TSA\+\_\+\+EXCLUDES(mutex\+\_\+)
\begin{DoxyCompactList}\small\item\em Remove a camera from the camera manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1IPAManager}{IPAManager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1CameraManager_1_1Private_a34ef2138d2186d9feb36a7a67354e792}{ipa\+Manager}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the \doxylink{classlibcamera_1_1IPAManager}{IPAManager} \textbackslash{}context This function is \textbackslash{}threadsafe. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Extensible_1_1Private}{libcamera\+::\+Extensible\+::\+Private}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Private} ()
\begin{DoxyCompactList}\small\item\em Construct an instance of an \doxylink{classlibcamera_1_1Extensible}{Extensible} class private data. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\const T \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+o} () const
\item 
{\footnotesize template$<$typename T $>$ }\\T \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+o} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Thread}{libcamera\+::\+Thread}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Thread} ()
\begin{DoxyCompactList}\small\item\em Create a thread. \end{DoxyCompactList}\item 
void {\bfseries start} ()
\begin{DoxyCompactList}\small\item\em Start the thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Thread_a682e194cb85201f751679d405bddd390}{exit}} (int code=0)
\begin{DoxyCompactList}\small\item\em Stop the thread\textquotesingle{}s event loop. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1Thread_aad8b4e36644bbb12dc4a3652875031c0}{wait}} (\mbox{\hyperlink{include_2libcamera_2base_2utils_8h_ad2a71f9eb2c27cd6213306d8d2ff7fd0}{utils\+::duration}} duration=utils\+::duration\+::max())
\begin{DoxyCompactList}\small\item\em Wait for the thread to finish. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1Thread_ac0aaa9e86d23aae87865d5b607263434}{set\+Thread\+Affinity}} (const \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ const unsigned int $>$ \&cpus)
\begin{DoxyCompactList}\small\item\em Set the CPU affinity mask of the thread. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1Thread_abc82f4273c701d2a3e10c616ae7be167}{is\+Running}} ()
\begin{DoxyCompactList}\small\item\em Check if the thread is running. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1EventDispatcher}{Event\+Dispatcher}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1Thread_a473e4d310c13ca3e779781116b6df125}{event\+Dispatcher}} ()
\begin{DoxyCompactList}\small\item\em Retrieve the event dispatcher. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Thread_aa9e5281fd59e9644aab27c0a5fefe7ed}{dispatch\+Messages}} (\mbox{\hyperlink{classlibcamera_1_1Message_a7ae15d74f028344ba827ea8ba4d77fa5}{Message\+::\+Type}} type=\mbox{\hyperlink{classlibcamera_1_1Message_a7ae15d74f028344ba827ea8ba4d77fa5a2cf8f48814353e436d4f5fc4b9f8b713}{Message\+::\+Type\+::\+None}})
\begin{DoxyCompactList}\small\item\em Dispatch posted messages for this thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classlibcamera_1_1CameraManager_1_1Private_a2495e76af68debe46f1fbdc770a73085}{run}} () override
\begin{DoxyCompactList}\small\item\em Main function of the thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Thread}{libcamera\+::\+Thread}}}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classlibcamera_1_1Thread_a6422ed835177fd84f0e517efc798fa62}{exec}} ()
\begin{DoxyCompactList}\small\item\em Enter the event loop. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Thread}{libcamera\+::\+Thread}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classlibcamera_1_1Thread}{Thread}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1Thread_a3eef596f48cb7109462118890b6575cb}{current}} ()
\begin{DoxyCompactList}\small\item\em Retrieve the \doxylink{classlibcamera_1_1Thread}{Thread} instance for the current thread \textbackslash{}context This function is \textbackslash{}threadsafe. \end{DoxyCompactList}\item 
static pid\+\_\+t \mbox{\hyperlink{classlibcamera_1_1Thread_a41f93a5a8f2649c06859f88325dc60ac}{current\+Id}} ()
\begin{DoxyCompactList}\small\item\em Retrieve the ID of the current thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{classlibcamera_1_1Thread}{libcamera\+::\+Thread}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1Signal}{Signal}} {\bfseries finished}
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Signal}{Signal} the end of thread execution. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1CameraManager_1_1Private_a51fcc386c6ea5dc81b29e7334d9f1d39}\label{classlibcamera_1_1CameraManager_1_1Private_a51fcc386c6ea5dc81b29e7334d9f1d39} 
\index{libcamera::CameraManager::Private@{libcamera::CameraManager::Private}!addCamera@{addCamera}}
\index{addCamera@{addCamera}!libcamera::CameraManager::Private@{libcamera::CameraManager::Private}}
\doxysubsubsection{\texorpdfstring{addCamera()}{addCamera()}}
{\footnotesize\ttfamily void libcamera\+::\+Camera\+Manager\+::\+Private\+::add\+Camera (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} $>$}]{camera }\end{DoxyParamCaption})}



Add a camera to the camera manager. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to be added\\
\hline
\end{DoxyParams}
This function is called by pipeline handlers to register the cameras they handle with the camera manager. Registered cameras are immediately made available to the system.

Device numbers from the System\+Devices property are used by the V4\+L2 compatibility layer to map V4\+L2 device nodes to \doxylink{classlibcamera_1_1Camera}{Camera} instances.

\textbackslash{}context This function shall be called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread. \Hypertarget{classlibcamera_1_1CameraManager_1_1Private_a34ef2138d2186d9feb36a7a67354e792}\label{classlibcamera_1_1CameraManager_1_1Private_a34ef2138d2186d9feb36a7a67354e792} 
\index{libcamera::CameraManager::Private@{libcamera::CameraManager::Private}!ipaManager@{ipaManager}}
\index{ipaManager@{ipaManager}!libcamera::CameraManager::Private@{libcamera::CameraManager::Private}}
\doxysubsubsection{\texorpdfstring{ipaManager()}{ipaManager()}}
{\footnotesize\ttfamily libcamera\+::\+Camera\+Manager\+::\+Private\+::ipa\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the \doxylink{classlibcamera_1_1IPAManager}{IPAManager} \textbackslash{}context This function is \textbackslash{}threadsafe. 

\begin{DoxyReturn}{Returns}
The \doxylink{classlibcamera_1_1IPAManager}{IPAManager} for this \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1CameraManager_1_1Private_a613cf80645af31d6d76c4799678020af}\label{classlibcamera_1_1CameraManager_1_1Private_a613cf80645af31d6d76c4799678020af} 
\index{libcamera::CameraManager::Private@{libcamera::CameraManager::Private}!removeCamera@{removeCamera}}
\index{removeCamera@{removeCamera}!libcamera::CameraManager::Private@{libcamera::CameraManager::Private}}
\doxysubsubsection{\texorpdfstring{removeCamera()}{removeCamera()}}
{\footnotesize\ttfamily void libcamera\+::\+Camera\+Manager\+::\+Private\+::remove\+Camera (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} $>$}]{camera }\end{DoxyParamCaption})}



Remove a camera from the camera manager. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to be removed\\
\hline
\end{DoxyParams}
This function is called by pipeline handlers to unregister cameras from the camera manager. Unregistered cameras won\textquotesingle{}t be reported anymore by the \doxylink{classlibcamera_1_1CameraManager_a3b20427687e9920b256625838bea8f9a}{cameras()} and \doxylink{classlibcamera_1_1CameraManager_abd8bfe0d85cedf2ec5c4549d05de7f09}{get()} calls, but references may still exist in applications.

\textbackslash{}context This function shall be called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread. \Hypertarget{classlibcamera_1_1CameraManager_1_1Private_a2495e76af68debe46f1fbdc770a73085}\label{classlibcamera_1_1CameraManager_1_1Private_a2495e76af68debe46f1fbdc770a73085} 
\index{libcamera::CameraManager::Private@{libcamera::CameraManager::Private}!run@{run}}
\index{run@{run}!libcamera::CameraManager::Private@{libcamera::CameraManager::Private}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily void libcamera\+::\+Camera\+Manager\+::\+Private\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Main function of the thread. 

When the thread is started with start(), it calls this function in the context of the new thread. The \doxylink{classlibcamera_1_1CameraManager_1_1Private_a2495e76af68debe46f1fbdc770a73085}{run()} function can be overridden to perform custom work, either custom initialization and cleanup before and after calling the \doxylink{classlibcamera_1_1Thread_a6422ed835177fd84f0e517efc798fa62}{Thread\+::exec()} function, or a custom thread loop altogether. When this function returns the thread execution is stopped, and the \doxylink{classlibcamera_1_1Thread_a7f3bdc2840090cfb00fa8442ce36c3df}{finished} signal is emitted.

Note that if this function is overridden and doesn\textquotesingle{}t call \doxylink{classlibcamera_1_1Thread_a6422ed835177fd84f0e517efc798fa62}{Thread\+::exec()}, no events will be dispatched to the objects living in the thread. These objects will not be able to use the \doxylink{classlibcamera_1_1EventNotifier}{Event\+Notifier}, \doxylink{classlibcamera_1_1Timer}{Timer} or \doxylink{classlibcamera_1_1Message}{Message} facilities. This includes functions that rely on message dispatching, such as \doxylink{classlibcamera_1_1Object_a7432a52a2e69a29cfe8144929686d1e6}{Object\+::delete\+Later()}.

The base implementation just calls \doxylink{classlibcamera_1_1Thread_a6422ed835177fd84f0e517efc798fa62}{exec()}. 

Reimplemented from \mbox{\hyperlink{classlibcamera_1_1Thread_a7e7d63b01477fa9987f5505f82f32913}{libcamera\+::\+Thread}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/internal/camera\+\_\+manager.\+h\item 
src/peripherals/camera/libcamera/src/libcamera/camera\+\_\+manager.\+cpp\end{DoxyCompactItemize}
