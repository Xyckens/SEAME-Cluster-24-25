\doxysection{libcamera\+::IPAProxy Class Reference}
\hypertarget{classlibcamera_1_1IPAProxy}{}\label{classlibcamera_1_1IPAProxy}\index{libcamera::IPAProxy@{libcamera::IPAProxy}}


IPA Proxy.  


Inheritance diagram for libcamera\+::IPAProxy\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classlibcamera_1_1IPAProxy}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886f}{Proxy\+State}} \{ \mbox{\hyperlink{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fac9ed4dc1759305a24dc8976966b4779d}{Proxy\+Stopped}}
, \mbox{\hyperlink{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fab89e2a142e3398b19d9c24c28fb33dba}{Proxy\+Stopping}}
, \mbox{\hyperlink{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fa5693bea4bc91f54262d7cc997a4ce905}{Proxy\+Running}}
 \}
\begin{DoxyCompactList}\small\item\em Identifies the available operational states of the proxy. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1IPAProxy_a0c94e7e10e22d26df7926c4a3bb3db4e}{IPAProxy}} (\mbox{\hyperlink{classlibcamera_1_1IPAModule}{IPAModule}} \texorpdfstring{$\ast$}{*}ipam)
\begin{DoxyCompactList}\small\item\em Construct an \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1IPAProxy_af81593f95cc10aa6b8a68b0e3a8f1a24}{is\+Valid}} () const
\begin{DoxyCompactList}\small\item\em Check if the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance is valid. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classlibcamera_1_1IPAProxy_a65233b120ff57bd960121bc37f9d86b5}{configuration\+File}} (const std\+::string \&name, const std\+::string \&fallback\+Name=std\+::string()) const
\begin{DoxyCompactList}\small\item\em Retrieve the absolute path to an IPA configuration file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classlibcamera_1_1IPAProxy_aa298816d19d6455f64f3456ccaa70a98}{resolve\+Path}} (const std\+::string \&file) const
\begin{DoxyCompactList}\small\item\em Find a valid full path for a proxy worker for a given executable name. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classlibcamera_1_1IPAProxy_a86bd383fa58aa3ae979791e5e3e51a83}{valid\+\_\+}}
\begin{DoxyCompactList}\small\item\em Flag to indicate if the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance is valid. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886f}{Proxy\+State}} \mbox{\hyperlink{classlibcamera_1_1IPAProxy_ad8a1538593edc026ab375543b0b1319a}{state\+\_\+}}
\begin{DoxyCompactList}\small\item\em Current state of the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
IPA Proxy. 

Isolate IPA into separate process. 

\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886f}\label{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886f} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!ProxyState@{ProxyState}}
\index{ProxyState@{ProxyState}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{ProxyState}{ProxyState}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886f}{libcamera\+::\+IPAProxy\+::\+Proxy\+State}}}



Identifies the available operational states of the proxy. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{ProxyStopped@{ProxyStopped}!libcamera::IPAProxy@{libcamera::IPAProxy}}\index{libcamera::IPAProxy@{libcamera::IPAProxy}!ProxyStopped@{ProxyStopped}}}\Hypertarget{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fac9ed4dc1759305a24dc8976966b4779d}\label{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fac9ed4dc1759305a24dc8976966b4779d} 
Proxy\+Stopped&The proxy is not active and only synchronous operations are permitted. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ProxyStopping@{ProxyStopping}!libcamera::IPAProxy@{libcamera::IPAProxy}}\index{libcamera::IPAProxy@{libcamera::IPAProxy}!ProxyStopping@{ProxyStopping}}}\Hypertarget{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fab89e2a142e3398b19d9c24c28fb33dba}\label{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fab89e2a142e3398b19d9c24c28fb33dba} 
Proxy\+Stopping&No new tasks can be submitted to the proxy, however existing events can be completed. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ProxyRunning@{ProxyRunning}!libcamera::IPAProxy@{libcamera::IPAProxy}}\index{libcamera::IPAProxy@{libcamera::IPAProxy}!ProxyRunning@{ProxyRunning}}}\Hypertarget{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fa5693bea4bc91f54262d7cc997a4ce905}\label{classlibcamera_1_1IPAProxy_ae59a8a916c5e244be8bdd6860503886fa5693bea4bc91f54262d7cc997a4ce905} 
Proxy\+Running&The Proxy is active and asynchronous tasks may be queued. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlibcamera_1_1IPAProxy_a0c94e7e10e22d26df7926c4a3bb3db4e}\label{classlibcamera_1_1IPAProxy_a0c94e7e10e22d26df7926c4a3bb3db4e} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!IPAProxy@{IPAProxy}}
\index{IPAProxy@{IPAProxy}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{IPAProxy()}{IPAProxy()}}
{\footnotesize\ttfamily libcamera\+::\+IPAProxy\+::\+IPAProxy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1IPAModule}{IPAModule}} \texorpdfstring{$\ast$}{*}}]{ipam }\end{DoxyParamCaption})}



Construct an \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ipam} & The IPA module \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1IPAProxy_a65233b120ff57bd960121bc37f9d86b5}\label{classlibcamera_1_1IPAProxy_a65233b120ff57bd960121bc37f9d86b5} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!configurationFile@{configurationFile}}
\index{configurationFile@{configurationFile}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{configurationFile()}{configurationFile()}}
{\footnotesize\ttfamily std\+::string libcamera\+::\+IPAProxy\+::configuration\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{const std\+::string \&}]{fallback\+Name = {\ttfamily std\+:\+:string()} }\end{DoxyParamCaption}) const}



Retrieve the absolute path to an IPA configuration file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em name} & The configuration file name \\
\hline
\mbox{\texttt{ in}}  & {\em fallback\+Name} & The name of a fallback configuration file\\
\hline
\end{DoxyParams}
This function locates the configuration file for an IPA and returns its absolute path. It searches the following directories, in order\+:


\begin{DoxyItemize}
\item All directories specified in the colon-\/separated LIBCAMERA\+\_\+\+IPA\+\_\+\+CONFIG\+\_\+\+PATH environment variable ; or
\item If libcamera is not installed, the src/ipa/ directory within the source tree ; otherwise
\item The system sysconf (etc/libcamera/ipa) and the data (share/libcamera/ipa/) directories.
\end{DoxyItemize}

The system directories are not searched if libcamera is not installed.

Within each of those directories, the function looks for a subdirectory named after the IPA module name, as reported in \doxylink{structlibcamera_1_1IPAModuleInfo_ac8fb4c26b65a2fbad350fc185445164d}{IPAModule\+Info\+::name}, and for a file named {\itshape name} within that directory. The {\itshape name} is IPA-\/specific.

If the file named {\itshape name} is not found and {\itshape fallback\+Name} is non-\/empty then the whole search is repeated for {\itshape fallback\+Name}.

\begin{DoxyReturn}{Returns}
The full path to the IPA configuration file, or an empty string if no configuration file can be found 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1IPAProxy_af81593f95cc10aa6b8a68b0e3a8f1a24}\label{classlibcamera_1_1IPAProxy_af81593f95cc10aa6b8a68b0e3a8f1a24} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!isValid@{isValid}}
\index{isValid@{isValid}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{isValid()}{isValid()}}
{\footnotesize\ttfamily libcamera\+::\+IPAProxy\+::is\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Check if the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance is valid. 

An \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance is valid if the IPA interface is successfully created in isolation, and IPC is successfully set up.

\begin{DoxyReturn}{Returns}
True if the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} is valid, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1IPAProxy_aa298816d19d6455f64f3456ccaa70a98}\label{classlibcamera_1_1IPAProxy_aa298816d19d6455f64f3456ccaa70a98} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!resolvePath@{resolvePath}}
\index{resolvePath@{resolvePath}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{resolvePath()}{resolvePath()}}
{\footnotesize\ttfamily std\+::string libcamera\+::\+IPAProxy\+::resolve\+Path (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{file }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Find a valid full path for a proxy worker for a given executable name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em file} & \doxylink{classlibcamera_1_1File}{File} name of proxy worker executable\\
\hline
\end{DoxyParams}
A proxy worker\textquotesingle{}s executable could be found in either the global installation directory, or in the paths specified by the environment variable LIBCAMERA\+\_\+\+IPA\+\_\+\+PROXY\+\_\+\+PATH. This function checks the global install directory first, then LIBCAMERA\+\_\+\+IPA\+\_\+\+PROXY\+\_\+\+PATH in order, and returns the full path to the proxy worker executable that is specified by file. The proxy worker executable shall have exec permission.

\begin{DoxyReturn}{Returns}
The full path to the proxy worker executable, or an empty string if no valid executable path 
\end{DoxyReturn}


\doxysubsection{Member Data Documentation}
\Hypertarget{classlibcamera_1_1IPAProxy_ad8a1538593edc026ab375543b0b1319a}\label{classlibcamera_1_1IPAProxy_ad8a1538593edc026ab375543b0b1319a} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!state\_@{state\_}}
\index{state\_@{state\_}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{state\_}{state\_}}
{\footnotesize\ttfamily libcamera\+::\+IPAProxy\+::state\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Current state of the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy}. 

The \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} can be Running, Stopped, or Stopping.

This state provides a means to ensure that asynchronous functions are only called while the proxy is running, and prevent new tasks being submitted while still enabling events to complete when the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} is stopping. \Hypertarget{classlibcamera_1_1IPAProxy_a86bd383fa58aa3ae979791e5e3e51a83}\label{classlibcamera_1_1IPAProxy_a86bd383fa58aa3ae979791e5e3e51a83} 
\index{libcamera::IPAProxy@{libcamera::IPAProxy}!valid\_@{valid\_}}
\index{valid\_@{valid\_}!libcamera::IPAProxy@{libcamera::IPAProxy}}
\doxysubsubsection{\texorpdfstring{valid\_}{valid\_}}
{\footnotesize\ttfamily libcamera\+::\+IPAProxy\+::valid\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Flag to indicate if the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance is valid. 

A \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} instance is valid if the IPA interface is successfully created in isolation, and IPC is successfully set up.

This flag can be read via \doxylink{classlibcamera_1_1IPAProxy_af81593f95cc10aa6b8a68b0e3a8f1a24}{IPAProxy\+::is\+Valid()}.

Implementations of the \doxylink{classlibcamera_1_1IPAProxy}{IPAProxy} class should set this flag upon successful construction. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/internal/\mbox{\hyperlink{ipa__proxy_8h}{ipa\+\_\+proxy.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/ipa\+\_\+proxy.\+cpp\end{DoxyCompactItemize}
