\doxysection{rkisp1\+\_\+ext\+\_\+params\+\_\+cfg Struct Reference}
\hypertarget{structrkisp1__ext__params__cfg}{}\label{structrkisp1__ext__params__cfg}\index{rkisp1\_ext\_params\_cfg@{rkisp1\_ext\_params\_cfg}}


{\ttfamily \#include $<$rkisp1-\/config.\+h$>$}

\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{structrkisp1__ext__params__cfg_a983f7b1fd344cb2ab947e79fa716f145}\label{structrkisp1__ext__params__cfg_a983f7b1fd344cb2ab947e79fa716f145} 
\+\_\+\+\_\+u32 {\bfseries version}
\item 
\Hypertarget{structrkisp1__ext__params__cfg_a2535323b46c551f19e4848aaa8c0b6bd}\label{structrkisp1__ext__params__cfg_a2535323b46c551f19e4848aaa8c0b6bd} 
\+\_\+\+\_\+u32 {\bfseries data\+\_\+size}
\item 
\Hypertarget{structrkisp1__ext__params__cfg_a604be309e3dc365d0cdea0509c2fef8f}\label{structrkisp1__ext__params__cfg_a604be309e3dc365d0cdea0509c2fef8f} 
\+\_\+\+\_\+u8 {\bfseries data} \mbox{[}RKISP1\+\_\+\+EXT\+\_\+\+PARAMS\+\_\+\+MAX\+\_\+\+SIZE\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
struct \doxylink{structrkisp1__ext__params__cfg}{rkisp1\+\_\+ext\+\_\+params\+\_\+cfg} -\/ Rk\+ISP1 extensible parameters configuration

This struct contains the configuration parameters of the Rk\+ISP1 ISP algorithms, serialized by userspace into a data buffer. Each configuration parameter block is represented by a block-\/specific structure which contains a \+:c\+:type\+:{\ttfamily \doxylink{structrkisp1__ext__params__block__header}{rkisp1\+\_\+ext\+\_\+params\+\_\+block\+\_\+header}} entry as first member. Userspace populates the @data buffer with configuration parameters for the blocks that it intends to configure. As a consequence, the data buffer effective size changes according to the number of ISP blocks that userspace intends to configure and is set by userspace in the @data\+\_\+size field.

The parameters buffer is versioned by the \begin{DoxyVersion}{Version}
field to allow modifying and extending its definition. Userspace shall populate the 

field to inform the driver about the version it intends to use. The driver will parse and handle the @data buffer according to the data layout specific to the indicated version and return an error if the desired version is not supported.
\end{DoxyVersion}
Currently the single RKISP1\+\_\+\+EXT\+\_\+\+PARAM\+\_\+\+BUFFER\+\_\+\+V1 version is supported. When a new format version will be added, a mechanism for userspace to query the supported format versions will be implemented in the form of a read-\/only V4\+L2 control. If such control is not available, userspace should assume only RKISP1\+\_\+\+EXT\+\_\+\+PARAM\+\_\+\+BUFFER\+\_\+\+V1 is supported by the driver.

For each ISP block that userspace wants to configure, a block-\/specific structure is appended to the @data buffer, one after the other without gaps in between nor overlaps. Userspace shall populate the @data\+\_\+size field with the effective size, in bytes, of the @data buffer.

The expected memory layout of the parameters buffer is\+:\+:

+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__ext__params__cfg}{rkisp1\+\_\+ext\+\_\+params\+\_\+cfg} -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} version = RKISP\+\_\+\+EXT\+\_\+\+PARAMS\+\_\+\+BUFFER\+\_\+\+V1; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} data\+\_\+size = sizeof(struct rkisp1\+\_\+ext\+\_\+params\+\_\+bls\+\_\+config) \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} + sizeof(struct rkisp1\+\_\+ext\+\_\+params\+\_\+dpcc\+\_\+config); \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- data -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__ext__params__bls__config}{rkisp1\+\_\+ext\+\_\+params\+\_\+bls\+\_\+config} -\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__ext__params__block__header}{rkisp1\+\_\+ext\+\_\+params\+\_\+block\+\_\+header} -\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} type = RKISP1\+\_\+\+EXT\+\_\+\+PARAMS\+\_\+\+BLOCK\+\_\+\+TYPE\+\_\+\+BLS; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} flags = RKISP1\+\_\+\+EXT\+\_\+\+PARAMS\+\_\+\+FL\+\_\+\+BLOCK\+\_\+\+ENABLE; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} size = sizeof(struct rkisp1\+\_\+ext\+\_\+params\+\_\+bls\+\_\+config); \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__cif__isp__bls__config}{rkisp1\+\_\+cif\+\_\+isp\+\_\+bls\+\_\+config} -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} enable\+\_\+auto = 0; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} fixed\+\_\+val.\+r = 256; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} fixed\+\_\+val.\+gr = 256; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} fixed\+\_\+val.\+gb = 256; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} fixed\+\_\+val.\+b = 256; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__ext__params__dpcc__config}{rkisp1\+\_\+ext\+\_\+params\+\_\+dpcc\+\_\+config} -\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__ext__params__block__header}{rkisp1\+\_\+ext\+\_\+params\+\_\+block\+\_\+header} -\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} type = RKISP1\+\_\+\+EXT\+\_\+\+PARAMS\+\_\+\+BLOCK\+\_\+\+TYPE\+\_\+\+DPCC; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} flags = RKISP1\+\_\+\+EXT\+\_\+\+PARAMS\+\_\+\+FL\+\_\+\+BLOCK\+\_\+\+ENABLE; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} size = sizeof(struct rkisp1\+\_\+ext\+\_\+params\+\_\+dpcc\+\_\+config); \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/--- struct \doxylink{structrkisp1__cif__isp__dpcc__config}{rkisp1\+\_\+cif\+\_\+isp\+\_\+dpcc\+\_\+config} -\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} mode = RKISP1\+\_\+\+CIF\+\_\+\+ISP\+\_\+\+DPCC\+\_\+\+MODE\+\_\+\+STAGE1\+\_\+\+ENABLE; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} output\+\_\+mode = \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} RKISP1\+\_\+\+CIF\+\_\+\+ISP\+\_\+\+DPCC\+\_\+\+OUTPUT\+\_\+\+MODE\+\_\+\+STAGE1\+\_\+\+INCL\+\_\+\+G\+\_\+\+CENTER; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} set\+\_\+use = ... ; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} ... = ... ; \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ \texorpdfstring{$\vert$}{|} +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+

\begin{DoxyVersion}{Version}
\+: The Rk\+ISP1 extensible parameters buffer version, see \+:c\+:type\+:{\ttfamily rksip1\+\_\+ext\+\_\+param\+\_\+buffer\+\_\+version} @data\+\_\+size\+: The Rk\+ISP1 configuration data effective size, excluding this header @data\+: The Rk\+ISP1 extensible configuration data blocks 
\end{DoxyVersion}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/linux/rkisp1-\/config.\+h\end{DoxyCompactItemize}
