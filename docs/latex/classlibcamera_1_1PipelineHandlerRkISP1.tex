\doxysection{libcamera\+::Pipeline\+Handler\+Rk\+ISP1 Class Reference}
\hypertarget{classlibcamera_1_1PipelineHandlerRkISP1}{}\label{classlibcamera_1_1PipelineHandlerRkISP1}\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
Inheritance diagram for libcamera\+::Pipeline\+Handler\+Rk\+ISP1\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.818792cm]{classlibcamera_1_1PipelineHandlerRkISP1}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_a6af35dc736700256d00586d4c0bd9f56}\label{classlibcamera_1_1PipelineHandlerRkISP1_a6af35dc736700256d00586d4c0bd9f56} 
{\bfseries Pipeline\+Handler\+Rk\+ISP1} (\mbox{\hyperlink{classlibcamera_1_1CameraManager}{Camera\+Manager}} \texorpdfstring{$\ast$}{*}manager)
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration}} $>$ \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_ae7c3bc2e3909e909fdc1aa70da353196}{generate\+Configuration}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera, \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ const \mbox{\hyperlink{namespacelibcamera_a295d1f5e7828d95c0b0aabc0a8baac03}{Stream\+Role}} $>$ roles) override
\begin{DoxyCompactList}\small\item\em Generate a camera configuration for a specified camera. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_a4f3701626ec6c1b1c6e548b858664515}{configure}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera, \mbox{\hyperlink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration}} \texorpdfstring{$\ast$}{*}config) override
\begin{DoxyCompactList}\small\item\em Configure a group of streams for capture. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_a612b7c082d7638f3479fff3c933684c9}{export\+Frame\+Buffers}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera, \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}} \texorpdfstring{$\ast$}{*}stream, std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} $>$ $>$ \texorpdfstring{$\ast$}{*}buffers) override
\begin{DoxyCompactList}\small\item\em Allocate and export buffers for {\itshape stream}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_a9983c4dd536fa208eff5e152858ba3c3}{start}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera, const \mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \texorpdfstring{$\ast$}{*}controls) override
\begin{DoxyCompactList}\small\item\em Start capturing from a group of streams. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_a7936b49427b77f55e0c4eabf57c4b0f1}{stop\+Device}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera) override
\begin{DoxyCompactList}\small\item\em Stop capturing from all running streams. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_ab33e25558c5bcf2ea8f8538098d4aab8}{queue\+Request\+Device}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera, \mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}request) override
\begin{DoxyCompactList}\small\item\em Queue a request to the device. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1PipelineHandlerRkISP1_a98b6cc232dbe72195593326f3c009a66}{match}} (\mbox{\hyperlink{classlibcamera_1_1DeviceEnumerator}{Device\+Enumerator}} \texorpdfstring{$\ast$}{*}enumerator) override
\begin{DoxyCompactList}\small\item\em Match media devices and create camera instances. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1PipelineHandler}{libcamera\+::\+Pipeline\+Handler}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a3cea76fe8af047ed648bee391be7d268}{Pipeline\+Handler}} (\mbox{\hyperlink{classlibcamera_1_1CameraManager}{Camera\+Manager}} \texorpdfstring{$\ast$}{*}manager)
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classlibcamera_1_1PipelineHandler}{Pipeline\+Handler} instance. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1MediaDevice}{Media\+Device}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a77e424fe704e7b26094164b9189e0f84}{acquire\+Media\+Device}} (\mbox{\hyperlink{classlibcamera_1_1DeviceEnumerator}{Device\+Enumerator}} \texorpdfstring{$\ast$}{*}enumerator, const \mbox{\hyperlink{classlibcamera_1_1DeviceMatch}{Device\+Match}} \&dm)
\begin{DoxyCompactList}\small\item\em Search and acquire a \doxylink{classlibcamera_1_1MediaDevice}{Media\+Device} matching a device pattern. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a57ddfa7d422aefd4f99a382d6d711ffa}{acquire}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera)
\begin{DoxyCompactList}\small\item\em Acquire exclusive access to the pipeline handler for the process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_aead119b03920f468fa3bd091bfd65e5b}{release}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera)
\begin{DoxyCompactList}\small\item\em Release exclusive access to the pipeline handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_ab30b037abfb09bd548c53c9f9196a184}{stop}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera)
\begin{DoxyCompactList}\small\item\em Stop capturing from all running streams and cancel pending requests. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_aac41ce2a1957534be1d1dd77145218e6}{has\+Pending\+Requests}} (const \mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera) const
\begin{DoxyCompactList}\small\item\em Determine if the camera has any requests pending. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a9ca1e760238bd7cce8b78092333e2c6a}{register\+Request}} (\mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}request)
\begin{DoxyCompactList}\small\item\em Register a request for use by the pipeline handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_aa82dffe399ac974ecb375cbb2a2074dd}{queue\+Request}} (\mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}request)
\begin{DoxyCompactList}\small\item\em Queue a request. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_ad388abbf81afa644f366326dc41d7b63}{complete\+Buffer}} (\mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}request, \mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} \texorpdfstring{$\ast$}{*}buffer)
\begin{DoxyCompactList}\small\item\em Complete a buffer for a request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a4184b62419a6e658c6a86438023519b2}{complete\+Request}} (\mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}request)
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Signal}{Signal} request completion. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_aa0b8456fa90a7395aab6452ce800a160}{cancel\+Request}} (\mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}request)
\begin{DoxyCompactList}\small\item\em Cancel request and signal its completion. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a6d96ced1bc15f35c8c7065a312931e30}{configuration\+File}} (const std\+::string \&subdir, const std\+::string \&\mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a48262f4e8cc73803f0aeea8229330ee4}{name}}) const
\begin{DoxyCompactList}\small\item\em Retrieve the absolute path to a platform configuration file. \end{DoxyCompactList}\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a48262f4e8cc73803f0aeea8229330ee4}{name}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the pipeline handler name \textbackslash{}context This function shall be \textbackslash{}threadsafe. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1CameraManager}{Camera\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_ac20b6e64ab88efefa436a06ffa1834c3}{camera\+Manager}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} that this pipeline handler belongs to \textbackslash{}context This function is \textbackslash{}threadsafe. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Object}{libcamera\+::\+Object}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1Object_a0425e0a986630b5881558378fad91687}{Object}} (\mbox{\hyperlink{classlibcamera_1_1Object}{Object}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1Object_a469143548519e7ac9525e5b2b45e983f}{parent}}=nullptr)
\begin{DoxyCompactList}\small\item\em Construct an \doxylink{classlibcamera_1_1Object}{Object} instance. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classlibcamera_1_1Object_ad52c17ff4161b166ae71e766d0649b97}{\texorpdfstring{$\sim$}{\string~}\+Object}} ()
\begin{DoxyCompactList}\small\item\em Destroy an \doxylink{classlibcamera_1_1Object}{Object} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Object_a7432a52a2e69a29cfe8144929686d1e6}{delete\+Later}} ()
\begin{DoxyCompactList}\small\item\em Schedule deletion of the instance in the thread it belongs to. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Object_af9ae92dfe5f3741c64ebdec61a2f5bef}{post\+Message}} (std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1Message}{Message}} $>$ msg)
\begin{DoxyCompactList}\small\item\em Post a message to the object\textquotesingle{}s thread. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T , typename R , typename... Func\+Args, typename... Args, std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+base\+\_\+of$<$ \mbox{\hyperlink{classlibcamera_1_1Object}{Object}}, T $>$\+::value $>$ \texorpdfstring{$\ast$}{*}  = nullptr$>$ }\\R \mbox{\hyperlink{classlibcamera_1_1Object_a2a4ea2209e289e2aabb75c5718d5b4a7}{invoke\+Method}} (R(T\+::\texorpdfstring{$\ast$}{*}func)(Func\+Args...), \mbox{\hyperlink{namespacelibcamera_ae2c8412791b9597d590a7d0b2c9e2919}{Connection\+Type}} type, Args \&\&... args)
\begin{DoxyCompactList}\small\item\em Invoke a method asynchronously on an \doxylink{classlibcamera_1_1Object}{Object} instance. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1Thread}{Thread}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1Object_aca52b8790edc25af65d6fe937355577b}{thread}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the thread the object is bound to \textbackslash{}context This function is \textbackslash{}threadsafe. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Object_a8045a16ae8a093722466ca7129db6fc2}{move\+To\+Thread}} (\mbox{\hyperlink{classlibcamera_1_1Thread}{Thread}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1Object_aca52b8790edc25af65d6fe937355577b}{thread}})
\begin{DoxyCompactList}\small\item\em Move the object and all its children to a different thread. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1Object}{Object}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1Object_a469143548519e7ac9525e5b2b45e983f}{parent}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the object\textquotesingle{}s parent. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1PipelineHandler}{libcamera\+::\+Pipeline\+Handler}}}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a97bc7a1ac8e7128d4b3dff91eb03f2a4}{register\+Camera}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} $>$ camera)
\begin{DoxyCompactList}\small\item\em Register a camera to the camera manager and pipeline handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a25b18b2f7a20e726485880cae509204d}{hotplug\+Media\+Device}} (\mbox{\hyperlink{classlibcamera_1_1MediaDevice}{Media\+Device}} \texorpdfstring{$\ast$}{*}media)
\begin{DoxyCompactList}\small\item\em Enable hotplug handling for a media device. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a6f7d619636c8988aeed3afd43ce8ed02}{acquire\+Device}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera)
\begin{DoxyCompactList}\small\item\em Acquire resources associated with this camera. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a53f4bee6b4c1f4b071b5e2f7584a93f8}{release\+Device}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}camera)
\begin{DoxyCompactList}\small\item\em Release resources associated with this camera. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Object}{libcamera\+::\+Object}}}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1Object_a5328cab1412743716aa2748eeded8e80}{message}} (\mbox{\hyperlink{classlibcamera_1_1Message}{Message}} \texorpdfstring{$\ast$}{*}msg)
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Message}{Message} handler for the object. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1Object_a6e81f2a2524dbe12daed49597cf66a57}{assert\+Thread\+Bound}} (const char \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1Object_a5328cab1412743716aa2748eeded8e80}{message}})
\begin{DoxyCompactList}\small\item\em Check if the caller complies with thread-\/bound constraints. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classlibcamera_1_1PipelineHandler}{libcamera\+::\+Pipeline\+Handler}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1CameraManager}{Camera\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_ae78c43450c383e9bb8757cf01c70dc4e}{manager\+\_\+}}
\begin{DoxyCompactList}\small\item\em The \doxylink{classlibcamera_1_1Camera}{Camera} manager associated with the pipeline handler. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_a4f3701626ec6c1b1c6e548b858664515}\label{classlibcamera_1_1PipelineHandlerRkISP1_a4f3701626ec6c1b1c6e548b858664515} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!configure@{configure}}
\index{configure@{configure}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{configure()}{configure()}}
{\footnotesize\ttfamily int libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::configure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera,  }\item[{\mbox{\hyperlink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration}} \texorpdfstring{$\ast$}{*}}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Configure a group of streams for capture. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to configure \\
\hline
\mbox{\texttt{ in}}  & {\em config} & The camera configurations to setup\\
\hline
\end{DoxyParams}
Configure the specified group of streams for {\itshape camera} according to the configuration specified in {\itshape config}. The intended caller of this interface is the \doxylink{classlibcamera_1_1Camera}{Camera} class which will receive configuration to apply from the application.

The configuration is guaranteed to have been validated with \doxylink{classlibcamera_1_1CameraConfiguration_a29f8f263384c6149775b6011c7397093}{Camera\+Configuration\+::validate()}. The pipeline handler implementation shall not perform further validation and may rely on any custom field stored in its custom \doxylink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration} derived class.

When configuring the camera the pipeline handler shall associate a \doxylink{classlibcamera_1_1Stream}{Stream} instance to each \doxylink{structlibcamera_1_1StreamConfiguration}{Stream\+Configuration} entry in the \doxylink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration} using the \doxylink{structlibcamera_1_1StreamConfiguration_a74a0eb44dad1b00112c7c0443ae54a12}{Stream\+Configuration\+::set\+Stream()} function.

\textbackslash{}context This function is called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a930f2a9cdfb51dfb4b9ca3824e84fc29}{libcamera\+::\+Pipeline\+Handler}}.

\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_a612b7c082d7638f3479fff3c933684c9}\label{classlibcamera_1_1PipelineHandlerRkISP1_a612b7c082d7638f3479fff3c933684c9} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!exportFrameBuffers@{exportFrameBuffers}}
\index{exportFrameBuffers@{exportFrameBuffers}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{exportFrameBuffers()}{exportFrameBuffers()}}
{\footnotesize\ttfamily int libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::export\+Frame\+Buffers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}} \texorpdfstring{$\ast$}{*}}]{stream,  }\item[{std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} $>$ $>$ \texorpdfstring{$\ast$}{*}}]{buffers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Allocate and export buffers for {\itshape stream}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera \\
\hline
\mbox{\texttt{ in}}  & {\em stream} & The stream to allocate buffers for \\
\hline
\mbox{\texttt{ out}}  & {\em buffers} & Array of buffers successfully allocated\\
\hline
\end{DoxyParams}
This function allocates buffers for the {\itshape stream} from the devices associated with the stream in the corresponding pipeline handler. Those buffers shall be suitable to be added to a \doxylink{classlibcamera_1_1Request}{Request} for the stream, and shall be mappable to the CPU through their associated dmabufs with mmap().

The function may only be called after the \doxylink{classlibcamera_1_1Camera}{Camera} has been configured and before it gets started, or after it gets stopped. It shall be called only for streams that are part of the active camera configuration.

The only intended caller is Camera\+::export\+Frame\+Buffers().

\textbackslash{}context This function is called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread.

\begin{DoxyReturn}{Returns}
The number of allocated buffers on success or a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a7d1ebc70382e672e5546cd5d6cdeca76}{libcamera\+::\+Pipeline\+Handler}}.

\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_ae7c3bc2e3909e909fdc1aa70da353196}\label{classlibcamera_1_1PipelineHandlerRkISP1_ae7c3bc2e3909e909fdc1aa70da353196} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!generateConfiguration@{generateConfiguration}}
\index{generateConfiguration@{generateConfiguration}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{generateConfiguration()}{generateConfiguration()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration}} $>$ libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::generate\+Configuration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ const \mbox{\hyperlink{namespacelibcamera_a295d1f5e7828d95c0b0aabc0a8baac03}{Stream\+Role}} $>$}]{roles }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Generate a camera configuration for a specified camera. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to generate a default configuration for \\
\hline
\mbox{\texttt{ in}}  & {\em roles} & A list of stream roles\\
\hline
\end{DoxyParams}
Generate a default configuration for the {\itshape camera} for a specified list of stream roles. The caller shall populate the {\itshape roles} with the use-\/cases it wishes to fetch the default configuration for. The returned configuration can then be examined by the caller to learn about the selected streams and their default parameters.

The intended companion to this is {\itshape \doxylink{classlibcamera_1_1PipelineHandlerRkISP1_a4f3701626ec6c1b1c6e548b858664515}{configure()}} which can be used to change the group of streams parameters.

\textbackslash{}context This function may be called from any thread and shall be \textbackslash{}threadsafe. It shall not modify the state of the {\itshape camera} in the pipeline handler.

\begin{DoxyReturn}{Returns}
A valid \doxylink{classlibcamera_1_1CameraConfiguration}{Camera\+Configuration} if the requested roles can be satisfied, or a null pointer otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a83bbbe0826fb159253535ef077cb4343}{libcamera\+::\+Pipeline\+Handler}}.

\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_a98b6cc232dbe72195593326f3c009a66}\label{classlibcamera_1_1PipelineHandlerRkISP1_a98b6cc232dbe72195593326f3c009a66} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!match@{match}}
\index{match@{match}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{match()}{match()}}
{\footnotesize\ttfamily bool libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::match (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1DeviceEnumerator}{Device\+Enumerator}} \texorpdfstring{$\ast$}{*}}]{enumerator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Match media devices and create camera instances. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em enumerator} & The enumerator providing all media devices found in the system\\
\hline
\end{DoxyParams}
This function is the main entry point of the pipeline handler. It is called by the camera manager with the {\itshape enumerator} passed as an argument. It shall acquire from the {\itshape enumerator} all the media devices it needs for a single pipeline, create one or multiple \doxylink{classlibcamera_1_1Camera}{Camera} instances and register them with the camera manager.

If all media devices needed by the pipeline handler are found, they must all be acquired by a call to \doxylink{classlibcamera_1_1MediaDevice_a02fd5f5a3d81330a87f1ee53511866ef}{Media\+Device\+::acquire()}. This function shall then create the corresponding \doxylink{classlibcamera_1_1Camera}{Camera} instances, store them internally, and return true. Otherwise it shall not acquire any media device (or shall release all the media devices is has acquired by calling \doxylink{classlibcamera_1_1MediaDevice_a511ae507d3fffc097e938a7f55eb801c}{Media\+Device\+::release()}) and return false.

If multiple instances of a pipeline are available in the system, the \doxylink{classlibcamera_1_1PipelineHandler}{Pipeline\+Handler} class will be instantiated once per instance, and its match() function called for every instance. Each call shall acquire media devices for one pipeline instance, until all compatible media devices are exhausted.

If this function returns true, a new instance of the pipeline handler will be created and its match() function called.

\textbackslash{}context This function is called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread.

\begin{DoxyReturn}{Returns}
true if media devices have been acquired and camera instances created, or false otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a7cd5b652a2414b543ec20ba9dabf61b6}{libcamera\+::\+Pipeline\+Handler}}.

\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_ab33e25558c5bcf2ea8f8538098d4aab8}\label{classlibcamera_1_1PipelineHandlerRkISP1_ab33e25558c5bcf2ea8f8538098d4aab8} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!queueRequestDevice@{queueRequestDevice}}
\index{queueRequestDevice@{queueRequestDevice}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{queueRequestDevice()}{queueRequestDevice()}}
{\footnotesize\ttfamily int libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::queue\+Request\+Device (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \texorpdfstring{$\ast$}{*}}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Queue a request to the device. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to queue the request to \\
\hline
\mbox{\texttt{ in}}  & {\em request} & The request to queue\\
\hline
\end{DoxyParams}
This function queues a capture request to the device for processing. The request contains a set of buffers associated with streams and a set of parameters. The pipeline handler shall program the device to ensure that the parameters will be applied to the frames captured in the buffers provided in the request.

\textbackslash{}context This function is called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a106914cca210640c9da9ee1f0419e83c}{libcamera\+::\+Pipeline\+Handler}}.

\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_a9983c4dd536fa208eff5e152858ba3c3}\label{classlibcamera_1_1PipelineHandlerRkISP1_a9983c4dd536fa208eff5e152858ba3c3} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!start@{start}}
\index{start@{start}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily int libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera,  }\item[{const \mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \texorpdfstring{$\ast$}{*}}]{controls }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Start capturing from a group of streams. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to start \\
\hline
\mbox{\texttt{ in}}  & {\em controls} & Controls to be applied before starting the \doxylink{classlibcamera_1_1Camera}{Camera}\\
\hline
\end{DoxyParams}
Start the group of streams that have been configured for capture by {\itshape \doxylink{classlibcamera_1_1PipelineHandlerRkISP1_a4f3701626ec6c1b1c6e548b858664515}{configure()}}. The intended caller of this function is the \doxylink{classlibcamera_1_1Camera}{Camera} class which will in turn be called from the application to indicate that it has configured the streams and is ready to capture.

\textbackslash{}context This function is called from the \doxylink{classlibcamera_1_1CameraManager}{Camera\+Manager} thread.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a55e09cd47690f72b7c93483dc1372626}{libcamera\+::\+Pipeline\+Handler}}.

\Hypertarget{classlibcamera_1_1PipelineHandlerRkISP1_a7936b49427b77f55e0c4eabf57c4b0f1}\label{classlibcamera_1_1PipelineHandlerRkISP1_a7936b49427b77f55e0c4eabf57c4b0f1} 
\index{libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}!stopDevice@{stopDevice}}
\index{stopDevice@{stopDevice}!libcamera::PipelineHandlerRkISP1@{libcamera::PipelineHandlerRkISP1}}
\doxysubsubsection{\texorpdfstring{stopDevice()}{stopDevice()}}
{\footnotesize\ttfamily void libcamera\+::\+Pipeline\+Handler\+Rk\+ISP1\+::stop\+Device (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Stop capturing from all running streams. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em camera} & The camera to stop\\
\hline
\end{DoxyParams}
This function stops capturing and processing requests immediately. All pending requests are cancelled and complete immediately in an error state. 

Implements \mbox{\hyperlink{classlibcamera_1_1PipelineHandler_a3080cc9159e9b31d4ea2376903b94efd}{libcamera\+::\+Pipeline\+Handler}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/src/libcamera/pipeline/rkisp1/rkisp1.\+cpp\end{DoxyCompactItemize}
