\doxysection{libcamera\+::ipa\+::Module\texorpdfstring{$<$}{<} \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classlibcamera_1_1ipa_1_1Module}{}\label{classlibcamera_1_1ipa_1_1Module}\index{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}}


The base class for all IPA modules.  


Inheritance diagram for libcamera\+::ipa\+::Module\texorpdfstring{$<$}{<} \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.199143cm]{classlibcamera_1_1ipa_1_1Module}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1ipa_1_1Module_a2a12d05faa4f517f4dfcfa087063fd27}\label{classlibcamera_1_1ipa_1_1Module_a2a12d05faa4f517f4dfcfa087063fd27} 
using {\bfseries Context} = \+\_\+\+Context
\begin{DoxyCompactList}\small\item\em The type of the shared IPA context. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ipa_1_1Module_a5a1bf7efd7811fb9da8ff311aeef3b1c}\label{classlibcamera_1_1ipa_1_1Module_a5a1bf7efd7811fb9da8ff311aeef3b1c} 
using {\bfseries Frame\+Context} = \+\_\+\+Frame\+Context
\begin{DoxyCompactList}\small\item\em The type of the frame context. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ipa_1_1Module_a7c0b7a42c526c07bafeca4018b38b8c9}\label{classlibcamera_1_1ipa_1_1Module_a7c0b7a42c526c07bafeca4018b38b8c9} 
using {\bfseries Config} = \+\_\+\+Config
\begin{DoxyCompactList}\small\item\em The type of the IPA configuration data. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ipa_1_1Module_a48ee62113eed1c9ad7a001887dc59674}\label{classlibcamera_1_1ipa_1_1Module_a48ee62113eed1c9ad7a001887dc59674} 
using {\bfseries Params} = \+\_\+\+Params
\begin{DoxyCompactList}\small\item\em The type of the ISP specific parameters. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ipa_1_1Module_afdcea0695dc0eb1226d66442a5647a41}\label{classlibcamera_1_1ipa_1_1Module_afdcea0695dc0eb1226d66442a5647a41} 
using {\bfseries Stats} = \+\_\+\+Stats
\begin{DoxyCompactList}\small\item\em The type of the IPA statistics and ISP results. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
const std\+::list$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Algorithm}{Algorithm}}$<$ \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module}{Module}} $>$ $>$ $>$ \& \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module_a99862ac2546d99418f1ac826af38c32a}{algorithms}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the list of instantiated algorithms. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module_acbc951fcbe0b8e25594abba03aa0f7d0}{create\+Algorithms}} (\mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module_a2a12d05faa4f517f4dfcfa087063fd27}{Context}} \&context, const \mbox{\hyperlink{classlibcamera_1_1YamlObject}{Yaml\+Object}} \&\mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module_a99862ac2546d99418f1ac826af38c32a}{algorithms}})
\begin{DoxyCompactList}\small\item\em Create algorithms from YAML configuration data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module_a62af12d353cea10272b2feb34671ef18}{register\+Algorithm}} (\mbox{\hyperlink{classlibcamera_1_1ipa_1_1AlgorithmFactoryBase}{Algorithm\+Factory\+Base}}$<$ \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module}{Module}} $>$ \texorpdfstring{$\ast$}{*}factory)
\begin{DoxyCompactList}\small\item\em Add an algorithm factory class to the list of available algorithms. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Loggable}{libcamera\+::\+Loggable}}}
\begin{DoxyCompactItemize}
\item 
virtual std\+::string \mbox{\hyperlink{classlibcamera_1_1Loggable_a4cc48b0ae7215ceb4bfae6f192b2b3ee}{log\+Prefix}} () const =0
\begin{DoxyCompactList}\small\item\em Retrieve a string to be prefixed to the log message. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1LogMessage}{Log\+Message}} \mbox{\hyperlink{classlibcamera_1_1Loggable_a56b00f844b75b5d08cad898ed9c6181e}{\+\_\+log}} (const \mbox{\hyperlink{classlibcamera_1_1LogCategory}{Log\+Category}} \texorpdfstring{$\ast$}{*}category, \mbox{\hyperlink{namespacelibcamera_a68f26f5a54a5bb105f2e7422215a0ca3}{Log\+Severity}} severity, const char \texorpdfstring{$\ast$}{*}file\+Name=\+\_\+\+\_\+builtin\+\_\+\+FILE(), unsigned int line=\+\_\+\+\_\+builtin\+\_\+\+LINE()) const
\begin{DoxyCompactList}\small\item\em Create a temporary \doxylink{classlibcamera_1_1LogMessage}{Log\+Message} object to log a message. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename \+\_\+\+Context, typename \+\_\+\+Frame\+Context, typename \+\_\+\+Config, typename \+\_\+\+Params, typename \+\_\+\+Stats$>$\newline
class libcamera\+::ipa\+::\+Module$<$ \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats $>$}
The base class for all IPA modules. 


\begin{DoxyTemplParams}{Template Parameters}
{\em Context} & The type of the shared IPA context \\
\hline
{\em \doxylink{structlibcamera_1_1ipa_1_1FrameContext}{Frame\+Context}} & The type of the frame context \\
\hline
{\em Config} & The type of the IPA configuration data \\
\hline
{\em Params} & The type of the ISP specific parameters \\
\hline
{\em Stats} & The type of the IPA statistics and ISP results\\
\hline
\end{DoxyTemplParams}
The \doxylink{classlibcamera_1_1ipa_1_1Module}{Module} class template defines a standard internal interface between IPA modules and libipa.

While IPA modules are platform-\/specific, many of their internal functions are conceptually similar, even if they take different types of platform-\/specifc parameters. For instance, IPA modules could share code that instantiates, initializes and run algorithms if it wasn\textquotesingle{}t for the fact that the the format of ISP parameters or statistics passed to the related functions is device-\/dependent.

To enable a shared implementation of those common tasks in libipa, the \doxylink{classlibcamera_1_1ipa_1_1Module}{Module} class template defines a standard internal interface between IPA modules and libipa. The template parameters specify the types of module-\/dependent data. IPA modules shall create a specialization of the \doxylink{classlibcamera_1_1ipa_1_1Module}{Module} class template in their namespace, and use it to specialize other classes of libipa, such as the \doxylink{classlibcamera_1_1ipa_1_1Algorithm}{Algorithm} class. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1ipa_1_1Module_a99862ac2546d99418f1ac826af38c32a}\label{classlibcamera_1_1ipa_1_1Module_a99862ac2546d99418f1ac826af38c32a} 
\index{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}!algorithms@{algorithms}}
\index{algorithms@{algorithms}!libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}}
\doxysubsubsection{\texorpdfstring{algorithms()}{algorithms()}}
{\footnotesize\ttfamily template$<$typename \+\_\+\+Context , typename \+\_\+\+Frame\+Context , typename \+\_\+\+Config , typename \+\_\+\+Params , typename \+\_\+\+Stats $>$ \\
\mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module}{libcamera\+::ipa\+::\+Module}}$<$ \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats $>$\+::algorithms (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the list of instantiated algorithms. 

\begin{DoxyReturn}{Returns}
The list of instantiated algorithms 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1ipa_1_1Module_acbc951fcbe0b8e25594abba03aa0f7d0}\label{classlibcamera_1_1ipa_1_1Module_acbc951fcbe0b8e25594abba03aa0f7d0} 
\index{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}!createAlgorithms@{createAlgorithms}}
\index{createAlgorithms@{createAlgorithms}!libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}}
\doxysubsubsection{\texorpdfstring{createAlgorithms()}{createAlgorithms()}}
{\footnotesize\ttfamily template$<$typename \+\_\+\+Context , typename \+\_\+\+Frame\+Context , typename \+\_\+\+Config , typename \+\_\+\+Params , typename \+\_\+\+Stats $>$ \\
\mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module}{libcamera\+::ipa\+::\+Module}}$<$ \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats $>$\+::create\+Algorithms (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module_a2a12d05faa4f517f4dfcfa087063fd27}{Context}} \&}]{context,  }\item[{const \mbox{\hyperlink{classlibcamera_1_1YamlObject}{Yaml\+Object}} \&}]{algorithms }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Create algorithms from YAML configuration data. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em context} & The IPA context \\
\hline
\mbox{\texttt{ in}}  & {\em algorithms} & Algorithms configuration data as a parsed \doxylink{classlibcamera_1_1YamlObject}{Yaml\+Object}\\
\hline
\end{DoxyParams}
This function iterates over the list of {\itshape algorithms} parsed from the YAML configuration file, and instantiates and initializes the corresponding algorithms. The configuration data is expected to be correct, any error causes the function to fail and return immediately.

\begin{DoxyReturn}{Returns}
0 on success, or a negative error code on failure 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1ipa_1_1Module_a62af12d353cea10272b2feb34671ef18}\label{classlibcamera_1_1ipa_1_1Module_a62af12d353cea10272b2feb34671ef18} 
\index{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}!registerAlgorithm@{registerAlgorithm}}
\index{registerAlgorithm@{registerAlgorithm}!libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$@{libcamera::ipa::Module$<$ \_Context, \_FrameContext, \_Config, \_Params, \_Stats $>$}}
\doxysubsubsection{\texorpdfstring{registerAlgorithm()}{registerAlgorithm()}}
{\footnotesize\ttfamily template$<$typename \+\_\+\+Context , typename \+\_\+\+Frame\+Context , typename \+\_\+\+Config , typename \+\_\+\+Params , typename \+\_\+\+Stats $>$ \\
\mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module}{libcamera\+::ipa\+::\+Module}}$<$ \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats $>$\+::register\+Algorithm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1ipa_1_1AlgorithmFactoryBase}{Algorithm\+Factory\+Base}}$<$ \mbox{\hyperlink{classlibcamera_1_1ipa_1_1Module}{Module}}$<$ \+\_\+\+Context, \+\_\+\+Frame\+Context, \+\_\+\+Config, \+\_\+\+Params, \+\_\+\+Stats $>$ $>$ \texorpdfstring{$\ast$}{*}}]{factory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Add an algorithm factory class to the list of available algorithms. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em factory} & Factory to use to construct the algorithm\\
\hline
\end{DoxyParams}
This function registers an algorithm factory. It is meant to be called by the \doxylink{classlibcamera_1_1ipa_1_1AlgorithmFactory}{Algorithm\+Factory} constructor only. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/src/ipa/libipa/\mbox{\hyperlink{libipa_2module_8h}{module.\+h}}\item 
src/peripherals/camera/libcamera/src/ipa/libipa/module.\+cpp\end{DoxyCompactItemize}
