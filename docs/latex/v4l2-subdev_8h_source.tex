\doxysection{v4l2-\/subdev.h}
\hypertarget{v4l2-subdev_8h_source}{}\label{v4l2-subdev_8h_source}\index{src/peripherals/camera/libcamera/include/linux/v4l2-\/subdev.h@{src/peripherals/camera/libcamera/include/linux/v4l2-\/subdev.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ SPDX-\/License-\/Identifier:\ GPL-\/2.0\ WITH\ Linux-\/syscall-\/note\ */}}
\DoxyCodeLine{00002\ \textcolor{comment}{/*}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ V4L2\ subdev\ userspace\ API}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ Copyright\ (C)\ 2010\ Nokia\ Corporation}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ Contacts:\ Laurent\ Pinchart\ <laurent.pinchart@ideasonboard.com>}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ \ \ \ \ \ \ Sakari\ Ailus\ <sakari.ailus@iki.fi>}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ \_\_LINUX\_V4L2\_SUBDEV\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ \_\_LINUX\_V4L2\_SUBDEV\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <linux/const.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <linux/ioctl.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <linux/types.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <linux/v4l2-\/common.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <linux/v4l2-\/mediabus.h>}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{enum}\ v4l2\_subdev\_format\_whence\ \{}
\DoxyCodeLine{00026\ \ \ \ \ V4L2\_SUBDEV\_FORMAT\_TRY\ =\ 0,}
\DoxyCodeLine{00027\ \ \ \ \ V4L2\_SUBDEV\_FORMAT\_ACTIVE\ =\ 1,}
\DoxyCodeLine{00028\ \};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structv4l2__subdev__format}{v4l2\_subdev\_format}}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00040\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{struct\ }v4l2\_mbus\_framefmt\ format;}
\DoxyCodeLine{00042\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00043\ \ \ \ \ \_\_u32\ reserved[7];}
\DoxyCodeLine{00044\ \};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structv4l2__subdev__crop}{v4l2\_subdev\_crop}}\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00060\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structv4l2__rect}{v4l2\_rect}}\ rect;}
\DoxyCodeLine{00062\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00063\ \ \ \ \ \_\_u32\ reserved[7];}
\DoxyCodeLine{00064\ \};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_MBUS\_CODE\_CSC\_COLORSPACE\ \ \ \ 0x00000001}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_MBUS\_CODE\_CSC\_XFER\_FUNC\ 0x00000002}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_MBUS\_CODE\_CSC\_YCBCR\_ENC\ 0x00000004}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_MBUS\_CODE\_CSC\_HSV\_ENC\ \ \ V4L2\_SUBDEV\_MBUS\_CODE\_CSC\_YCBCR\_ENC}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_MBUS\_CODE\_CSC\_QUANTIZATION\ \ 0x00000008}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00082\ \textcolor{keyword}{struct\ }v4l2\_subdev\_mbus\_code\_enum\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00084\ \ \ \ \ \_\_u32\ index;}
\DoxyCodeLine{00085\ \ \ \ \ \_\_u32\ code;}
\DoxyCodeLine{00086\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00087\ \ \ \ \ \_\_u32\ flags;}
\DoxyCodeLine{00088\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00089\ \ \ \ \ \_\_u32\ reserved[6];}
\DoxyCodeLine{00090\ \};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00105\ \textcolor{keyword}{struct\ }v4l2\_subdev\_frame\_size\_enum\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \_\_u32\ index;}
\DoxyCodeLine{00107\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00108\ \ \ \ \ \_\_u32\ code;}
\DoxyCodeLine{00109\ \ \ \ \ \_\_u32\ min\_width;}
\DoxyCodeLine{00110\ \ \ \ \ \_\_u32\ max\_width;}
\DoxyCodeLine{00111\ \ \ \ \ \_\_u32\ min\_height;}
\DoxyCodeLine{00112\ \ \ \ \ \_\_u32\ max\_height;}
\DoxyCodeLine{00113\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00114\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00115\ \ \ \ \ \_\_u32\ reserved[7];}
\DoxyCodeLine{00116\ \};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{struct\ }v4l2\_subdev\_frame\_interval\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structv4l2__fract}{v4l2\_fract}}\ interval;}
\DoxyCodeLine{00129\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00130\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00131\ \ \ \ \ \_\_u32\ reserved[7];}
\DoxyCodeLine{00132\ \};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00146\ \textcolor{keyword}{struct\ }v4l2\_subdev\_frame\_interval\_enum\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \_\_u32\ index;}
\DoxyCodeLine{00148\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00149\ \ \ \ \ \_\_u32\ code;}
\DoxyCodeLine{00150\ \ \ \ \ \_\_u32\ width;}
\DoxyCodeLine{00151\ \ \ \ \ \_\_u32\ height;}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structv4l2__fract}{v4l2\_fract}}\ interval;}
\DoxyCodeLine{00153\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00154\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00155\ \ \ \ \ \_\_u32\ reserved[7];}
\DoxyCodeLine{00156\ \};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00174\ \textcolor{keyword}{struct\ }v4l2\_subdev\_selection\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00176\ \ \ \ \ \_\_u32\ pad;}
\DoxyCodeLine{00177\ \ \ \ \ \_\_u32\ target;}
\DoxyCodeLine{00178\ \ \ \ \ \_\_u32\ flags;}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structv4l2__rect}{v4l2\_rect}}\ r;}
\DoxyCodeLine{00180\ \ \ \ \ \_\_u32\ stream;}
\DoxyCodeLine{00181\ \ \ \ \ \_\_u32\ reserved[7];}
\DoxyCodeLine{00182\ \};}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00190\ \textcolor{keyword}{struct\ }v4l2\_subdev\_capability\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \_\_u32\ version;}
\DoxyCodeLine{00192\ \ \ \ \ \_\_u32\ capabilities;}
\DoxyCodeLine{00193\ \ \ \ \ \_\_u32\ reserved[14];}
\DoxyCodeLine{00194\ \};}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{comment}{/*\ The\ v4l2\ sub-\/device\ video\ device\ node\ is\ registered\ in\ read-\/only\ mode.\ */}}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_CAP\_RO\_SUBDEV\ \ \ \ \ \ \ 0x00000001}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \textcolor{comment}{/*\ The\ v4l2\ sub-\/device\ supports\ routing\ and\ multiplexed\ streams.\ */}}
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_CAP\_STREAMS\ \ \ \ \ \ \ \ \ 0x00000002}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{comment}{/*}}
\DoxyCodeLine{00203\ \textcolor{comment}{\ *\ Is\ the\ route\ active?\ An\ active\ route\ will\ start\ when\ streaming\ is\ enabled}}
\DoxyCodeLine{00204\ \textcolor{comment}{\ *\ on\ a\ video\ node.}}
\DoxyCodeLine{00205\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_ROUTE\_FL\_ACTIVE\ \ \ \ \ (1U\ <<\ 0)}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00218\ \textcolor{keyword}{struct\ }v4l2\_subdev\_route\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \_\_u32\ sink\_pad;}
\DoxyCodeLine{00220\ \ \ \ \ \_\_u32\ sink\_stream;}
\DoxyCodeLine{00221\ \ \ \ \ \_\_u32\ source\_pad;}
\DoxyCodeLine{00222\ \ \ \ \ \_\_u32\ source\_stream;}
\DoxyCodeLine{00223\ \ \ \ \ \_\_u32\ flags;}
\DoxyCodeLine{00224\ \ \ \ \ \_\_u32\ reserved[5];}
\DoxyCodeLine{00225\ \};}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00238\ \textcolor{keyword}{struct\ }v4l2\_subdev\_routing\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \_\_u32\ which;}
\DoxyCodeLine{00240\ \ \ \ \ \_\_u32\ len\_routes;}
\DoxyCodeLine{00241\ \ \ \ \ \_\_u64\ routes;}
\DoxyCodeLine{00242\ \ \ \ \ \_\_u32\ num\_routes;}
\DoxyCodeLine{00243\ \ \ \ \ \_\_u32\ reserved[11];}
\DoxyCodeLine{00244\ \};}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \textcolor{comment}{/*}}
\DoxyCodeLine{00247\ \textcolor{comment}{\ *\ The\ client\ is\ aware\ of\ streams.\ Setting\ this\ flag\ enables\ the\ use\ of\ 'stream'}}
\DoxyCodeLine{00248\ \textcolor{comment}{\ *\ fields\ (referring\ to\ the\ stream\ number)\ with\ various\ ioctls.\ If\ this\ is\ not}}
\DoxyCodeLine{00249\ \textcolor{comment}{\ *\ set\ (which\ is\ the\ default),\ the\ 'stream'\ fields\ will\ be\ forced\ to\ 0\ by\ the}}
\DoxyCodeLine{00250\ \textcolor{comment}{\ *\ kernel.}}
\DoxyCodeLine{00251\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00252\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_CLIENT\_CAP\_STREAMS\ \ \ \ \ \ \ \ \ \ (1ULL\ <<\ 0)}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \textcolor{comment}{/*}}
\DoxyCodeLine{00255\ \textcolor{comment}{\ *\ The\ client\ is\ aware\ of\ the\ struct\ v4l2\_subdev\_frame\_interval\ which\ field.\ If}}
\DoxyCodeLine{00256\ \textcolor{comment}{\ *\ this\ is\ not\ set\ (which\ is\ the\ default),\ the\ which\ field\ is\ forced\ to}}
\DoxyCodeLine{00257\ \textcolor{comment}{\ *\ V4L2\_SUBDEV\_FORMAT\_ACTIVE\ by\ the\ kernel.}}
\DoxyCodeLine{00258\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#define\ V4L2\_SUBDEV\_CLIENT\_CAP\_INTERVAL\_USES\_WHICH\ \ (1ULL\ <<\ 1)}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00267\ \textcolor{keyword}{struct\ }v4l2\_subdev\_client\_capability\ \{}
\DoxyCodeLine{00268\ \ \ \ \ \_\_u64\ capabilities;}
\DoxyCodeLine{00269\ \};}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \textcolor{comment}{/*\ Backwards\ compatibility\ define\ -\/-\/-\/\ to\ be\ removed\ */}}
\DoxyCodeLine{00272\ \textcolor{preprocessor}{\#define\ v4l2\_subdev\_edid\ v4l2\_edid}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_QUERYCAP\ \ \ \ \ \ \ \ \ \ \_IOR('V',\ \ 0,\ struct\ v4l2\_subdev\_capability)}}
\DoxyCodeLine{00275\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_FMT\ \ \ \ \ \ \ \ \ \_IOWR('V',\ \ 4,\ struct\ v4l2\_subdev\_format)}}
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_FMT\ \ \ \ \ \ \ \ \ \_IOWR('V',\ \ 5,\ struct\ v4l2\_subdev\_format)}}
\DoxyCodeLine{00277\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_FRAME\_INTERVAL\ \ \ \ \ \ \_IOWR('V',\ 21,\ struct\ v4l2\_subdev\_frame\_interval)}}
\DoxyCodeLine{00278\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_FRAME\_INTERVAL\ \ \ \ \ \ \_IOWR('V',\ 22,\ struct\ v4l2\_subdev\_frame\_interval)}}
\DoxyCodeLine{00279\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_ENUM\_MBUS\_CODE\ \ \ \ \ \ \ \ \_IOWR('V',\ \ 2,\ struct\ v4l2\_subdev\_mbus\_code\_enum)}}
\DoxyCodeLine{00280\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_ENUM\_FRAME\_SIZE\ \ \ \ \ \ \ \_IOWR('V',\ 74,\ struct\ v4l2\_subdev\_frame\_size\_enum)}}
\DoxyCodeLine{00281\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_ENUM\_FRAME\_INTERVAL\ \ \ \_IOWR('V',\ 75,\ struct\ v4l2\_subdev\_frame\_interval\_enum)}}
\DoxyCodeLine{00282\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_CROP\ \ \ \ \ \ \ \ \ \ \ \ \_IOWR('V',\ 59,\ struct\ v4l2\_subdev\_crop)}}
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_CROP\ \ \ \ \ \ \ \ \ \ \ \ \_IOWR('V',\ 60,\ struct\ v4l2\_subdev\_crop)}}
\DoxyCodeLine{00284\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_SELECTION\ \ \ \ \ \ \ \_IOWR('V',\ 61,\ struct\ v4l2\_subdev\_selection)}}
\DoxyCodeLine{00285\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_SELECTION\ \ \ \ \ \ \ \_IOWR('V',\ 62,\ struct\ v4l2\_subdev\_selection)}}
\DoxyCodeLine{00286\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_ROUTING\ \ \ \ \ \ \ \ \ \_IOWR('V',\ 38,\ struct\ v4l2\_subdev\_routing)}}
\DoxyCodeLine{00287\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_ROUTING\ \ \ \ \ \ \ \ \ \_IOWR('V',\ 39,\ struct\ v4l2\_subdev\_routing)}}
\DoxyCodeLine{00288\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_CLIENT\_CAP\ \ \ \ \ \ \_IOR('V',\ \ 101,\ struct\ v4l2\_subdev\_client\_capability)}}
\DoxyCodeLine{00289\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_CLIENT\_CAP\ \ \ \ \ \ \_IOWR('V',\ \ 102,\ struct\ v4l2\_subdev\_client\_capability)}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \textcolor{comment}{/*\ The\ following\ ioctls\ are\ identical\ to\ the\ ioctls\ in\ videodev2.h\ */}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_STD\ \ \ \ \ \ \ \ \ \_IOR('V',\ 23,\ v4l2\_std\_id)}}
\DoxyCodeLine{00293\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_STD\ \ \ \ \ \ \ \ \ \_IOW('V',\ 24,\ v4l2\_std\_id)}}
\DoxyCodeLine{00294\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_ENUMSTD\ \ \ \ \ \ \ \ \ \ \ \_IOWR('V',\ 25,\ struct\ v4l2\_standard)}}
\DoxyCodeLine{00295\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_EDID\ \ \ \ \ \ \ \ \ \ \ \ \_IOWR('V',\ 40,\ struct\ v4l2\_edid)}}
\DoxyCodeLine{00296\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_EDID\ \ \ \ \ \ \ \ \ \ \ \ \_IOWR('V',\ 41,\ struct\ v4l2\_edid)}}
\DoxyCodeLine{00297\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_QUERYSTD\ \ \ \ \ \ \ \ \ \ \_IOR('V',\ 63,\ v4l2\_std\_id)}}
\DoxyCodeLine{00298\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_S\_DV\_TIMINGS\ \ \ \ \ \ \_IOWR('V',\ 87,\ struct\ v4l2\_dv\_timings)}}
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_G\_DV\_TIMINGS\ \ \ \ \ \ \_IOWR('V',\ 88,\ struct\ v4l2\_dv\_timings)}}
\DoxyCodeLine{00300\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_ENUM\_DV\_TIMINGS\ \ \ \ \ \ \ \_IOWR('V',\ 98,\ struct\ v4l2\_enum\_dv\_timings)}}
\DoxyCodeLine{00301\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_QUERY\_DV\_TIMINGS\ \ \ \ \ \ \_IOR('V',\ 99,\ struct\ v4l2\_dv\_timings)}}
\DoxyCodeLine{00302\ \textcolor{preprocessor}{\#define\ VIDIOC\_SUBDEV\_DV\_TIMINGS\_CAP\ \ \ \ \ \ \ \ \_IOWR('V',\ 100,\ struct\ v4l2\_dv\_timings\_cap)}}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
