\doxysection{v4l2\+\_\+subdevice.\+h}
\hypertarget{v4l2__subdevice_8h_source}{}\label{v4l2__subdevice_8h_source}\index{src/peripherals/camera/libcamera/include/libcamera/internal/v4l2\_subdevice.h@{src/peripherals/camera/libcamera/include/libcamera/internal/v4l2\_subdevice.h}}
\mbox{\hyperlink{v4l2__subdevice_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ SPDX-\/License-\/Identifier:\ LGPL-\/2.1-\/or-\/later\ */}}
\DoxyCodeLine{00002\ \textcolor{comment}{/*}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ (C)\ 2019,\ Google\ Inc.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ V4L2\ Subdevice}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <ostream>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <linux/v4l2-\/subdev.h>}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{class_8h}{libcamera/base/class.h}}>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{libcamera_2base_2log_8h}{libcamera/base/log.h}}>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{color__space_8h}{libcamera/color\_space.h}}>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{geometry_8h}{libcamera/geometry.h}}>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{formats_8h}{libcamera/internal/formats.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{media__object_8h}{libcamera/internal/media\_object.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{v4l2__device_8h}{libcamera/internal/v4l2\_device.h}}"{}}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacelibcamera}{libcamera}}\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{class\ }MediaDevice;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo}{MediaBusFormatInfo}}}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_ad94d035569f86104bdea5194d30e9b03}{Type}}\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_ad94d035569f86104bdea5194d30e9b03abe53a0541a6d36f6ecb879fa2c584b08}{Image}},}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_ad94d035569f86104bdea5194d30e9b03ace21470ab49d1d1976bc3dc72438c183}{Metadata}},}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_ad94d035569f86104bdea5194d30e9b03aa7c4c0dd6b570e011f1bb75abaf67e05}{EmbeddedData}},}
\DoxyCodeLine{00039\ \ \ \ \ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_a447212f2d5b1b3dd75eca932f2c4c3d5}{isValid}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_a96501d70f27fcbe367ff193bcd4e0cdf}{code}}\ !=\ 0;\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo}{MediaBusFormatInfo}}\ \&\mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_abfba3bc836c01fce02f2ac87def42dcc}{info}}(uint32\_t\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_a96501d70f27fcbe367ff193bcd4e0cdf}{code}});}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_aaf3728beb96e91bcc03bcadc19e19966}{name}};}
\DoxyCodeLine{00046\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_a96501d70f27fcbe367ff193bcd4e0cdf}{code}};}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_ad94d035569f86104bdea5194d30e9b03}{Type}}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_aae4530e7e504506d9bb00ceab4eacf09}{type}};}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_a0e717dca2688c3f14aa5afdb04426de0}{bitsPerPixel}};}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1PixelFormatInfo_a021bf0e82baec37b1523baa3322dc23c}{PixelFormatInfo::ColourEncoding}}\ \mbox{\hyperlink{classlibcamera_1_1MediaBusFormatInfo_ade579e4bae68eae9929adc415d583a28}{colourEncoding}};}
\DoxyCodeLine{00050\ \};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceCapability}{V4L2SubdeviceCapability}}\ final\ :\ v4l2\_subdev\_capability\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceCapability_a9318f746e6fedaaff99b3caac3a590ee}{isReadOnly}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00054\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ capabilities\ \&\ V4L2\_SUBDEV\_CAP\_RO\_SUBDEV;}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceCapability_aca46bbe82ee97ae1f8bcc8cb43ec3393}{hasStreams}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00058\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ capabilities\ \&\ V4L2\_SUBDEV\_CAP\_STREAMS;}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ \};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4L2SubdeviceFormat}}\ \{}
\DoxyCodeLine{00064\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat_a0f0310c7ffd3b54846b5ef4ce768a4da}{code}};}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1Size}{Size}}\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat_ac14df263a52357c920e3ea55d587950f}{size}};}
\DoxyCodeLine{00066\ \ \ \ \ std::optional<ColorSpace>\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat_a034b0bb3ccc3b30318c3e5f764f2dfa0}{colorSpace}};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat_a16428e7d36e5d3dfcde4c05ad59c0db7}{toString}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00069\ \};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ std::ostream\ \&operator<<(std::ostream\ \&out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4L2SubdeviceFormat}}\ \&f);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4L2Subdevice}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Device}{V4L2Device}}}
\DoxyCodeLine{00074\ \{}
\DoxyCodeLine{00075\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}{Formats}}\ =\ std::map<unsigned\ int,\ std::vector<SizeRange>>;}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{TryFormat}}\ =\ V4L2\_SUBDEV\_FORMAT\_TRY,}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}}\ =\ V4L2\_SUBDEV\_FORMAT\_ACTIVE,}
\DoxyCodeLine{00081\ \ \ \ \ \};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}}\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a5d1b430b5abd42ea2837975647ce6fa4}{Stream}}()}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a77372311a67097e801bfa5c44cd9d1ec}{pad}}(0),\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a0ec2537e5634f7ad92060e11df90b11b}{stream}}(0)}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a0aaf3ae80c438a04a84e681ffe3b790b}{Stream}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ p,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ s)}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a77372311a67097e801bfa5c44cd9d1ec}{pad}}(p),\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a0ec2537e5634f7ad92060e11df90b11b}{stream}}(s)}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a77372311a67097e801bfa5c44cd9d1ec}{pad}};}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream_a0ec2537e5634f7ad92060e11df90b11b}{stream}};}
\DoxyCodeLine{00096\ \ \ \ \ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route}{Route}}\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a69334c375e5b4a485ffa7de70d34d441}{Route}}()}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a75f93f5e920a8d32c23dcd0caa3081a8}{flags}}(0)}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_aaa136d7b5c63a3038e824219bd247207}{Route}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}}\ \&snk,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}}\ \&src,\ uint32\_t\ f)}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a0bf77af3068f3f7c864848bd8efc0971}{sink}}(snk),\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a8c942bbb30c5aa49a2b708c623fe7621}{source}}(src),\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a75f93f5e920a8d32c23dcd0caa3081a8}{flags}}(f)}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}}\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a0bf77af3068f3f7c864848bd8efc0971}{sink}};}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}}\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a8c942bbb30c5aa49a2b708c623fe7621}{source}};}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ uint32\_t\ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route_a75f93f5e920a8d32c23dcd0caa3081a8}{flags}};}
\DoxyCodeLine{00112\ \ \ \ \ \};}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}}\ =\ std::vector<Route>;}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4L2Subdevice}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{MediaEntity}}\ *\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}{entity}});}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{\string~V4L2Subdevice}}();}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a3bb955aa504fdaca8b068ea6936b39e8}{open}}();}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{MediaEntity}}\ *\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}{entity}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ entity\_;\ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a73ac07ba76587bb56181aa699cd15554}{getSelection}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ target,}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}}\ *rect);}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a3a26549de04b49ff3fbd94f0f2448706}{getSelection}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ pad,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ target,\ \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}}\ *rect)}
\DoxyCodeLine{00126\ \ \ \ \ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a73ac07ba76587bb56181aa699cd15554}{getSelection}}(\{\ pad,\ 0\ \},\ target,\ rect);}
\DoxyCodeLine{00128\ \ \ \ \ \}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a62c91acb30f22a4b526b157c03d2cc60}{setSelection}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ target,}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}}\ *rect);}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a8e021fbbd868e89103c0619afce3470b}{setSelection}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ pad,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ target,\ \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}}\ *rect)}
\DoxyCodeLine{00132\ \ \ \ \ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a62c91acb30f22a4b526b157c03d2cc60}{setSelection}}(\{\ pad,\ 0\ \},\ target,\ rect);}
\DoxyCodeLine{00134\ \ \ \ \ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}{Formats}}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_aa6c2f0770e41684df0fa0789f9f1e37f}{formats}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream);}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}{Formats}}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_aa5f63a79195261e864e4d1d7d454e6de}{formats}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ pad)}
\DoxyCodeLine{00138\ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_aa6c2f0770e41684df0fa0789f9f1e37f}{formats}}(\{\ pad,\ 0\ \});}
\DoxyCodeLine{00140\ \ \ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{getFormat}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream,\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4L2SubdeviceFormat}}\ *format,}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence\ =\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}});}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ac4e02479daeb7e39cbc73d296203fbcd}{getFormat}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ pad,\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4L2SubdeviceFormat}}\ *format,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence\ =\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}})}
\DoxyCodeLine{00146\ \ \ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{getFormat}}(\{\ pad,\ 0\ \},\ format,\ whence);}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4}{setFormat}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream,\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4L2SubdeviceFormat}}\ *format,}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence\ =\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}});}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a3dcfc24701b847dd318f8b6321933368}{setFormat}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ pad,\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4L2SubdeviceFormat}}\ *format,}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence\ =\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}})}
\DoxyCodeLine{00153\ \ \ \ \ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4}{setFormat}}(\{\ pad,\ 0\ \},\ format,\ whence);}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ae9c19611e4a42ee9b2a7bf8931eb076c}{getRouting}}(\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}}\ *routing,\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence\ =\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}});}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a457630ab43d822769aa1053d03310454}{setRouting}}(\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}}\ *routing,\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence\ =\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{ActiveFormat}});}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ac8e06bbad91b294a1ac6fe4568986b9b}{model}}();}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceCapability}{V4L2SubdeviceCapability}}\ \&\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a6f6a0a70ccd8c89f8d91efb4799eaae0}{caps}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ caps\_;\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<V4L2Subdevice>}
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a35a7e3645918e7694c371a77ad5c3f64}{fromEntityName}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1MediaDevice}{MediaDevice}}\ *media,\ \textcolor{keyword}{const}\ std::string\ \&\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}{entity}});}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00167\ \ \ \ \ std::string\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a41a4a5e9c16871c69ac235545b88346a}{logPrefix}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{class_8h_ace000c18250df4aeac259f1ab739c655}{LIBCAMERA\_DISABLE\_COPY}}(\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4L2Subdevice}})}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ std::optional<ColorSpace>}
\DoxyCodeLine{00173\ \ \ \ \ toColorSpace(\textcolor{keyword}{const}\ v4l2\_mbus\_framefmt\ \&format)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ std::vector<unsigned\ int>\ enumPadCodes(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream);}
\DoxyCodeLine{00176\ \ \ \ \ std::vector<SizeRange>\ enumPadSizes(\textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1Stream}{Stream}}\ \&stream,}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ code);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordtype}{int}\ getRoutingLegacy(\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}}\ *routing,\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence);}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{int}\ setRoutingLegacy(\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}}\ *routing,\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}\ whence);}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{MediaEntity}}\ *entity\_;}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \ \ std::string\ model\_;}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceCapability}{V4L2SubdeviceCapability}}\ caps\_;}
\DoxyCodeLine{00186\ \};}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ V4L2Subdevice::Stream\ \&lhs,\ \textcolor{keyword}{const}\ V4L2Subdevice::Stream\ \&rhs);}
\DoxyCodeLine{00189\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ V4L2Subdevice::Stream\ \&lhs,}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ V4L2Subdevice::Stream\ \&rhs)}
\DoxyCodeLine{00191\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordflow}{return}\ !(lhs\ ==\ rhs);}
\DoxyCodeLine{00193\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ std::ostream\ \&operator<<(std::ostream\ \&out,\ \textcolor{keyword}{const}\ V4L2Subdevice::Stream\ \&stream);}
\DoxyCodeLine{00196\ std::ostream\ \&operator<<(std::ostream\ \&out,\ \textcolor{keyword}{const}\ V4L2Subdevice::Route\ \&route);}
\DoxyCodeLine{00197\ std::ostream\ \&operator<<(std::ostream\ \&out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{V4L2Subdevice::Routing}}\ \&routing);}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \}\ \textcolor{comment}{/*\ namespace\ libcamera\ */}}

\end{DoxyCode}
