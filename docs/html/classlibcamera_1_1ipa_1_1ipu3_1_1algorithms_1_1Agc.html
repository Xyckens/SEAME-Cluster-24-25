<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JetPackJoyRide: libcamera::ipa::ipu3::algorithms::Agc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JetPackJoyRide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="namespacelibcamera_1_1ipa.html">ipa</a></li><li class="navelem"><b>ipu3</b></li><li class="navelem"><b>algorithms</b></li><li class="navelem"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html">Agc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">libcamera::ipa::ipu3::algorithms::Agc Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A mean-based auto-exposure algorithm.  
 <a href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for libcamera::ipa::ipu3::algorithms::Agc:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.png" usemap="#libcamera::ipa::ipu3::algorithms::Agc_map" alt=""/>
  <map id="libcamera::ipa::ipu3::algorithms::Agc_map" name="libcamera::ipa::ipu3::algorithms::Agc_map">
<area href="classlibcamera_1_1ipa_1_1Algorithm.html" alt="libcamera::ipa::Algorithm&lt; Module &gt;" shape="rect" coords="0,0,215,24"/>
<area href="classlibcamera_1_1ipa_1_1AgcMeanLuminance.html" title="A mean-based auto-exposure algorithm." alt="libcamera::ipa::AgcMeanLuminance" shape="rect" coords="225,0,440,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aae955ad77b9a52e979b8b38b25ae01ef" id="r_aae955ad77b9a52e979b8b38b25ae01ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html#aae955ad77b9a52e979b8b38b25ae01ef">init</a> (<a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;context, const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;tuningData) override</td></tr>
<tr class="memdesc:aae955ad77b9a52e979b8b38b25ae01ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the AGC algorithm from tuning files.  <br /></td></tr>
<tr class="separator:aae955ad77b9a52e979b8b38b25ae01ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480e95b5d6e07b2bd8b15e7c448457d1" id="r_a480e95b5d6e07b2bd8b15e7c448457d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html#a480e95b5d6e07b2bd8b15e7c448457d1">configure</a> (<a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;context, const IPAConfigInfo &amp;configInfo) override</td></tr>
<tr class="memdesc:a480e95b5d6e07b2bd8b15e7c448457d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the AGC given a configInfo.  <br /></td></tr>
<tr class="separator:a480e95b5d6e07b2bd8b15e7c448457d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2559951592bcfd9792bda394a8d4e79b" id="r_a2559951592bcfd9792bda394a8d4e79b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html#a2559951592bcfd9792bda394a8d4e79b">process</a> (<a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;context, const uint32_t frame, <a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAFrameContext.html">IPAFrameContext</a> &amp;frameContext, const <a class="el" href="structipu3__uapi__stats__3a.html">ipu3_uapi_stats_3a</a> *stats, <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;metadata) override</td></tr>
<tr class="memdesc:a2559951592bcfd9792bda394a8d4e79b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibcamera_1_1Process.html" title="Process object.">Process</a> IPU3 statistics, and run AGC operations.  <br /></td></tr>
<tr class="separator:a2559951592bcfd9792bda394a8d4e79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlibcamera_1_1ipa_1_1Algorithm')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm&lt; Module &gt;</a></td></tr>
<tr class="memitem:a68ad78f4d948f8cebefaaae22b743687 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a68ad78f4d948f8cebefaaae22b743687"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a68ad78f4d948f8cebefaaae22b743687">init</a> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;tuningData)</td></tr>
<tr class="memdesc:a68ad78f4d948f8cebefaaae22b743687 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> with tuning data.  <br /></td></tr>
<tr class="separator:a68ad78f4d948f8cebefaaae22b743687 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3cd461b46cdd1d366bf211f87d8f3d inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a5e3cd461b46cdd1d366bf211f87d8f3d"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a5e3cd461b46cdd1d366bf211f87d8f3d">configure</a> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a7c0b7a42c526c07bafeca4018b38b8c9">Module::Config</a> &amp;configInfo)</td></tr>
<tr class="memdesc:a5e3cd461b46cdd1d366bf211f87d8f3d inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> given an IPAConfigInfo.  <br /></td></tr>
<tr class="separator:a5e3cd461b46cdd1d366bf211f87d8f3d inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307cf5dd6b48ccc1c772901c07e14afe inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a307cf5dd6b48ccc1c772901c07e14afe"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a307cf5dd6b48ccc1c772901c07e14afe">queueRequest</a> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const uint32_t frame, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, const <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;controls)</td></tr>
<tr class="memdesc:a307cf5dd6b48ccc1c772901c07e14afe inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide control values to the algorithm.  <br /></td></tr>
<tr class="separator:a307cf5dd6b48ccc1c772901c07e14afe inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5e02af3c5966e4ceaaacf9c48c2a3b inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_adb5e02af3c5966e4ceaaacf9c48c2a3b"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>prepare</b> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const uint32_t frame, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a48ee62113eed1c9ad7a001887dc59674">Module::Params</a> *params)</td></tr>
<tr class="separator:adb5e02af3c5966e4ceaaacf9c48c2a3b inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3c85b3838ce7c1780b46f09ad16e59 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a1b3c85b3838ce7c1780b46f09ad16e59"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>process</b> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const uint32_t frame, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#afdcea0695dc0eb1226d66442a5647a41">Module::Stats</a> *stats, <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;metadata)</td></tr>
<tr class="separator:a1b3c85b3838ce7c1780b46f09ad16e59 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlibcamera_1_1ipa_1_1AgcMeanLuminance.html">libcamera::ipa::AgcMeanLuminance</a></td></tr>
<tr class="memitem:aaffc93f92dba52ab302ad086ae4824a5 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_aaffc93f92dba52ab302ad086ae4824a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1AgcMeanLuminance.html#aaffc93f92dba52ab302ad086ae4824a5">parseTuningData</a> (const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;tuningData)</td></tr>
<tr class="memdesc:aaffc93f92dba52ab302ad086ae4824a5 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse tuning data for AeConstraintMode and AeExposureMode controls.  <br /></td></tr>
<tr class="separator:aaffc93f92dba52ab302ad086ae4824a5 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c6f120a1f4ce2cc82afde8254fbd3d inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_a31c6f120a1f4ce2cc82afde8254fbd3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1AgcMeanLuminance.html#a31c6f120a1f4ce2cc82afde8254fbd3d">setLimits</a> (<a class="el" href="classlibcamera_1_1utils_1_1Duration.html">utils::Duration</a> minExposureTime, <a class="el" href="classlibcamera_1_1utils_1_1Duration.html">utils::Duration</a> maxExposureTime, double minGain, double maxGain)</td></tr>
<tr class="memdesc:a31c6f120a1f4ce2cc82afde8254fbd3d inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the <a class="el" href="classlibcamera_1_1ipa_1_1ExposureModeHelper.html" title="Class for splitting exposure into exposure time and total gain.">ExposureModeHelper</a> limits for this class.  <br /></td></tr>
<tr class="separator:a31c6f120a1f4ce2cc82afde8254fbd3d inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9697469979610c52678a95106acbd134 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_a9697469979610c52678a95106acbd134"><td class="memItemLeft" align="right" valign="top">
std::map&lt; int32_t, std::vector&lt; <a class="el" href="structlibcamera_1_1ipa_1_1AgcMeanLuminance_1_1AgcConstraint.html">AgcConstraint</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>constraintModes</b> ()</td></tr>
<tr class="memdesc:a9697469979610c52678a95106acbd134 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the constraint modes that have been parsed from tuning data. <br /></td></tr>
<tr class="separator:a9697469979610c52678a95106acbd134 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25c246b2c3caa93f2483773169c19c3 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_af25c246b2c3caa93f2483773169c19c3"><td class="memItemLeft" align="right" valign="top">
std::map&lt; int32_t, std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1ipa_1_1ExposureModeHelper.html">ExposureModeHelper</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>exposureModeHelpers</b> ()</td></tr>
<tr class="memdesc:af25c246b2c3caa93f2483773169c19c3 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ExposureModeHelpers that have been parsed from tuning data. <br /></td></tr>
<tr class="separator:af25c246b2c3caa93f2483773169c19c3 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42b76416df69e0ce78b595d8955c792 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_ac42b76416df69e0ce78b595d8955c792"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="classlibcamera_1_1ControlInfoMap.html#a737e0a528fd58dd5d4f976633322b0fb">ControlInfoMap::Map</a>&#160;</td><td class="memItemRight" valign="bottom"><b>controls</b> ()</td></tr>
<tr class="memdesc:ac42b76416df69e0ce78b595d8955c792 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the controls that have been generated after parsing tuning data. <br /></td></tr>
<tr class="separator:ac42b76416df69e0ce78b595d8955c792 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6fa02c0b5adb2cf3da8f188e210e39 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_aee6fa02c0b5adb2cf3da8f188e210e39"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; <a class="el" href="classlibcamera_1_1utils_1_1Duration.html">utils::Duration</a>, double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1AgcMeanLuminance.html#aee6fa02c0b5adb2cf3da8f188e210e39">calculateNewEv</a> (uint32_t constraintModeIndex, uint32_t exposureModeIndex, const <a class="el" href="classlibcamera_1_1ipa_1_1Histogram.html">Histogram</a> &amp;yHist, <a class="el" href="classlibcamera_1_1utils_1_1Duration.html">utils::Duration</a> effectiveExposureValue)</td></tr>
<tr class="memdesc:aee6fa02c0b5adb2cf3da8f188e210e39 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the new exposure value and splut it between exposure time and gain.  <br /></td></tr>
<tr class="separator:aee6fa02c0b5adb2cf3da8f188e210e39 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f38add75dec3d88aac0f0de9cd00a3 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance" id="r_a61f38add75dec3d88aac0f0de9cd00a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1AgcMeanLuminance.html#a61f38add75dec3d88aac0f0de9cd00a3">resetFrameCount</a> ()</td></tr>
<tr class="memdesc:a61f38add75dec3d88aac0f0de9cd00a3 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the frame counter.  <br /></td></tr>
<tr class="separator:a61f38add75dec3d88aac0f0de9cd00a3 inherit pub_methods_classlibcamera_1_1ipa_1_1AgcMeanLuminance"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classlibcamera_1_1ipa_1_1Algorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classlibcamera_1_1ipa_1_1Algorithm')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm&lt; Module &gt;</a></td></tr>
<tr class="memitem:ac52491716c9cd932770dc1a02d7d9b25 inherit pub_types_classlibcamera_1_1ipa_1_1Algorithm" id="r_ac52491716c9cd932770dc1a02d7d9b25"><td class="memItemLeft" align="right" valign="top">
using&#160;</td><td class="memItemRight" valign="bottom"><b>Module</b> = <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#ac52491716c9cd932770dc1a02d7d9b25">Module</a></td></tr>
<tr class="memdesc:ac52491716c9cd932770dc1a02d7d9b25 inherit pub_types_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPA module type for this class of algorithms. <br /></td></tr>
<tr class="separator:ac52491716c9cd932770dc1a02d7d9b25 inherit pub_types_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A mean-based auto-exposure algorithm. </p>
<p>This algorithm calculates an exposure time and an analogue gain so that the average value of the green channel of the brightest 2% of pixels approaches 0.5. The AWB gains are not used here, and all cells in the grid have the same weight, like an average-metering case. In this metering mode, the camera uses light information from the entire scene and creates an average for the final exposure setting, giving no weighting to any particular portion of the metered area.</p>
<p>Reference: Battiato, Messina &amp; Castorina. (2008). Exposure Correction for Imaging Devices: An Overview. 10.1201/9781420054538.ch12. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a480e95b5d6e07b2bd8b15e7c448457d1" name="a480e95b5d6e07b2bd8b15e7c448457d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480e95b5d6e07b2bd8b15e7c448457d1">&#9670;&#160;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::ipa::ipu3::algorithms::Agc::configure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IPAConfigInfo &amp;&#160;</td>
          <td class="paramname"><em>configInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the AGC given a configInfo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configInfo</td><td>The IPA configuration data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

</div>
</div>
<a id="aae955ad77b9a52e979b8b38b25ae01ef" name="aae955ad77b9a52e979b8b38b25ae01ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae955ad77b9a52e979b8b38b25ae01ef">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::ipa::ipu3::algorithms::Agc::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;&#160;</td>
          <td class="paramname"><em>tuningData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise the AGC algorithm from tuning files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tuningData</td><td>The <a class="el" href="classlibcamera_1_1YamlObject.html" title="A class representing the tree structure of the YAML content.">YamlObject</a> containing <a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html" title="A mean-based auto-exposure algorithm.">Agc</a> tuning data</td></tr>
  </table>
  </dd>
</dl>
<p>This function calls the base class' tuningData parsers to discover which control values are supported.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or errors from the base class </dd></dl>

</div>
</div>
<a id="a2559951592bcfd9792bda394a8d4e79b" name="a2559951592bcfd9792bda394a8d4e79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2559951592bcfd9792bda394a8d4e79b">&#9670;&#160;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::ipa::ipu3::algorithms::Agc::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAFrameContext.html">IPAFrameContext</a> &amp;&#160;</td>
          <td class="paramname"><em>frameContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structipu3__uapi__stats__3a.html">ipu3_uapi_stats_3a</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibcamera_1_1Process.html" title="Process object.">Process</a> IPU3 statistics, and run AGC operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>The current frame sequence number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameContext</td><td>The current frame context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stats</td><td>The IPU3 statistics and ISP results </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">metadata</td><td>Metadata for the frame, to be filled by the algorithm</td></tr>
  </table>
  </dd>
</dl>
<p>Identify the current image brightness, and use that to estimate the optimal new exposure and gain for the scene. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peripherals/camera/libcamera/src/ipa/ipu3/algorithms/<a class="el" href="ipu3_2algorithms_2agc_8h_source.html">agc.h</a></li>
<li>src/peripherals/camera/libcamera/src/ipa/ipu3/algorithms/<b>agc.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
