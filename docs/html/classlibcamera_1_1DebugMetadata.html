<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JetPackJoyRide: libcamera::DebugMetadata Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JetPackJoyRide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="classlibcamera_1_1DebugMetadata.html">DebugMetadata</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classlibcamera_1_1DebugMetadata-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">libcamera::DebugMetadata Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Helper to record metadata for later use.  
 <a href="classlibcamera_1_1DebugMetadata.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8163608749c5f38f7b8f964a42680ede" id="r_a8163608749c5f38f7b8f964a42680ede"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1DebugMetadata.html#a8163608749c5f38f7b8f964a42680ede">enableByControl</a> (const <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;controls)</td></tr>
<tr class="memdesc:a8163608749c5f38f7b8f964a42680ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable based on controls::DebugMetadataEnable in the supplied <a class="el" href="classlibcamera_1_1ControlList.html" title="Associate a list of ControlId with their values for an object.">ControlList</a>.  <br /></td></tr>
<tr class="separator:a8163608749c5f38f7b8f964a42680ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28488fc16cdc3a556273e17567c75bf8" id="r_a28488fc16cdc3a556273e17567c75bf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1DebugMetadata.html#a28488fc16cdc3a556273e17567c75bf8">enable</a> (bool enable=true)</td></tr>
<tr class="memdesc:a28488fc16cdc3a556273e17567c75bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable metadata handling.  <br /></td></tr>
<tr class="separator:a28488fc16cdc3a556273e17567c75bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cce87fd88572f4f6ddf57c1238e24b0" id="r_a9cce87fd88572f4f6ddf57c1238e24b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1DebugMetadata.html#a9cce87fd88572f4f6ddf57c1238e24b0">setParent</a> (<a class="el" href="classlibcamera_1_1DebugMetadata.html">DebugMetadata</a> *parent)</td></tr>
<tr class="memdesc:a9cce87fd88572f4f6ddf57c1238e24b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the parent metadata handler to <em>parent</em>.  <br /></td></tr>
<tr class="separator:a9cce87fd88572f4f6ddf57c1238e24b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f327440ab91a6f6560eb2fd8891b790" id="r_a1f327440ab91a6f6560eb2fd8891b790"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1DebugMetadata.html#a1f327440ab91a6f6560eb2fd8891b790">moveEntries</a> (<a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;list)</td></tr>
<tr class="memdesc:a1f327440ab91a6f6560eb2fd8891b790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move all cached entries into control list <em>list</em>.  <br /></td></tr>
<tr class="separator:a1f327440ab91a6f6560eb2fd8891b790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f2e124e11dd9fa0552418a9c5f15db" id="r_a78f2e124e11dd9fa0552418a9c5f15db"><td class="memTemplParams" colspan="2">template&lt;typename T , typename V &gt; </td></tr>
<tr class="memitem:a78f2e124e11dd9fa0552418a9c5f15db"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1DebugMetadata.html#a78f2e124e11dd9fa0552418a9c5f15db">set</a> (const <a class="el" href="classlibcamera_1_1Control.html">Control</a>&lt; T &gt; &amp;ctrl, const V &amp;value)</td></tr>
<tr class="memdesc:a78f2e124e11dd9fa0552418a9c5f15db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of <em>ctrl</em> to <em>value</em>.  <br /></td></tr>
<tr class="separator:a78f2e124e11dd9fa0552418a9c5f15db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7e0ad18864f3fe19f1b7a45b8a64b3" id="r_a6d7e0ad18864f3fe19f1b7a45b8a64b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1DebugMetadata.html#a6d7e0ad18864f3fe19f1b7a45b8a64b3">set</a> (unsigned int id, const <a class="el" href="classlibcamera_1_1ControlValue.html">ControlValue</a> &amp;value)</td></tr>
<tr class="memdesc:a6d7e0ad18864f3fe19f1b7a45b8a64b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of control <em>id</em> to <em>value</em>.  <br /></td></tr>
<tr class="separator:a6d7e0ad18864f3fe19f1b7a45b8a64b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper to record metadata for later use. </p>
<p>Metadata is a useful tool for debugging the internal state of libcamera. It has the benefit that it is easy to use and related tooling is readily available. The difficulty is that the metadata control list is often not directly available (either because the variable to debug lives inside process() of an IPA or inside a closed algorithm class with no direct access to the IPA and therefore the metadata list).</p>
<p>This class helps in both cases. It allows to forward the data to a parent or alternatively record the data and at a later point in time copy it to the metadata list when it becomes available. Both mechanisms allow easy reuse and loose coupling.</p>
<p>Typical usage is to instantiate a <a class="el" href="classlibcamera_1_1DebugMetadata.html" title="Helper to record metadata for later use.">DebugMetadata</a> object in every class/algorithm where debug metadata shall be recorded (the inner object). If the IPA doesn't support debug metadata, the object is still usable, but the debug data gets dropped. If the IPA supports debug metadata it will either register a parent <a class="el" href="classlibcamera_1_1DebugMetadata.html" title="Helper to record metadata for later use.">DebugMetadata</a> object on the inner object or manually retrieve the data using enable()/moveToList().</p>
<p>The concepts of forwarding to a parent and recording for later retrieval are mutually exclusive and the parent takes precedence. E.g. it is not allowed to enable a <a class="el" href="classlibcamera_1_1DebugMetadata.html" title="Helper to record metadata for later use.">DebugMetadata</a> object, log entries to it and later set the parent.</p>
<p>This is done to keep the path open for using other means of data transport (like tracing). For every tracing event a corresponding context needs to be available on <a class="el" href="classlibcamera_1_1DebugMetadata.html#a78f2e124e11dd9fa0552418a9c5f15db" title="Set the value of ctrl to value.">set()</a> time. The parent can be treated as such, the top level object (the one where enable() get's called) also lives in a place where that information is also available. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a28488fc16cdc3a556273e17567c75bf8" name="a28488fc16cdc3a556273e17567c75bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28488fc16cdc3a556273e17567c75bf8">&#9670;&#160;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::DebugMetadata::enable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or disable metadata handling. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>The enable state</td></tr>
  </table>
  </dd>
</dl>
<p>When <em>enable</em> is true, all calls to <a class="el" href="classlibcamera_1_1DebugMetadata.html#a78f2e124e11dd9fa0552418a9c5f15db" title="Set the value of ctrl to value.">set()</a> get cached and can later be retrieved using <a class="el" href="classlibcamera_1_1DebugMetadata.html#a1f327440ab91a6f6560eb2fd8891b790" title="Move all cached entries into control list list.">moveEntries()</a>. When <em>enable</em> is false, the cache gets cleared and no further metadata is recorded.</p>
<p>Forwarding to a parent is independent of the enabled state. </p>

</div>
</div>
<a id="a8163608749c5f38f7b8f964a42680ede" name="a8163608749c5f38f7b8f964a42680ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8163608749c5f38f7b8f964a42680ede">&#9670;&#160;</a></span>enableByControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::DebugMetadata::enableByControl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;&#160;</td>
          <td class="paramname"><em>controls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable based on controls::DebugMetadataEnable in the supplied <a class="el" href="classlibcamera_1_1ControlList.html" title="Associate a list of ControlId with their values for an object.">ControlList</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controls</td><td>The supplied <a class="el" href="classlibcamera_1_1ControlList.html" title="Associate a list of ControlId with their values for an object.">ControlList</a></td></tr>
  </table>
  </dd>
</dl>
<p>This function looks for controls::DebugMetadataEnable and enables or disables debug metadata handling accordingly. </p>

</div>
</div>
<a id="a1f327440ab91a6f6560eb2fd8891b790" name="a1f327440ab91a6f6560eb2fd8891b790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f327440ab91a6f6560eb2fd8891b790">&#9670;&#160;</a></span>moveEntries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::DebugMetadata::moveEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move all cached entries into control list <em>list</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">list</td><td>The control list</td></tr>
  </table>
  </dd>
</dl>
<p>This function moves all entries into the list specified by <em>list</em>. Duplicate entries in <em>list</em> get overwritten. </p>

</div>
</div>
<a id="a78f2e124e11dd9fa0552418a9c5f15db" name="a78f2e124e11dd9fa0552418a9c5f15db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f2e124e11dd9fa0552418a9c5f15db">&#9670;&#160;</a></span>set() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename V &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::DebugMetadata::set </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcamera_1_1Control.html">Control</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const V &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the value of <em>ctrl</em> to <em>value</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctrl</td><td>The control to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The control value</td></tr>
  </table>
  </dd>
</dl>
<p>If a parent is set, the value gets passed there unconditionally. Otherwise it gets cached if the instance is enabled or dropped silently when disabled.</p>
<dl class="section see"><dt>See also</dt><dd>enable() </dd></dl>

</div>
</div>
<a id="a6d7e0ad18864f3fe19f1b7a45b8a64b3" name="a6d7e0ad18864f3fe19f1b7a45b8a64b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d7e0ad18864f3fe19f1b7a45b8a64b3">&#9670;&#160;</a></span>set() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::DebugMetadata::set </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibcamera_1_1ControlValue.html">ControlValue</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value of control <em>id</em> to <em>value</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the control </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The control value</td></tr>
  </table>
  </dd>
</dl>
<p>If a parent is set, the value gets passed there unconditionally. Otherwise it gets cached if the instance is enabled or dropped silently when disabled.</p>
<dl class="section see"><dt>See also</dt><dd>enable() </dd></dl>

</div>
</div>
<a id="a9cce87fd88572f4f6ddf57c1238e24b0" name="a9cce87fd88572f4f6ddf57c1238e24b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cce87fd88572f4f6ddf57c1238e24b0">&#9670;&#160;</a></span>setParent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::DebugMetadata::setParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1DebugMetadata.html">DebugMetadata</a> *&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the parent metadata handler to <em>parent</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>The parent handler</td></tr>
  </table>
  </dd>
</dl>
<p>When a <em>parent</em> is set, all further calls to <a class="el" href="classlibcamera_1_1DebugMetadata.html#a78f2e124e11dd9fa0552418a9c5f15db" title="Set the value of ctrl to value.">set()</a> are unconditionally forwarded to that instance.</p>
<p>The parent can be reset by passing a nullptr. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peripherals/camera/libcamera/include/libcamera/internal/<a class="el" href="debug__controls_8h_source.html">debug_controls.h</a></li>
<li>src/peripherals/camera/libcamera/src/libcamera/<b>debug_controls.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
