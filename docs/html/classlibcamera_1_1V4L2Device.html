<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JetPackJoyRide: libcamera::V4L2Device Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JetPackJoyRide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="classlibcamera_1_1V4L2Device.html">V4L2Device</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classlibcamera_1_1V4L2Device-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">libcamera::V4L2Device Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Base class for <a class="el" href="classlibcamera_1_1V4L2VideoDevice.html" title="V4L2VideoDevice object and API.">V4L2VideoDevice</a> and <a class="el" href="classlibcamera_1_1V4L2Subdevice.html" title="A V4L2 subdevice as exposed by the Linux kernel.">V4L2Subdevice</a>.  
 <a href="classlibcamera_1_1V4L2Device.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for libcamera::V4L2Device:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlibcamera_1_1V4L2Device.png" usemap="#libcamera::V4L2Device_map" alt=""/>
  <map id="libcamera::V4L2Device_map" name="libcamera::V4L2Device_map">
<area href="classlibcamera_1_1Loggable.html" title="Base class to support log message extensions." alt="libcamera::Loggable" shape="rect" coords="93,0,269,24"/>
<area href="classlibcamera_1_1V4L2Subdevice.html" title="A V4L2 subdevice as exposed by the Linux kernel." alt="libcamera::V4L2Subdevice" shape="rect" coords="0,112,176,136"/>
<area href="classlibcamera_1_1V4L2VideoDevice.html" title="V4L2VideoDevice object and API." alt="libcamera::V4L2VideoDevice" shape="rect" coords="186,112,362,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51eaec36a14fcf77950cbeeb6a69593d" id="r_a51eaec36a14fcf77950cbeeb6a69593d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a51eaec36a14fcf77950cbeeb6a69593d">close</a> ()</td></tr>
<tr class="memdesc:a51eaec36a14fcf77950cbeeb6a69593d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the device node.  <br /></td></tr>
<tr class="separator:a51eaec36a14fcf77950cbeeb6a69593d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1cbbf505ca93672c6f8086c2a9e3a0" id="r_a1a1cbbf505ca93672c6f8086c2a9e3a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a1a1cbbf505ca93672c6f8086c2a9e3a0">isOpen</a> () const</td></tr>
<tr class="memdesc:a1a1cbbf505ca93672c6f8086c2a9e3a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the V4L2 device node is open.  <br /></td></tr>
<tr class="separator:a1a1cbbf505ca93672c6f8086c2a9e3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da981578e5d7f23032bd902597c3a15" id="r_a3da981578e5d7f23032bd902597c3a15"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibcamera_1_1ControlInfoMap.html">ControlInfoMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a3da981578e5d7f23032bd902597c3a15">controls</a> () const</td></tr>
<tr class="memdesc:a3da981578e5d7f23032bd902597c3a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the supported V4L2 controls and their information.  <br /></td></tr>
<tr class="separator:a3da981578e5d7f23032bd902597c3a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaadfb4e56d3099f9a84fa0a7a3fec50" id="r_aaaadfb4e56d3099f9a84fa0a7a3fec50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#aaaadfb4e56d3099f9a84fa0a7a3fec50">getControls</a> (const std::vector&lt; uint32_t &gt; &amp;ids)</td></tr>
<tr class="memdesc:aaaadfb4e56d3099f9a84fa0a7a3fec50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read controls from the device.  <br /></td></tr>
<tr class="separator:aaaadfb4e56d3099f9a84fa0a7a3fec50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0485054b749a15cb5152cc751c81750" id="r_ab0485054b749a15cb5152cc751c81750"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#ab0485054b749a15cb5152cc751c81750">setControls</a> (<a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> *ctrls)</td></tr>
<tr class="memdesc:ab0485054b749a15cb5152cc751c81750"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write controls to the device.  <br /></td></tr>
<tr class="separator:ab0485054b749a15cb5152cc751c81750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf0ec992186e2a248c810e9c42bd5794" id="r_acf0ec992186e2a248c810e9c42bd5794"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structv4l2__query__ext__ctrl.html">v4l2_query_ext_ctrl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#acf0ec992186e2a248c810e9c42bd5794">controlInfo</a> (uint32_t id) const</td></tr>
<tr class="memdesc:acf0ec992186e2a248c810e9c42bd5794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the <a class="el" href="structv4l2__query__ext__ctrl.html">v4l2_query_ext_ctrl</a> information for the given control.  <br /></td></tr>
<tr class="separator:acf0ec992186e2a248c810e9c42bd5794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2ad0ec434245d9c5cd910d784764f2" id="r_afa2ad0ec434245d9c5cd910d784764f2"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#afa2ad0ec434245d9c5cd910d784764f2">deviceNode</a> () const</td></tr>
<tr class="memdesc:afa2ad0ec434245d9c5cd910d784764f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the device node path.  <br /></td></tr>
<tr class="separator:afa2ad0ec434245d9c5cd910d784764f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8454df564fffa7ad160468709aa172ff" id="r_a8454df564fffa7ad160468709aa172ff"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a8454df564fffa7ad160468709aa172ff">devicePath</a> () const</td></tr>
<tr class="memdesc:a8454df564fffa7ad160468709aa172ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the device path in sysfs.  <br /></td></tr>
<tr class="separator:a8454df564fffa7ad160468709aa172ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b82e6fa7c29f792c6458eba30fd135" id="r_a22b82e6fa7c29f792c6458eba30fd135"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a22b82e6fa7c29f792c6458eba30fd135">setFrameStartEnabled</a> (bool enable)</td></tr>
<tr class="memdesc:a22b82e6fa7c29f792c6458eba30fd135"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable frame start event notification.  <br /></td></tr>
<tr class="separator:a22b82e6fa7c29f792c6458eba30fd135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52bc2f8287edb89748a1fc88c3b684ee" id="r_a52bc2f8287edb89748a1fc88c3b684ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a52bc2f8287edb89748a1fc88c3b684ee">updateControlInfo</a> ()</td></tr>
<tr class="memdesc:a52bc2f8287edb89748a1fc88c3b684ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the information for all device controls.  <br /></td></tr>
<tr class="separator:a52bc2f8287edb89748a1fc88c3b684ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a57ed50c44d1cd5c2cedab9b42e087e6c" id="r_a57ed50c44d1cd5c2cedab9b42e087e6c"><td class="memItemLeft" align="right" valign="top"><a id="a57ed50c44d1cd5c2cedab9b42e087e6c" name="a57ed50c44d1cd5c2cedab9b42e087e6c"></a>
<a class="el" href="classlibcamera_1_1Signal.html">Signal</a>&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>frameStart</b></td></tr>
<tr class="memdesc:a57ed50c44d1cd5c2cedab9b42e087e6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A <a class="el" href="classlibcamera_1_1Signal.html" title="Generic signal and slot communication mechanism.">Signal</a> emitted when capture of a frame has started. <br /></td></tr>
<tr class="separator:a57ed50c44d1cd5c2cedab9b42e087e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af2c3423ffe8a3333ea7c82018b49844d" id="r_af2c3423ffe8a3333ea7c82018b49844d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#af2c3423ffe8a3333ea7c82018b49844d">V4L2Device</a> (const std::string &amp;<a class="el" href="classlibcamera_1_1V4L2Device.html#afa2ad0ec434245d9c5cd910d784764f2">deviceNode</a>)</td></tr>
<tr class="memdesc:af2c3423ffe8a3333ea7c82018b49844d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a>.  <br /></td></tr>
<tr class="separator:af2c3423ffe8a3333ea7c82018b49844d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e90d3566abf2e6299a31989d060f08" id="r_a01e90d3566abf2e6299a31989d060f08"><td class="memItemLeft" align="right" valign="top"><a id="a01e90d3566abf2e6299a31989d060f08" name="a01e90d3566abf2e6299a31989d060f08"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~V4L2Device</b> ()</td></tr>
<tr class="memdesc:a01e90d3566abf2e6299a31989d060f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a>. <br /></td></tr>
<tr class="separator:a01e90d3566abf2e6299a31989d060f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cdee8ca74669a21480dbce6568551ec" id="r_a5cdee8ca74669a21480dbce6568551ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a5cdee8ca74669a21480dbce6568551ec">open</a> (unsigned int flags)</td></tr>
<tr class="memdesc:a5cdee8ca74669a21480dbce6568551ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a V4L2 device node.  <br /></td></tr>
<tr class="separator:a5cdee8ca74669a21480dbce6568551ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5143b4bba37aea67885c61a2b3850d2" id="r_ab5143b4bba37aea67885c61a2b3850d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#ab5143b4bba37aea67885c61a2b3850d2">setFd</a> (<a class="el" href="classlibcamera_1_1UniqueFD.html">UniqueFD</a> <a class="el" href="classlibcamera_1_1V4L2Device.html#a6b77845cf4b1eddcfc8fdeabf1795f82">fd</a>)</td></tr>
<tr class="memdesc:ab5143b4bba37aea67885c61a2b3850d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the file descriptor of a V4L2 device.  <br /></td></tr>
<tr class="separator:ab5143b4bba37aea67885c61a2b3850d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c8a36a4c3d22beb3bf173f7c498d2d" id="r_a34c8a36a4c3d22beb3bf173f7c498d2d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a34c8a36a4c3d22beb3bf173f7c498d2d">ioctl</a> (unsigned long request, void *argp)</td></tr>
<tr class="memdesc:a34c8a36a4c3d22beb3bf173f7c498d2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an IOCTL system call on the device node.  <br /></td></tr>
<tr class="separator:a34c8a36a4c3d22beb3bf173f7c498d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b77845cf4b1eddcfc8fdeabf1795f82" id="r_a6b77845cf4b1eddcfc8fdeabf1795f82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a6b77845cf4b1eddcfc8fdeabf1795f82">fd</a> () const</td></tr>
<tr class="memdesc:a6b77845cf4b1eddcfc8fdeabf1795f82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the V4L2 device file descriptor.  <br /></td></tr>
<tr class="separator:a6b77845cf4b1eddcfc8fdeabf1795f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classlibcamera_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classlibcamera_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classlibcamera_1_1Loggable.html">libcamera::Loggable</a></td></tr>
<tr class="memitem:a4cc48b0ae7215ceb4bfae6f192b2b3ee inherit pro_methods_classlibcamera_1_1Loggable" id="r_a4cc48b0ae7215ceb4bfae6f192b2b3ee"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1Loggable.html#a4cc48b0ae7215ceb4bfae6f192b2b3ee">logPrefix</a> () const =0</td></tr>
<tr class="memdesc:a4cc48b0ae7215ceb4bfae6f192b2b3ee inherit pro_methods_classlibcamera_1_1Loggable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a string to be prefixed to the log message.  <br /></td></tr>
<tr class="separator:a4cc48b0ae7215ceb4bfae6f192b2b3ee inherit pro_methods_classlibcamera_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b00f844b75b5d08cad898ed9c6181e inherit pro_methods_classlibcamera_1_1Loggable" id="r_a56b00f844b75b5d08cad898ed9c6181e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcamera_1_1LogMessage.html">LogMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1Loggable.html#a56b00f844b75b5d08cad898ed9c6181e">_log</a> (const <a class="el" href="classlibcamera_1_1LogCategory.html">LogCategory</a> *category, <a class="el" href="namespacelibcamera.html#a68f26f5a54a5bb105f2e7422215a0ca3">LogSeverity</a> severity, const char *fileName=__builtin_FILE(), unsigned int line=__builtin_LINE()) const</td></tr>
<tr class="memdesc:a56b00f844b75b5d08cad898ed9c6181e inherit pro_methods_classlibcamera_1_1Loggable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a temporary <a class="el" href="classlibcamera_1_1LogMessage.html" title="Internal log message representation.">LogMessage</a> object to log a message.  <br /></td></tr>
<tr class="separator:a56b00f844b75b5d08cad898ed9c6181e inherit pro_methods_classlibcamera_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ac6fba98c260ee82f4d82c0da6a34166e" id="r_ac6fba98c260ee82f4d82c0da6a34166e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ac6fba98c260ee82f4d82c0da6a34166e"><td class="memTemplItemLeft" align="right" valign="top">static std::optional&lt; <a class="el" href="classlibcamera_1_1ColorSpace.html">ColorSpace</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#ac6fba98c260ee82f4d82c0da6a34166e">toColorSpace</a> (const T &amp;v4l2Format, <a class="el" href="classlibcamera_1_1PixelFormatInfo.html#a021bf0e82baec37b1523baa3322dc23c">PixelFormatInfo::ColourEncoding</a> colourEncoding)</td></tr>
<tr class="memdesc:ac6fba98c260ee82f4d82c0da6a34166e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the color space fields in a V4L2 format to a <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>.  <br /></td></tr>
<tr class="separator:ac6fba98c260ee82f4d82c0da6a34166e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b2d0bf205d45b91c6945018e92f3933" id="r_a3b2d0bf205d45b91c6945018e92f3933"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a3b2d0bf205d45b91c6945018e92f3933"><td class="memTemplItemLeft" align="right" valign="top">static int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1V4L2Device.html#a3b2d0bf205d45b91c6945018e92f3933">fromColorSpace</a> (const std::optional&lt; <a class="el" href="classlibcamera_1_1ColorSpace.html">ColorSpace</a> &gt; &amp;colorSpace, T &amp;v4l2Format)</td></tr>
<tr class="memdesc:a3b2d0bf205d45b91c6945018e92f3933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill in the color space fields of a V4L2 format from a <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>.  <br /></td></tr>
<tr class="separator:a3b2d0bf205d45b91c6945018e92f3933"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for <a class="el" href="classlibcamera_1_1V4L2VideoDevice.html" title="V4L2VideoDevice object and API.">V4L2VideoDevice</a> and <a class="el" href="classlibcamera_1_1V4L2Subdevice.html" title="A V4L2 subdevice as exposed by the Linux kernel.">V4L2Subdevice</a>. </p>
<p>The <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a> class groups together the functions and fields common to both the <a class="el" href="classlibcamera_1_1V4L2VideoDevice.html" title="V4L2VideoDevice object and API.">V4L2VideoDevice</a> and <a class="el" href="classlibcamera_1_1V4L2Subdevice.html" title="A V4L2 subdevice as exposed by the Linux kernel.">V4L2Subdevice</a> classes, and provides a base class with functions to open and close the device node associated with the device and to perform IOCTL system calls on it.</p>
<p>The <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a> class cannot be instantiated directly, as its constructor is protected. Users should instead create instances of one the derived classes to model either a V4L2 video device or a V4L2 subdevice. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af2c3423ffe8a3333ea7c82018b49844d" name="af2c3423ffe8a3333ea7c82018b49844d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c3423ffe8a3333ea7c82018b49844d">&#9670;&#160;</a></span>V4L2Device()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::V4L2Device::V4L2Device </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>deviceNode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceNode</td><td>The device node filesystem path</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize the file descriptor to -1 and store the <em>deviceNode</em> to be used at <a class="el" href="classlibcamera_1_1V4L2Device.html#a5cdee8ca74669a21480dbce6568551ec" title="Open a V4L2 device node.">open()</a> time, and the <em>logTag</em> to prefix log messages with. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a51eaec36a14fcf77950cbeeb6a69593d" name="a51eaec36a14fcf77950cbeeb6a69593d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51eaec36a14fcf77950cbeeb6a69593d">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::V4L2Device::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the device node. </p>
<p>Reset the file descriptor to -1 </p>

</div>
</div>
<a id="acf0ec992186e2a248c810e9c42bd5794" name="acf0ec992186e2a248c810e9c42bd5794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf0ec992186e2a248c810e9c42bd5794">&#9670;&#160;</a></span>controlInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structv4l2__query__ext__ctrl.html">v4l2_query_ext_ctrl</a> * libcamera::V4L2Device::controlInfo </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the <a class="el" href="structv4l2__query__ext__ctrl.html">v4l2_query_ext_ctrl</a> information for the given control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The V4L2 control id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="structv4l2__query__ext__ctrl.html">v4l2_query_ext_ctrl</a> structure for the given control, or a null pointer if not found </dd></dl>

</div>
</div>
<a id="a3da981578e5d7f23032bd902597c3a15" name="a3da981578e5d7f23032bd902597c3a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da981578e5d7f23032bd902597c3a15">&#9670;&#160;</a></span>controls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::V4L2Device::controls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the supported V4L2 controls and their information. </p>
<dl class="section return"><dt>Returns</dt><dd>A map of the V4L2 controls supported by the device </dd></dl>

</div>
</div>
<a id="afa2ad0ec434245d9c5cd910d784764f2" name="afa2ad0ec434245d9c5cd910d784764f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa2ad0ec434245d9c5cd910d784764f2">&#9670;&#160;</a></span>deviceNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::V4L2Device::deviceNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the device node path. </p>
<dl class="section return"><dt>Returns</dt><dd>The device node path </dd></dl>

</div>
</div>
<a id="a8454df564fffa7ad160468709aa172ff" name="a8454df564fffa7ad160468709aa172ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8454df564fffa7ad160468709aa172ff">&#9670;&#160;</a></span>devicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string libcamera::V4L2Device::devicePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the device path in sysfs. </p>
<p>This function returns the sysfs path to the physical device backing the V4L2 device. The path is guaranteed to be an absolute path, without any symbolic link.</p>
<p>It includes the sysfs mount point prefix</p>
<dl class="section return"><dt>Returns</dt><dd>The device path in sysfs </dd></dl>

</div>
</div>
<a id="a6b77845cf4b1eddcfc8fdeabf1795f82" name="a6b77845cf4b1eddcfc8fdeabf1795f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b77845cf4b1eddcfc8fdeabf1795f82">&#9670;&#160;</a></span>fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::V4L2Device::fd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the V4L2 device file descriptor. </p>
<dl class="section return"><dt>Returns</dt><dd>The V4L2 device file descriptor, -1 if the device node is not open </dd></dl>

</div>
</div>
<a id="a3b2d0bf205d45b91c6945018e92f3933" name="a3b2d0bf205d45b91c6945018e92f3933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b2d0bf205d45b91c6945018e92f3933">&#9670;&#160;</a></span>fromColorSpace()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template int libcamera::V4L2Device::fromColorSpace </td>
          <td>(</td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="classlibcamera_1_1ColorSpace.html">ColorSpace</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>colorSpace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>v4l2Format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill in the color space fields of a V4L2 format from a <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">colorSpace</td><td>The <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a> to be converted </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">v4l2Format</td><td>A V4L2 format containing color space information</td></tr>
  </table>
  </dd>
</dl>
<p>The colorspace, ycbcr_enc, xfer_func and quantization fields within a V4L2 format structure are filled in from a corresponding <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>.</p>
<p>An error is returned if any of the V4L2 fields do not support the value given in the <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>. Such fields are set to the V4L2 "default" values, but all other fields are still filled in where possible.</p>
<p>If the color space is completely unset, "default" V4L2 values are used everywhere, so a driver would then choose its preferred color space.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a negative error code otherwise </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EINVAL</td><td>The <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a> does not have a representation using V4L2 enums </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaaadfb4e56d3099f9a84fa0a7a3fec50" name="aaaadfb4e56d3099f9a84fa0a7a3fec50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaadfb4e56d3099f9a84fa0a7a3fec50">&#9670;&#160;</a></span>getControls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> libcamera::V4L2Device::getControls </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read controls from the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>The list of controls to read, specified by their ID</td></tr>
  </table>
  </dd>
</dl>
<p>This function reads the value of all controls contained in <em>ids</em>, and returns their values as a <a class="el" href="classlibcamera_1_1ControlList.html" title="Associate a list of ControlId with their values for an object.">ControlList</a>.</p>
<p>If any control in <em>ids</em> is not supported by the device, is disabled (i.e. has the V4L2_CTRL_FLAG_DISABLED flag set), or if any other error occurs during validation of the requested controls, no control is read and this function returns an empty control list.</p>
<dl class="section return"><dt>Returns</dt><dd>The control values in a <a class="el" href="classlibcamera_1_1ControlList.html" title="Associate a list of ControlId with their values for an object.">ControlList</a> on success, or an empty list on error </dd></dl>

</div>
</div>
<a id="a34c8a36a4c3d22beb3bf173f7c498d2d" name="a34c8a36a4c3d22beb3bf173f7c498d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c8a36a4c3d22beb3bf173f7c498d2d">&#9670;&#160;</a></span>ioctl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::V4L2Device::ioctl </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>argp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform an IOCTL system call on the device node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The IOCTL request code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argp</td><td>A pointer to the IOCTL argument </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a negative error code otherwise </dd></dl>

</div>
</div>
<a id="a1a1cbbf505ca93672c6f8086c2a9e3a0" name="a1a1cbbf505ca93672c6f8086c2a9e3a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1cbbf505ca93672c6f8086c2a9e3a0">&#9670;&#160;</a></span>isOpen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::V4L2Device::isOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the V4L2 device node is open. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the V4L2 device node is open, false otherwise </dd></dl>

</div>
</div>
<a id="a5cdee8ca74669a21480dbce6568551ec" name="a5cdee8ca74669a21480dbce6568551ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cdee8ca74669a21480dbce6568551ec">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::V4L2Device::open </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a V4L2 device node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Access mode flags</td></tr>
  </table>
  </dd>
</dl>
<p>Open the device node path with the provided access mode <em>flags</em> and initialize the file descriptor, which was initially set to -1.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a negative error code otherwise </dd></dl>

</div>
</div>
<a id="ab0485054b749a15cb5152cc751c81750" name="ab0485054b749a15cb5152cc751c81750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0485054b749a15cb5152cc751c81750">&#9670;&#160;</a></span>setControls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::V4L2Device::setControls </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> *&#160;</td>
          <td class="paramname"><em>ctrls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write controls to the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctrls</td><td>The list of controls to write</td></tr>
  </table>
  </dd>
</dl>
<p>This function writes the value of all controls contained in <em>ctrls</em>, and stores the values actually applied to the device in the corresponding <em>ctrls</em> entry.</p>
<p>If any control in <em>ctrls</em> is not supported by the device, is disabled (i.e. has the V4L2_CTRL_FLAG_DISABLED flag set), is read-only, if any other error occurs during validation of the requested controls, no control is written and this function returns -EINVAL.</p>
<p>If an error occurs while writing the controls, the index of the first control that couldn't be written is returned. All controls below that index are written and their values are updated in <em>ctrls</em>, while all other controls are not written and their values are not changed.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or an error code otherwise </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EINVAL</td><td>One of the control is not supported or not accessible </td></tr>
    <tr><td class="paramname">i</td><td>The index of the control that failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab5143b4bba37aea67885c61a2b3850d2" name="ab5143b4bba37aea67885c61a2b3850d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5143b4bba37aea67885c61a2b3850d2">&#9670;&#160;</a></span>setFd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::V4L2Device::setFd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1UniqueFD.html">UniqueFD</a>&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the file descriptor of a V4L2 device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The file descriptor handle</td></tr>
  </table>
  </dd>
</dl>
<p>This function allows a device to provide an already opened file descriptor referring to the V4L2 device node, instead of opening it with <a class="el" href="classlibcamera_1_1V4L2Device.html#a5cdee8ca74669a21480dbce6568551ec" title="Open a V4L2 device node.">open()</a>. This can be used for V4L2 M2M devices where a single video device node is used for both the output and capture devices, or when receiving an open file descriptor in a context that doesn't have permission to open the device node itself.</p>
<p>This function and the <a class="el" href="classlibcamera_1_1V4L2Device.html#a5cdee8ca74669a21480dbce6568551ec" title="Open a V4L2 device node.">open()</a> function are mutually exclusive, only one of the two shall be used for a <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a> instance.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a negative error code otherwise </dd></dl>

</div>
</div>
<a id="a22b82e6fa7c29f792c6458eba30fd135" name="a22b82e6fa7c29f792c6458eba30fd135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b82e6fa7c29f792c6458eba30fd135">&#9670;&#160;</a></span>setFrameStartEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::V4L2Device::setFrameStartEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or disable frame start event notification. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>True to enable frame start events, false to disable them</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables or disables generation of frame start events. Once enabled, the events are signalled through the frameStart signal.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code otherwise </dd></dl>

</div>
</div>
<a id="ac6fba98c260ee82f4d82c0da6a34166e" name="ac6fba98c260ee82f4d82c0da6a34166e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6fba98c260ee82f4d82c0da6a34166e">&#9670;&#160;</a></span>toColorSpace()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template std::optional&lt; <a class="el" href="classlibcamera_1_1ColorSpace.html">ColorSpace</a> &gt; libcamera::V4L2Device::toColorSpace </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>v4l2Format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1PixelFormatInfo.html#a021bf0e82baec37b1523baa3322dc23c">PixelFormatInfo::ColourEncoding</a>&#160;</td>
          <td class="paramname"><em>colourEncoding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the color space fields in a V4L2 format to a <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">v4l2Format</td><td>A V4L2 format containing color space information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">colourEncoding</td><td>Type of colour encoding</td></tr>
  </table>
  </dd>
</dl>
<p>The colorspace, ycbcr_enc, xfer_func and quantization fields within a V4L2 format structure are converted to a corresponding <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a>.</p>
<p>If any V4L2 fields are not recognised then we return an "unset" color space.</p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="classlibcamera_1_1ColorSpace.html" title="Class to describe a color space.">ColorSpace</a> corresponding to the input V4L2 format </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">std::nullopt</td><td>One or more V4L2 color space fields were not recognised </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52bc2f8287edb89748a1fc88c3b684ee" name="a52bc2f8287edb89748a1fc88c3b684ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52bc2f8287edb89748a1fc88c3b684ee">&#9670;&#160;</a></span>updateControlInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::V4L2Device::updateControlInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the information for all device controls. </p>
<p>The <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a> class caches information about all controls supported by the device and exposes it through the controls() and <a class="el" href="classlibcamera_1_1V4L2Device.html#acf0ec992186e2a248c810e9c42bd5794" title="Retrieve the v4l2_query_ext_ctrl information for the given control.">controlInfo()</a> functions. <a class="el" href="classlibcamera_1_1Control.html" title="Describe a control and its intrinsic properties.">Control</a> information may change at runtime, for instance when formats on a subdev are modified. When this occurs, this function can be used to refresh control information. The information is refreshed in-place, all pointers to <a class="el" href="structv4l2__query__ext__ctrl.html">v4l2_query_ext_ctrl</a> instances previously returned by <a class="el" href="classlibcamera_1_1V4L2Device.html#acf0ec992186e2a248c810e9c42bd5794" title="Retrieve the v4l2_query_ext_ctrl information for the given control.">controlInfo()</a> and iterators to the <a class="el" href="classlibcamera_1_1ControlInfoMap.html" title="A map of ControlId to ControlInfo.">ControlInfoMap</a> returned by controls() remain valid.</p>
<p>Note that control information isn't refreshed automatically is it may be an expensive operation. The <a class="el" href="classlibcamera_1_1V4L2Device.html" title="Base class for V4L2VideoDevice and V4L2Subdevice.">V4L2Device</a> users are responsible for calling this function when required, based on their usage pattern of the class. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peripherals/camera/libcamera/include/libcamera/internal/<a class="el" href="v4l2__device_8h_source.html">v4l2_device.h</a></li>
<li>src/peripherals/camera/libcamera/src/libcamera/<b>v4l2_device.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
