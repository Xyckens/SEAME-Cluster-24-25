<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JetPackJoyRide: libcamera::ipa::ipu3::algorithms::Af Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JetPackJoyRide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="namespacelibcamera_1_1ipa.html">ipa</a></li><li class="navelem"><b>ipu3</b></li><li class="navelem"><b>algorithms</b></li><li class="navelem"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html">Af</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">libcamera::ipa::ipu3::algorithms::Af Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>An auto-focus algorithm based on IPU3 statistics.  
 <a href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for libcamera::ipa::ipu3::algorithms::Af:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.png" usemap="#libcamera::ipa::ipu3::algorithms::Af_map" alt=""/>
  <map id="libcamera::ipa::ipu3::algorithms::Af_map" name="libcamera::ipa::ipu3::algorithms::Af_map">
<area href="classlibcamera_1_1ipa_1_1Algorithm.html" alt="libcamera::ipa::Algorithm&lt; Module &gt;" shape="rect" coords="0,0,215,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afcea18b80ab3822bbaa7df4a1f3ca7df" id="r_afcea18b80ab3822bbaa7df4a1f3ca7df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html#afcea18b80ab3822bbaa7df4a1f3ca7df">configure</a> (<a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;context, const IPAConfigInfo &amp;configInfo) override</td></tr>
<tr class="memdesc:afcea18b80ab3822bbaa7df4a1f3ca7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html" title="An auto-focus algorithm based on IPU3 statistics.">Af</a> given a configInfo.  <br /></td></tr>
<tr class="separator:afcea18b80ab3822bbaa7df4a1f3ca7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50edbc40bd8238f2d37e826494142dcf" id="r_a50edbc40bd8238f2d37e826494142dcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html#a50edbc40bd8238f2d37e826494142dcf">prepare</a> (<a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;context, const uint32_t frame, <a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAFrameContext.html">IPAFrameContext</a> &amp;frameContext, <a class="el" href="structipu3__uapi__params.html">ipu3_uapi_params</a> *params) override</td></tr>
<tr class="separator:a50edbc40bd8238f2d37e826494142dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e1bf756c1ac08786db1ca5a7c136b7" id="r_a31e1bf756c1ac08786db1ca5a7c136b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html#a31e1bf756c1ac08786db1ca5a7c136b7">process</a> (<a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;context, const uint32_t frame, <a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAFrameContext.html">IPAFrameContext</a> &amp;frameContext, const <a class="el" href="structipu3__uapi__stats__3a.html">ipu3_uapi_stats_3a</a> *stats, <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;metadata) override</td></tr>
<tr class="memdesc:a31e1bf756c1ac08786db1ca5a7c136b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the max contrast image and lens position.  <br /></td></tr>
<tr class="separator:a31e1bf756c1ac08786db1ca5a7c136b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlibcamera_1_1ipa_1_1Algorithm')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm&lt; Module &gt;</a></td></tr>
<tr class="memitem:a68ad78f4d948f8cebefaaae22b743687 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a68ad78f4d948f8cebefaaae22b743687"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a68ad78f4d948f8cebefaaae22b743687">init</a> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;tuningData)</td></tr>
<tr class="memdesc:a68ad78f4d948f8cebefaaae22b743687 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> with tuning data.  <br /></td></tr>
<tr class="separator:a68ad78f4d948f8cebefaaae22b743687 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3cd461b46cdd1d366bf211f87d8f3d inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a5e3cd461b46cdd1d366bf211f87d8f3d"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a5e3cd461b46cdd1d366bf211f87d8f3d">configure</a> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a7c0b7a42c526c07bafeca4018b38b8c9">Module::Config</a> &amp;configInfo)</td></tr>
<tr class="memdesc:a5e3cd461b46cdd1d366bf211f87d8f3d inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> given an IPAConfigInfo.  <br /></td></tr>
<tr class="separator:a5e3cd461b46cdd1d366bf211f87d8f3d inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307cf5dd6b48ccc1c772901c07e14afe inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a307cf5dd6b48ccc1c772901c07e14afe"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a307cf5dd6b48ccc1c772901c07e14afe">queueRequest</a> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const uint32_t frame, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, const <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;controls)</td></tr>
<tr class="memdesc:a307cf5dd6b48ccc1c772901c07e14afe inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide control values to the algorithm.  <br /></td></tr>
<tr class="separator:a307cf5dd6b48ccc1c772901c07e14afe inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5e02af3c5966e4ceaaacf9c48c2a3b inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_adb5e02af3c5966e4ceaaacf9c48c2a3b"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>prepare</b> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const uint32_t frame, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a48ee62113eed1c9ad7a001887dc59674">Module::Params</a> *params)</td></tr>
<tr class="separator:adb5e02af3c5966e4ceaaacf9c48c2a3b inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3c85b3838ce7c1780b46f09ad16e59 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm" id="r_a1b3c85b3838ce7c1780b46f09ad16e59"><td class="memItemLeft" align="right" valign="top">
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>process</b> (typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, const uint32_t frame, typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#afdcea0695dc0eb1226d66442a5647a41">Module::Stats</a> *stats, <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;metadata)</td></tr>
<tr class="separator:a1b3c85b3838ce7c1780b46f09ad16e59 inherit pub_methods_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classlibcamera_1_1ipa_1_1Algorithm"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classlibcamera_1_1ipa_1_1Algorithm')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm&lt; Module &gt;</a></td></tr>
<tr class="memitem:ac52491716c9cd932770dc1a02d7d9b25 inherit pub_types_classlibcamera_1_1ipa_1_1Algorithm" id="r_ac52491716c9cd932770dc1a02d7d9b25"><td class="memItemLeft" align="right" valign="top">
using&#160;</td><td class="memItemRight" valign="bottom"><b>Module</b> = <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#ac52491716c9cd932770dc1a02d7d9b25">Module</a></td></tr>
<tr class="memdesc:ac52491716c9cd932770dc1a02d7d9b25 inherit pub_types_classlibcamera_1_1ipa_1_1Algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPA module type for this class of algorithms. <br /></td></tr>
<tr class="separator:ac52491716c9cd932770dc1a02d7d9b25 inherit pub_types_classlibcamera_1_1ipa_1_1Algorithm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An auto-focus algorithm based on IPU3 statistics. </p>
<p>This algorithm is used to determine the position of the lens to make a focused image. The IPU3 AF processing block computes the statistics that are composed by two types of filtered value and stores in a AF buffer. Typically, for a clear image, it has a relatively higher contrast than a blurred one. Therefore, if an image with the highest contrast can be found through the scan, the position of the len indicates to a clearest image. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="afcea18b80ab3822bbaa7df4a1f3ca7df" name="afcea18b80ab3822bbaa7df4a1f3ca7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcea18b80ab3822bbaa7df4a1f3ca7df">&#9670;&#160;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::ipa::ipu3::algorithms::Af::configure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IPAConfigInfo &amp;&#160;</td>
          <td class="paramname"><em>configInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the <a class="el" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html" title="An auto-focus algorithm based on IPU3 statistics.">Af</a> given a configInfo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configInfo</td><td>The IPA configuration data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code otherwise </dd></dl>

</div>
</div>
<a id="a50edbc40bd8238f2d37e826494142dcf" name="a50edbc40bd8238f2d37e826494142dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50edbc40bd8238f2d37e826494142dcf">&#9670;&#160;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::ipa::ipu3::algorithms::Af::prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAFrameContext.html">IPAFrameContext</a> &amp;&#160;</td>
          <td class="paramname"><em>frameContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structipu3__uapi__params.html">ipu3_uapi_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>

</div>
</div>
<a id="a31e1bf756c1ac08786db1ca5a7c136b7" name="a31e1bf756c1ac08786db1ca5a7c136b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e1bf756c1ac08786db1ca5a7c136b7">&#9670;&#160;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::ipa::ipu3::algorithms::Af::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAContext.html">IPAContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlibcamera_1_1ipa_1_1ipu3_1_1IPAFrameContext.html">IPAFrameContext</a> &amp;&#160;</td>
          <td class="paramname"><em>frameContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structipu3__uapi__stats__3a.html">ipu3_uapi_stats_3a</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the max contrast image and lens position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>The frame context sequence number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameContext</td><td>The current frame context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stats</td><td>The statistics buffer of IPU3 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">metadata</td><td>Metadata for the frame, to be filled by the algorithm</td></tr>
  </table>
  </dd>
</dl>
<p>Ideally, a clear image also has a relatively higher contrast. So, every image for each focus step should be tested to find an optimal focus step.</p>
<p>The Hill Climbing <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a>[1] is used to find the maximum variance of the AF statistics which is the AF output of IPU3. The focus step is increased then the variance of the AF statistics are estimated. If it finds the negative derivative we have just passed the peak, and we infer that the best focus is found.</p>
<p>[1] Hill Climbing <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a>, <a href="https://en.wikipedia.org/wiki/Hill_climbing">https://en.wikipedia.org/wiki/Hill_climbing</a> </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peripherals/camera/libcamera/src/ipa/ipu3/algorithms/<a class="el" href="ipu3_2algorithms_2af_8h_source.html">af.h</a></li>
<li>src/peripherals/camera/libcamera/src/ipa/ipu3/algorithms/<b>af.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
