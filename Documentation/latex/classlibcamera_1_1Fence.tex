\doxysection{libcamera\+::Fence Class Reference}
\hypertarget{classlibcamera_1_1Fence}{}\label{classlibcamera_1_1Fence}\index{libcamera::Fence@{libcamera::Fence}}


Synchronization primitive to manage resources.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1Fence_ab84dac1ce57f0370012d6b278a99325a}{Fence}} (\mbox{\hyperlink{classlibcamera_1_1UniqueFD}{Unique\+FD}} \mbox{\hyperlink{classlibcamera_1_1Fence_a727b40eeec53c109922381e7eed610aa}{fd}})
\begin{DoxyCompactList}\small\item\em Create a \doxylink{classlibcamera_1_1Fence}{Fence}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1Fence_a2e597e352ebf6b830daf0da398dd4437}{is\+Valid}} () const
\begin{DoxyCompactList}\small\item\em Check if a \doxylink{classlibcamera_1_1Fence}{Fence} is valid. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1UniqueFD}{Unique\+FD}} \& \mbox{\hyperlink{classlibcamera_1_1Fence_a727b40eeec53c109922381e7eed610aa}{fd}} () const
\begin{DoxyCompactList}\small\item\em Retrieve a constant reference to the file descriptor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1UniqueFD}{Unique\+FD}} \mbox{\hyperlink{classlibcamera_1_1Fence_a6fcdbbc8bb00428300d8a803702d546d}{release}} ()
\begin{DoxyCompactList}\small\item\em Release the ownership of the file descriptor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Synchronization primitive to manage resources. 

The \doxylink{classlibcamera_1_1Fence}{Fence} class models a synchronization primitive that can be used by applications to explicitly synchronize resource usage, and can be shared by multiple processes.

Fences are most commonly used in association with frame buffers. A \doxylink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer} can be associated with a \doxylink{classlibcamera_1_1Fence}{Fence} so that the library can wait for the \doxylink{classlibcamera_1_1Fence}{Fence} to be signalled before allowing the camera device to actually access the memory area described by the \doxylink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}.

\begin{DoxySeeAlso}{See also}
\doxylink{classlibcamera_1_1Request_a470cae8064c46e66367ea236dc13287d}{Request\+::add\+Buffer()}
\end{DoxySeeAlso}
By using a fence, applications can then synchronize between frame buffer consumers and producers, as for example a display device and a camera, to guarantee that a new data transfers only happen once the existing frames have been displayed.

A \doxylink{classlibcamera_1_1Fence}{Fence} can be realized by different event notification primitives, the most common of which is represented by waiting for read events to happen on a \href{https://www.kernel.org/doc/html/latest/driver-api/sync_file.html}{\texttt{ kernel sync file.}} This is currently the only mechanism supported by libcamera, but others can be implemented by extending or subclassing this class and implementing opportune handling in the core library. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlibcamera_1_1Fence_ab84dac1ce57f0370012d6b278a99325a}\label{classlibcamera_1_1Fence_ab84dac1ce57f0370012d6b278a99325a} 
\index{libcamera::Fence@{libcamera::Fence}!Fence@{Fence}}
\index{Fence@{Fence}!libcamera::Fence@{libcamera::Fence}}
\doxysubsubsection{\texorpdfstring{Fence()}{Fence()}}
{\footnotesize\ttfamily libcamera\+::\+Fence\+::\+Fence (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1UniqueFD}{Unique\+FD}}}]{fd }\end{DoxyParamCaption})}



Create a \doxylink{classlibcamera_1_1Fence}{Fence}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fd} & The fence file descriptor\\
\hline
\end{DoxyParams}
The file descriptor ownership is moved to the \doxylink{classlibcamera_1_1Fence}{Fence}. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1Fence_a727b40eeec53c109922381e7eed610aa}\label{classlibcamera_1_1Fence_a727b40eeec53c109922381e7eed610aa} 
\index{libcamera::Fence@{libcamera::Fence}!fd@{fd}}
\index{fd@{fd}!libcamera::Fence@{libcamera::Fence}}
\doxysubsubsection{\texorpdfstring{fd()}{fd()}}
{\footnotesize\ttfamily libcamera\+::\+Fence\+::fd (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve a constant reference to the file descriptor. 

\begin{DoxyReturn}{Returns}
A const reference to the fence file descriptor 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1Fence_a2e597e352ebf6b830daf0da398dd4437}\label{classlibcamera_1_1Fence_a2e597e352ebf6b830daf0da398dd4437} 
\index{libcamera::Fence@{libcamera::Fence}!isValid@{isValid}}
\index{isValid@{isValid}!libcamera::Fence@{libcamera::Fence}}
\doxysubsubsection{\texorpdfstring{isValid()}{isValid()}}
{\footnotesize\ttfamily libcamera\+::\+Fence\+::is\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Check if a \doxylink{classlibcamera_1_1Fence}{Fence} is valid. 

A \doxylink{classlibcamera_1_1Fence}{Fence} is valid if the file descriptor it wraps is valid.

\begin{DoxyReturn}{Returns}
True if the \doxylink{classlibcamera_1_1Fence}{Fence} is valid, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1Fence_a6fcdbbc8bb00428300d8a803702d546d}\label{classlibcamera_1_1Fence_a6fcdbbc8bb00428300d8a803702d546d} 
\index{libcamera::Fence@{libcamera::Fence}!release@{release}}
\index{release@{release}!libcamera::Fence@{libcamera::Fence}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily libcamera\+::\+Fence\+::release (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Release the ownership of the file descriptor. 

Release the ownership of the wrapped file descriptor by returning it to the caller.

\begin{DoxyReturn}{Returns}
The wrapper \doxylink{classlibcamera_1_1UniqueFD}{Unique\+FD} 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/\mbox{\hyperlink{fence_8h}{fence.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/fence.\+cpp\end{DoxyCompactItemize}
