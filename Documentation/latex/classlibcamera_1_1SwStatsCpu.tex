\doxysection{libcamera\+::Sw\+Stats\+Cpu Class Reference}
\hypertarget{classlibcamera_1_1SwStatsCpu}{}\label{classlibcamera_1_1SwStatsCpu}\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}


Class for gathering statistics on the CPU.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_aba238537c87ae40f0e78d27d0b09dcac}{is\+Valid}} () const
\begin{DoxyCompactList}\small\item\em Gets whether the statistics object is valid. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1SharedFD}{Shared\+FD}} \& \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a07f805ae47a24bac031894555b2c4b88}{get\+Stats\+FD}} ()
\begin{DoxyCompactList}\small\item\em Get the file descriptor for the statistics. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} \& \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_acc4efd5377f6c89d235a37d7bd066505}{pattern\+Size}} ()
\begin{DoxyCompactList}\small\item\em Get the pattern size. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a2fb7c76cb850a5638bd48eb7a697dede}{configure}} (const \mbox{\hyperlink{structlibcamera_1_1StreamConfiguration}{Stream\+Configuration}} \&input\+Cfg)
\begin{DoxyCompactList}\small\item\em Configure the statistics object for the passed in input format. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9}{set\+Window}} (const \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \&window)
\begin{DoxyCompactList}\small\item\em Specify window coordinates over which to gather statistics. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a474eeb68980be45d4298787e32332072}{start\+Frame}} ()
\begin{DoxyCompactList}\small\item\em Reset state to start statistics gathering for a new frame. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a322830c43185aefeeaebe7773fa1f81b}{finish\+Frame}} (uint32\+\_\+t frame, uint32\+\_\+t buffer\+Id)
\begin{DoxyCompactList}\small\item\em Finish statistics calculation for the current frame. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a6ba49f25abbb10c8e334aeeb9030576b}{process\+Line0}} (unsigned int y, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}src\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Process}{Process} line 0. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1SwStatsCpu_a977f3979a4ed8f92f960ba0487bce633}{process\+Line2}} (unsigned int y, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}src\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Process}{Process} line 2 and 3. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1SwStatsCpu_a8f6a8524212cdbce784e9f156ce5412e}\label{classlibcamera_1_1SwStatsCpu_a8f6a8524212cdbce784e9f156ce5412e} 
\mbox{\hyperlink{classlibcamera_1_1Signal}{Signal}}$<$ uint32\+\_\+t, uint32\+\_\+t $>$ {\bfseries stats\+Ready}
\begin{DoxyCompactList}\small\item\em Signals that the statistics are ready. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class for gathering statistics on the CPU. 

CPU based software ISP statistics implementation.

This class offers a configure function + functions to gather statistics on a line by line basis. This allows CPU based software debayering to interleave debayering and statistics gathering on a line by line basis while the input data is still hot in the cache.

It is also possible to specify a window over which to gather statistics instead of processing the whole frame. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1SwStatsCpu_a2fb7c76cb850a5638bd48eb7a697dede}\label{classlibcamera_1_1SwStatsCpu_a2fb7c76cb850a5638bd48eb7a697dede} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!configure@{configure}}
\index{configure@{configure}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{configure()}{configure()}}
{\footnotesize\ttfamily int libcamera\+::\+Sw\+Stats\+Cpu\+::configure (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1StreamConfiguration}{Stream\+Configuration}} \&}]{input\+Cfg }\end{DoxyParamCaption})}



Configure the statistics object for the passed in input format. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em input\+Cfg} & The input format\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, a negative errno value on failure 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1SwStatsCpu_a322830c43185aefeeaebe7773fa1f81b}\label{classlibcamera_1_1SwStatsCpu_a322830c43185aefeeaebe7773fa1f81b} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!finishFrame@{finishFrame}}
\index{finishFrame@{finishFrame}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{finishFrame()}{finishFrame()}}
{\footnotesize\ttfamily void libcamera\+::\+Sw\+Stats\+Cpu\+::finish\+Frame (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{frame,  }\item[{uint32\+\_\+t}]{buffer\+Id }\end{DoxyParamCaption})}



Finish statistics calculation for the current frame. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em frame} & The frame number \\
\hline
\mbox{\texttt{ in}}  & {\em buffer\+Id} & ID of the statistics buffer\\
\hline
\end{DoxyParams}
This may only be called after a successful \doxylink{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9}{set\+Window()} call. \Hypertarget{classlibcamera_1_1SwStatsCpu_a07f805ae47a24bac031894555b2c4b88}\label{classlibcamera_1_1SwStatsCpu_a07f805ae47a24bac031894555b2c4b88} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!getStatsFD@{getStatsFD}}
\index{getStatsFD@{getStatsFD}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{getStatsFD()}{getStatsFD()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classlibcamera_1_1SharedFD}{Shared\+FD}} \& libcamera\+::\+Sw\+Stats\+Cpu\+::get\+Stats\+FD (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the file descriptor for the statistics. 

\begin{DoxyReturn}{Returns}
The file descriptor 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1SwStatsCpu_aba238537c87ae40f0e78d27d0b09dcac}\label{classlibcamera_1_1SwStatsCpu_aba238537c87ae40f0e78d27d0b09dcac} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!isValid@{isValid}}
\index{isValid@{isValid}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{isValid()}{isValid()}}
{\footnotesize\ttfamily bool libcamera\+::\+Sw\+Stats\+Cpu\+::is\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Gets whether the statistics object is valid. 

\begin{DoxyReturn}{Returns}
True if it\textquotesingle{}s valid, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1SwStatsCpu_acc4efd5377f6c89d235a37d7bd066505}\label{classlibcamera_1_1SwStatsCpu_acc4efd5377f6c89d235a37d7bd066505} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!patternSize@{patternSize}}
\index{patternSize@{patternSize}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{patternSize()}{patternSize()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} \& libcamera\+::\+Sw\+Stats\+Cpu\+::pattern\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the pattern size. 

For some input-\/formats, e.\+g. Bayer data, processing is done multiple lines and/or columns at a time. Get width and height at which the (bayer) pattern repeats. Window values are rounded down to a multiple of this and the height also indicates if \doxylink{classlibcamera_1_1SwStatsCpu_a977f3979a4ed8f92f960ba0487bce633}{process\+Line2()} should be called or not. This may only be called after a successful \doxylink{classlibcamera_1_1SwStatsCpu_a2fb7c76cb850a5638bd48eb7a697dede}{configure()} call.

\begin{DoxyReturn}{Returns}
The pattern size 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1SwStatsCpu_a6ba49f25abbb10c8e334aeeb9030576b}\label{classlibcamera_1_1SwStatsCpu_a6ba49f25abbb10c8e334aeeb9030576b} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!processLine0@{processLine0}}
\index{processLine0@{processLine0}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{processLine0()}{processLine0()}}
{\footnotesize\ttfamily void libcamera\+::\+Sw\+Stats\+Cpu\+::process\+Line0 (\begin{DoxyParamCaption}\item[{unsigned int}]{y,  }\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{src\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxylink{classlibcamera_1_1Process}{Process} line 0. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em y} & The y coordinate. \\
\hline
\mbox{\texttt{ in}}  & {\em src} & The input data.\\
\hline
\end{DoxyParams}
This function processes line 0 for input formats with pattern\+Size height == 1. It\textquotesingle{}ll process line 0 and 1 for input formats with pattern\+Size height \texorpdfstring{$>$}{>}= 2. This function may only be called after a successful \doxylink{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9}{set\+Window()} call. \Hypertarget{classlibcamera_1_1SwStatsCpu_a977f3979a4ed8f92f960ba0487bce633}\label{classlibcamera_1_1SwStatsCpu_a977f3979a4ed8f92f960ba0487bce633} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!processLine2@{processLine2}}
\index{processLine2@{processLine2}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{processLine2()}{processLine2()}}
{\footnotesize\ttfamily void libcamera\+::\+Sw\+Stats\+Cpu\+::process\+Line2 (\begin{DoxyParamCaption}\item[{unsigned int}]{y,  }\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{src\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxylink{classlibcamera_1_1Process}{Process} line 2 and 3. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em y} & The y coordinate. \\
\hline
\mbox{\texttt{ in}}  & {\em src} & The input data.\\
\hline
\end{DoxyParams}
This function processes line 2 and 3 for input formats with pattern\+Size height == 4. This function may only be called after a successful \doxylink{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9}{set\+Window()} call. \Hypertarget{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9}\label{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!setWindow@{setWindow}}
\index{setWindow@{setWindow}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{setWindow()}{setWindow()}}
{\footnotesize\ttfamily void libcamera\+::\+Sw\+Stats\+Cpu\+::set\+Window (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \&}]{window }\end{DoxyParamCaption})}



Specify window coordinates over which to gather statistics. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em window} & The window object. \\
\hline
\end{DoxyParams}
\Hypertarget{classlibcamera_1_1SwStatsCpu_a474eeb68980be45d4298787e32332072}\label{classlibcamera_1_1SwStatsCpu_a474eeb68980be45d4298787e32332072} 
\index{libcamera::SwStatsCpu@{libcamera::SwStatsCpu}!startFrame@{startFrame}}
\index{startFrame@{startFrame}!libcamera::SwStatsCpu@{libcamera::SwStatsCpu}}
\doxysubsubsection{\texorpdfstring{startFrame()}{startFrame()}}
{\footnotesize\ttfamily void libcamera\+::\+Sw\+Stats\+Cpu\+::start\+Frame (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reset state to start statistics gathering for a new frame. 

This may only be called after a successful \doxylink{classlibcamera_1_1SwStatsCpu_a553b4593d4397d2a2c9567a59708c7d9}{set\+Window()} call. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/src/libcamera/software\+\_\+isp/swstats\+\_\+cpu.\+h\item 
src/peripherals/camera/libcamera/src/libcamera/software\+\_\+isp/swstats\+\_\+cpu.\+cpp\end{DoxyCompactItemize}
