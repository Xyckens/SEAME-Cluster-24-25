\doxysection{libcamera\+::Request\+::Private Class Reference}
\hypertarget{classlibcamera_1_1Request_1_1Private}{}\label{classlibcamera_1_1Request_1_1Private}\index{libcamera::Request::Private@{libcamera::Request::Private}}


\doxylink{classlibcamera_1_1Request}{Request} private data.  


Inheritance diagram for libcamera\+::Request\+::Private\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classlibcamera_1_1Request_1_1Private}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_a6d334bff3c7a4d007c94a5f08310e0a5}{Private}} (\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_aacd66dd0be329ee10f8dd6df52b50180}{camera}})
\begin{DoxyCompactList}\small\item\em Create a \doxylink{classlibcamera_1_1Request_1_1Private}{Request\+::\+Private}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_aacd66dd0be329ee10f8dd6df52b50180}{camera}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the camera this request has been queued to. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_afea2b7c6a66cd3031be9fcc607e88a04}{has\+Pending\+Buffers}} () const
\begin{DoxyCompactList}\small\item\em Check if a request has buffers yet to be completed. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_a798c446eb1720d47e3edb8e084145f68}{complete\+Buffer}} (\mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} \texorpdfstring{$\ast$}{*}buffer)
\begin{DoxyCompactList}\small\item\em Complete a buffer for the request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_aae2627616bcaf346be25275586b6a4fd}{complete}} ()
\begin{DoxyCompactList}\small\item\em Complete a queued request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_a77f18e021b500f1207f83413dee5ea29}{cancel}} ()
\begin{DoxyCompactList}\small\item\em Cancel a queued request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_a5522c59f19f2dee9ac6d360f41ba1822}{reset}} ()
\begin{DoxyCompactList}\small\item\em Reset the request internal data to default values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_a20f854e13dc52ec479ebc7f1a2fdc503}{prepare}} (std\+::chrono\+::milliseconds timeout=0ms)
\begin{DoxyCompactList}\small\item\em Prepare the \doxylink{classlibcamera_1_1Request}{Request} to be queued to the device. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Extensible_1_1Private}{libcamera\+::\+Extensible\+::\+Private}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Private} ()
\begin{DoxyCompactList}\small\item\em Construct an instance of an \doxylink{classlibcamera_1_1Extensible}{Extensible} class private data. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\const T \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+o} () const
\item 
{\footnotesize template$<$typename T $>$ }\\T \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+o} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1Signal}{Signal}} \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_ad5be6e6d4ae2cdbf6cb23d873facd689}{prepared}}
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Request}{Request} preparation completed \doxylink{classlibcamera_1_1Signal}{Signal}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1Request_1_1Private_a369af2e02b866814ed9eb3f5f2092139}\label{classlibcamera_1_1Request_1_1Private_a369af2e02b866814ed9eb3f5f2092139} 
class {\bfseries Pipeline\+Handler}
\item 
std\+::ostream \& \mbox{\hyperlink{classlibcamera_1_1Request_1_1Private_afab0c38e21f75bf90b537887ea7e0ab1}{operator$<$$<$}} (std\+::ostream \&out, const \mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \&r)
\begin{DoxyCompactList}\small\item\em Insert a text representation of a \doxylink{classlibcamera_1_1Request}{Request} into an output stream. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{classlibcamera_1_1Request}{Request} private data. 

The \doxylink{classlibcamera_1_1Request_1_1Private}{Request\+::\+Private} class stores all private data associated with a request. It implements the d-\/pointer design pattern to hide core \doxylink{classlibcamera_1_1Request}{Request} data from the public API, and exposes utility functions to internal users of the request (namely the \doxylink{classlibcamera_1_1PipelineHandler}{Pipeline\+Handler} class and its subclasses). 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlibcamera_1_1Request_1_1Private_a6d334bff3c7a4d007c94a5f08310e0a5}\label{classlibcamera_1_1Request_1_1Private_a6d334bff3c7a4d007c94a5f08310e0a5} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!Private@{Private}}
\index{Private@{Private}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{Private()}{Private()}}
{\footnotesize\ttfamily libcamera\+::\+Request\+::\+Private\+::\+Private (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Camera}{Camera}} \texorpdfstring{$\ast$}{*}}]{camera }\end{DoxyParamCaption})}



Create a \doxylink{classlibcamera_1_1Request_1_1Private}{Request\+::\+Private}. 


\begin{DoxyParams}{Parameters}
{\em camera} & The \doxylink{classlibcamera_1_1Camera}{Camera} that creates the request \\
\hline
\end{DoxyParams}
\Hypertarget{classlibcamera_1_1Request_1_1Private_a3852ae642cd5614ef25cf66ec9151f20}\label{classlibcamera_1_1Request_1_1Private_a3852ae642cd5614ef25cf66ec9151f20} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!````~Private@{\texorpdfstring{$\sim$}{\string~}Private}}
\index{````~Private@{\texorpdfstring{$\sim$}{\string~}Private}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}Private()}{\string~Private()}}
{\footnotesize\ttfamily libcamera\+::\+Request\+::\+Private\+::\texorpdfstring{$\sim$}{\string~}\+Private (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classlibcamera_1_1Extensible_1_1Private}{libcamera\+::\+Extensible\+::\+Private}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1Request_1_1Private_aacd66dd0be329ee10f8dd6df52b50180}\label{classlibcamera_1_1Request_1_1Private_aacd66dd0be329ee10f8dd6df52b50180} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!camera@{camera}}
\index{camera@{camera}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{camera()}{camera()}}
{\footnotesize\ttfamily libcamera\+::\+Request\+::\+Private\+::camera (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the camera this request has been queued to. 

\begin{DoxyReturn}{Returns}
The \doxylink{classlibcamera_1_1Camera}{Camera} this request has been queued to, or nullptr if the request hasn\textquotesingle{}t been queued 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1Request_1_1Private_a77f18e021b500f1207f83413dee5ea29}\label{classlibcamera_1_1Request_1_1Private_a77f18e021b500f1207f83413dee5ea29} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!cancel@{cancel}}
\index{cancel@{cancel}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{cancel()}{cancel()}}
{\footnotesize\ttfamily void libcamera\+::\+Request\+::\+Private\+::cancel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Cancel a queued request. 

Mark the request and its associated buffers as cancelled and complete it.

Set each pending buffer in error state and emit the buffer completion signal before completing the \doxylink{classlibcamera_1_1Request}{Request}. \Hypertarget{classlibcamera_1_1Request_1_1Private_aae2627616bcaf346be25275586b6a4fd}\label{classlibcamera_1_1Request_1_1Private_aae2627616bcaf346be25275586b6a4fd} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!complete@{complete}}
\index{complete@{complete}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{complete()}{complete()}}
{\footnotesize\ttfamily void libcamera\+::\+Request\+::\+Private\+::complete (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Complete a queued request. 

Mark the request as complete by updating its status to Request\+Complete, unless buffers have been cancelled in which case the status is set to Request\+Cancelled. \Hypertarget{classlibcamera_1_1Request_1_1Private_a798c446eb1720d47e3edb8e084145f68}\label{classlibcamera_1_1Request_1_1Private_a798c446eb1720d47e3edb8e084145f68} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!completeBuffer@{completeBuffer}}
\index{completeBuffer@{completeBuffer}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{completeBuffer()}{completeBuffer()}}
{\footnotesize\ttfamily bool libcamera\+::\+Request\+::\+Private\+::complete\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} \texorpdfstring{$\ast$}{*}}]{buffer }\end{DoxyParamCaption})}



Complete a buffer for the request. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buffer} & The buffer that has completed\\
\hline
\end{DoxyParams}
A request tracks the status of all buffers it contains through a set of pending buffers. This function removes the {\itshape buffer} from the set to mark it as complete. All buffers associate with the request shall be marked as complete by calling this function once and once only before reporting the request as complete with the \doxylink{classlibcamera_1_1Request_1_1Private_aae2627616bcaf346be25275586b6a4fd}{complete()} function.

\begin{DoxyReturn}{Returns}
True if all buffers contained in the request have completed, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1Request_1_1Private_afea2b7c6a66cd3031be9fcc607e88a04}\label{classlibcamera_1_1Request_1_1Private_afea2b7c6a66cd3031be9fcc607e88a04} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!hasPendingBuffers@{hasPendingBuffers}}
\index{hasPendingBuffers@{hasPendingBuffers}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{hasPendingBuffers()}{hasPendingBuffers()}}
{\footnotesize\ttfamily bool libcamera\+::\+Request\+::\+Private\+::has\+Pending\+Buffers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Check if a request has buffers yet to be completed. 

\begin{DoxyReturn}{Returns}
True if the request has buffers pending for completion, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1Request_1_1Private_a20f854e13dc52ec479ebc7f1a2fdc503}\label{classlibcamera_1_1Request_1_1Private_a20f854e13dc52ec479ebc7f1a2fdc503} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!prepare@{prepare}}
\index{prepare@{prepare}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{prepare()}{prepare()}}
{\footnotesize\ttfamily void libcamera\+::\+Request\+::\+Private\+::prepare (\begin{DoxyParamCaption}\item[{std\+::chrono\+::milliseconds}]{timeout = {\ttfamily 0ms} }\end{DoxyParamCaption})}



Prepare the \doxylink{classlibcamera_1_1Request}{Request} to be queued to the device. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em timeout} & Optional expiration timeout\\
\hline
\end{DoxyParams}
Prepare a \doxylink{classlibcamera_1_1Request}{Request} to be queued to the hardware device by ensuring it is ready for the incoming memory transfers.

This currently means waiting on each frame buffer acquire fence to be signalled. An optional expiration timeout can be specified. If not all the fences have been signalled correctly before the timeout expires the \doxylink{classlibcamera_1_1Request}{Request} is cancelled.

The function immediately emits the prepared signal if all the prepare operations have been completed synchronously. If instead the prepare operations require to wait the completion of asynchronous events, such as fences notifications or timer expiration, the prepared signal is emitted upon the asynchronous event completion.

As we currently only handle fences, the function emits the prepared signal immediately if there are no fences to wait on. Otherwise the prepared signal is emitted when all fences have been signalled or the optional timeout has expired.

If not all the fences have been correctly signalled or the optional timeout has expired the \doxylink{classlibcamera_1_1Request}{Request} will be cancelled and the Request\+::prepared signal emitted.

The intended user of this function is the \doxylink{classlibcamera_1_1PipelineHandler}{Pipeline\+Handler} base class, which \textquotesingle{}prepares\textquotesingle{} a \doxylink{classlibcamera_1_1Request}{Request} before queuing it to the hardware device. \Hypertarget{classlibcamera_1_1Request_1_1Private_a5522c59f19f2dee9ac6d360f41ba1822}\label{classlibcamera_1_1Request_1_1Private_a5522c59f19f2dee9ac6d360f41ba1822} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!reset@{reset}}
\index{reset@{reset}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void libcamera\+::\+Request\+::\+Private\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Reset the request internal data to default values. 

After calling this function, all request internal data will have default values as if the \doxylink{classlibcamera_1_1Request_1_1Private}{Request\+::\+Private} instance had just been constructed. 

\doxysubsection{Friends And Related Symbol Documentation}
\Hypertarget{classlibcamera_1_1Request_1_1Private_afab0c38e21f75bf90b537887ea7e0ab1}\label{classlibcamera_1_1Request_1_1Private_afab0c38e21f75bf90b537887ea7e0ab1} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$}{operator<<}}
{\footnotesize\ttfamily std\+::ostream \& operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{out,  }\item[{const \mbox{\hyperlink{classlibcamera_1_1Request}{Request}} \&}]{r }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Insert a text representation of a \doxylink{classlibcamera_1_1Request}{Request} into an output stream. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em out} & The output stream \\
\hline
\mbox{\texttt{ in}}  & {\em r} & The \doxylink{classlibcamera_1_1Request}{Request} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The output stream {\itshape out} 
\end{DoxyReturn}


\doxysubsection{Member Data Documentation}
\Hypertarget{classlibcamera_1_1Request_1_1Private_ad5be6e6d4ae2cdbf6cb23d873facd689}\label{classlibcamera_1_1Request_1_1Private_ad5be6e6d4ae2cdbf6cb23d873facd689} 
\index{libcamera::Request::Private@{libcamera::Request::Private}!prepared@{prepared}}
\index{prepared@{prepared}!libcamera::Request::Private@{libcamera::Request::Private}}
\doxysubsubsection{\texorpdfstring{prepared}{prepared}}
{\footnotesize\ttfamily libcamera\+::\+Request\+::\+Private\+::prepared}



\doxylink{classlibcamera_1_1Request}{Request} preparation completed \doxylink{classlibcamera_1_1Signal}{Signal}. 

The signal is emitted once the request preparation has completed and is ready to be queued. The \doxylink{classlibcamera_1_1Request}{Request} might complete with errors in which case it is cancelled.

The intended slot for this signal is the Pipeline\+Handler\+::do\+Queue\+Requests() function which queues \doxylink{classlibcamera_1_1Request}{Request} after they have been prepared or cancel them if they have failed preparing. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/internal/request.\+h\item 
src/peripherals/camera/libcamera/src/libcamera/request.\+cpp\end{DoxyCompactItemize}
