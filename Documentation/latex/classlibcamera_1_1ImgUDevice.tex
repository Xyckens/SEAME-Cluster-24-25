\doxysection{libcamera\+::Img\+UDevice Class Reference}
\hypertarget{classlibcamera_1_1ImgUDevice}{}\label{classlibcamera_1_1ImgUDevice}\index{libcamera::ImgUDevice@{libcamera::ImgUDevice}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1Pipe}{Pipe}}
\item 
struct \mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1PipeConfig}{Pipe\+Config}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classlibcamera_1_1ImgUDevice_a9db037ab59803a96cff3a2e6fa41a303}{init}} (\mbox{\hyperlink{classlibcamera_1_1MediaDevice}{Media\+Device}} \texorpdfstring{$\ast$}{*}media, unsigned int index)
\begin{DoxyCompactList}\small\item\em Initialize components of the ImgU instance. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1PipeConfig}{Pipe\+Config}} \mbox{\hyperlink{classlibcamera_1_1ImgUDevice_ae7a7026d4848abfd87f46bcbdf99838d}{calculate\+Pipe\+Config}} (\mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1Pipe}{Pipe}} \texorpdfstring{$\ast$}{*}pipe)
\begin{DoxyCompactList}\small\item\em Calculate the ImgU pipe configuration parameters. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1ImgUDevice_a0a536100ff247a743ea062d5b0f54491}{configure}} (const \mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1PipeConfig}{Pipe\+Config}} \&pipe\+Config, \mbox{\hyperlink{classlibcamera_1_1V4L2DeviceFormat}{V4\+L2\+Device\+Format}} \texorpdfstring{$\ast$}{*}input\+Format)
\begin{DoxyCompactList}\small\item\em Configure the ImgU pipeline. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a838863f5fce559ab0fc2c7e8d9189ef3}\label{classlibcamera_1_1ImgUDevice_a838863f5fce559ab0fc2c7e8d9189ef3} 
int {\bfseries configure\+Output} (const \mbox{\hyperlink{structlibcamera_1_1StreamConfiguration}{Stream\+Configuration}} \&cfg, \mbox{\hyperlink{classlibcamera_1_1V4L2DeviceFormat}{V4\+L2\+Device\+Format}} \texorpdfstring{$\ast$}{*}output\+Format)
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a9386606121da6a17cf4a671d77903dab}\label{classlibcamera_1_1ImgUDevice_a9386606121da6a17cf4a671d77903dab} 
int {\bfseries configure\+Viewfinder} (const \mbox{\hyperlink{structlibcamera_1_1StreamConfiguration}{Stream\+Configuration}} \&cfg, \mbox{\hyperlink{classlibcamera_1_1V4L2DeviceFormat}{V4\+L2\+Device\+Format}} \texorpdfstring{$\ast$}{*}output\+Format)
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a8b54914ff1729f2c2781cae9b87306cb}\label{classlibcamera_1_1ImgUDevice_a8b54914ff1729f2c2781cae9b87306cb} 
int {\bfseries allocate\+Buffers} (unsigned int buffer\+Count)
\begin{DoxyCompactList}\small\item\em Allocate buffers for all the ImgU video devices. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_aefa8d305e7c92d96496241fbcc8af0ab}\label{classlibcamera_1_1ImgUDevice_aefa8d305e7c92d96496241fbcc8af0ab} 
void {\bfseries free\+Buffers} ()
\begin{DoxyCompactList}\small\item\em Release buffers for all the ImgU video devices. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a8047af9811d2c4517f0f51b994928279}\label{classlibcamera_1_1ImgUDevice_a8047af9811d2c4517f0f51b994928279} 
int {\bfseries start} ()
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a538c7d631c9697ec7069e6b39f71547e}\label{classlibcamera_1_1ImgUDevice_a538c7d631c9697ec7069e6b39f71547e} 
int {\bfseries stop} ()
\item 
int \mbox{\hyperlink{classlibcamera_1_1ImgUDevice_abab917b2cd40b6c04d008706b41d60c8}{enable\+Links}} (bool enable)
\begin{DoxyCompactList}\small\item\em Enable or disable all media links in the ImgU instance to prepare for capture operations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a1000112b0cd40dde8bb9fe9710c8a651}\label{classlibcamera_1_1ImgUDevice_a1000112b0cd40dde8bb9fe9710c8a651} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice}} $>$ {\bfseries imgu\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_ac9e389252c4dd572dd5c911e98746a67}\label{classlibcamera_1_1ImgUDevice_ac9e389252c4dd572dd5c911e98746a67} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2VideoDevice}{V4\+L2\+Video\+Device}} $>$ {\bfseries input\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a2fa07ea7dc663652fc9eb2abdf559749}\label{classlibcamera_1_1ImgUDevice_a2fa07ea7dc663652fc9eb2abdf559749} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2VideoDevice}{V4\+L2\+Video\+Device}} $>$ {\bfseries param\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a5d8359e44281fea0191189f7334ff8d9}\label{classlibcamera_1_1ImgUDevice_a5d8359e44281fea0191189f7334ff8d9} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2VideoDevice}{V4\+L2\+Video\+Device}} $>$ {\bfseries output\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_adc183e37f614c6e3d44e0a12dec43944}\label{classlibcamera_1_1ImgUDevice_adc183e37f614c6e3d44e0a12dec43944} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2VideoDevice}{V4\+L2\+Video\+Device}} $>$ {\bfseries viewfinder\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a56150432beefb85ae4cbddddaf3b2985}\label{classlibcamera_1_1ImgUDevice_a56150432beefb85ae4cbddddaf3b2985} 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2VideoDevice}{V4\+L2\+Video\+Device}} $>$ {\bfseries stat\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a28860990f5a7b162edb5b9483fd9df1b}\label{classlibcamera_1_1ImgUDevice_a28860990f5a7b162edb5b9483fd9df1b} 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} $>$ $>$ {\bfseries param\+Buffers\+\_\+}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a550799a95c72c2fd2381eb7a2afe78a3}\label{classlibcamera_1_1ImgUDevice_a550799a95c72c2fd2381eb7a2afe78a3} 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer}} $>$ $>$ {\bfseries stat\+Buffers\+\_\+}
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_abe665ba2c7d1d771a36456a93ea09657}\label{classlibcamera_1_1ImgUDevice_abe665ba2c7d1d771a36456a93ea09657} 
static constexpr unsigned int {\bfseries k\+Filter\+Width} = 4
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_af437f8031f7297c3834b0c35b5abe5e7}\label{classlibcamera_1_1ImgUDevice_af437f8031f7297c3834b0c35b5abe5e7} 
static constexpr unsigned int {\bfseries k\+Filter\+Height} = 4
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a1acf53544792726403ddd6f451837d47}\label{classlibcamera_1_1ImgUDevice_a1acf53544792726403ddd6f451837d47} 
static constexpr unsigned int {\bfseries k\+IFAlign\+Width} = 2
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_af41b7306bda18504a23fdd3dc6a4f755}\label{classlibcamera_1_1ImgUDevice_af41b7306bda18504a23fdd3dc6a4f755} 
static constexpr unsigned int {\bfseries k\+IFAlign\+Height} = 4
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a73638d1701fb822cac70744a01fadede}\label{classlibcamera_1_1ImgUDevice_a73638d1701fb822cac70744a01fadede} 
static constexpr unsigned int {\bfseries k\+IFMax\+Crop\+Width} = 40
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a3ab813e78bb137624e0daa46a26f84fd}\label{classlibcamera_1_1ImgUDevice_a3ab813e78bb137624e0daa46a26f84fd} 
static constexpr unsigned int {\bfseries k\+IFMax\+Crop\+Height} = 540
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a1df9b2c2441e77fab3cd3a934162630d}\label{classlibcamera_1_1ImgUDevice_a1df9b2c2441e77fab3cd3a934162630d} 
static constexpr unsigned int {\bfseries k\+BDSAlign\+Width} = 2
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_ac65836c3847d5e8b85348570b194cc20}\label{classlibcamera_1_1ImgUDevice_ac65836c3847d5e8b85348570b194cc20} 
static constexpr unsigned int {\bfseries k\+BDSAlign\+Height} = 4
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a1d395842532c11c3c828c631d0f302b5}\label{classlibcamera_1_1ImgUDevice_a1d395842532c11c3c828c631d0f302b5} 
static constexpr float {\bfseries k\+BDSSf\+Max} = 2.\+5
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a718b004c29f56b31031cc8d1742bc253}\label{classlibcamera_1_1ImgUDevice_a718b004c29f56b31031cc8d1742bc253} 
static constexpr float {\bfseries k\+BDSSf\+Min} = 1.\+0
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a9a0d90af0b801112150ffd31bde3376e}\label{classlibcamera_1_1ImgUDevice_a9a0d90af0b801112150ffd31bde3376e} 
static constexpr float {\bfseries k\+BDSSf\+Step} = 0.\+03125
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_afb3fac3844d3e34fdcb2be0e565ccf1f}\label{classlibcamera_1_1ImgUDevice_afb3fac3844d3e34fdcb2be0e565ccf1f} 
static constexpr \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} {\bfseries k\+Output\+Min\+Size} = \{ 2, 2 \}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a0883fd6c7e5010b0f87744d477207261}\label{classlibcamera_1_1ImgUDevice_a0883fd6c7e5010b0f87744d477207261} 
static constexpr \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} {\bfseries k\+Output\+Max\+Size} = \{ 4480, 34004 \}
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_a7f7cab78c151d9d03d67ce553af9ad55}\label{classlibcamera_1_1ImgUDevice_a7f7cab78c151d9d03d67ce553af9ad55} 
static constexpr unsigned int {\bfseries k\+Output\+Align\+Width} = 64
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_aff94e5dee46fc3aeeaaa6ec3fe59ec32}\label{classlibcamera_1_1ImgUDevice_aff94e5dee46fc3aeeaaa6ec3fe59ec32} 
static constexpr unsigned int {\bfseries k\+Output\+Align\+Height} = 4
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_ad8f4131641deb27bc4d0ac8b35d3dd3a}\label{classlibcamera_1_1ImgUDevice_ad8f4131641deb27bc4d0ac8b35d3dd3a} 
static constexpr unsigned int {\bfseries k\+Output\+Margin\+Width} = 64
\item 
\Hypertarget{classlibcamera_1_1ImgUDevice_abd8e48124c735e93e37d61f81ac9d6a2}\label{classlibcamera_1_1ImgUDevice_abd8e48124c735e93e37d61f81ac9d6a2} 
static constexpr unsigned int {\bfseries k\+Output\+Margin\+Height} = 32
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1ImgUDevice_ae7a7026d4848abfd87f46bcbdf99838d}\label{classlibcamera_1_1ImgUDevice_ae7a7026d4848abfd87f46bcbdf99838d} 
\index{libcamera::ImgUDevice@{libcamera::ImgUDevice}!calculatePipeConfig@{calculatePipeConfig}}
\index{calculatePipeConfig@{calculatePipeConfig}!libcamera::ImgUDevice@{libcamera::ImgUDevice}}
\doxysubsubsection{\texorpdfstring{calculatePipeConfig()}{calculatePipeConfig()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1PipeConfig}{Img\+UDevice\+::\+Pipe\+Config}} libcamera\+::\+Img\+UDevice\+::calculate\+Pipe\+Config (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1Pipe}{Pipe}} \texorpdfstring{$\ast$}{*}}]{pipe }\end{DoxyParamCaption})}



Calculate the ImgU pipe configuration parameters. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pipe} & The requested ImgU configuration \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An \doxylink{structlibcamera_1_1ImgUDevice_1_1PipeConfig}{Img\+UDevice\+::\+Pipe\+Config} instance on success, an empty configuration otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1ImgUDevice_a0a536100ff247a743ea062d5b0f54491}\label{classlibcamera_1_1ImgUDevice_a0a536100ff247a743ea062d5b0f54491} 
\index{libcamera::ImgUDevice@{libcamera::ImgUDevice}!configure@{configure}}
\index{configure@{configure}!libcamera::ImgUDevice@{libcamera::ImgUDevice}}
\doxysubsubsection{\texorpdfstring{configure()}{configure()}}
{\footnotesize\ttfamily int libcamera\+::\+Img\+UDevice\+::configure (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1ImgUDevice_1_1PipeConfig}{Pipe\+Config}} \&}]{pipe\+Config,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2DeviceFormat}{V4\+L2\+Device\+Format}} \texorpdfstring{$\ast$}{*}}]{input\+Format }\end{DoxyParamCaption})}



Configure the ImgU pipeline. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em config} & The ImgU pipe configuration parameters \\
\hline
\mbox{\texttt{ in}}  & {\em input\+Format} & The format to be applied to ImgU input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1ImgUDevice_abab917b2cd40b6c04d008706b41d60c8}\label{classlibcamera_1_1ImgUDevice_abab917b2cd40b6c04d008706b41d60c8} 
\index{libcamera::ImgUDevice@{libcamera::ImgUDevice}!enableLinks@{enableLinks}}
\index{enableLinks@{enableLinks}!libcamera::ImgUDevice@{libcamera::ImgUDevice}}
\doxysubsubsection{\texorpdfstring{enableLinks()}{enableLinks()}}
{\footnotesize\ttfamily int libcamera\+::\+Img\+UDevice\+::enable\+Links (\begin{DoxyParamCaption}\item[{bool}]{enable }\end{DoxyParamCaption})}



Enable or disable all media links in the ImgU instance to prepare for capture operations. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000038}{Todo}}]This function will probably be removed or changed once links will be enabled or disabled selectively.\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1ImgUDevice_a9db037ab59803a96cff3a2e6fa41a303}\label{classlibcamera_1_1ImgUDevice_a9db037ab59803a96cff3a2e6fa41a303} 
\index{libcamera::ImgUDevice@{libcamera::ImgUDevice}!init@{init}}
\index{init@{init}!libcamera::ImgUDevice@{libcamera::ImgUDevice}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily int libcamera\+::\+Img\+UDevice\+::init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1MediaDevice}{Media\+Device}} \texorpdfstring{$\ast$}{*}}]{media,  }\item[{unsigned int}]{index }\end{DoxyParamCaption})}



Initialize components of the ImgU instance. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em media\+Device} & The ImgU instance media device \\
\hline
\mbox{\texttt{ in}}  & {\em index} & The ImgU instance index\\
\hline
\end{DoxyParams}
Create and open the V4\+L2 devices and subdevices of the ImgU instance with {\itshape index}.

In case of errors the created \doxylink{classlibcamera_1_1V4L2VideoDevice}{V4\+L2\+Video\+Device} and \doxylink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice} instances are destroyed at pipeline handler delete time.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/src/libcamera/pipeline/ipu3/imgu.\+h\item 
src/peripherals/camera/libcamera/src/libcamera/pipeline/ipu3/imgu.\+cpp\end{DoxyCompactItemize}
