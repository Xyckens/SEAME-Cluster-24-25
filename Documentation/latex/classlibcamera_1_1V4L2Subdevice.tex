\doxysection{libcamera\+::V4\+L2\+Subdevice Class Reference}
\hypertarget{classlibcamera_1_1V4L2Subdevice}{}\label{classlibcamera_1_1V4L2Subdevice}\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}


A V4\+L2 subdevice as exposed by the Linux kernel.  


Inheritance diagram for libcamera\+::V4\+L2\+Subdevice\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classlibcamera_1_1V4L2Subdevice}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route}{Route}}
\begin{DoxyCompactList}\small\item\em V4\+L2 subdevice routing table entry. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}}
\begin{DoxyCompactList}\small\item\em V4\+L2 subdevice stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} \{ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format}} = V4\+L2\+\_\+\+SUBDEV\+\_\+\+FORMAT\+\_\+\+TRY
, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}} = V4\+L2\+\_\+\+SUBDEV\+\_\+\+FORMAT\+\_\+\+ACTIVE
 \}
\begin{DoxyCompactList}\small\item\em Specify the type of format for \doxylink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{get\+Format()} and \doxylink{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4}{set\+Format()} operations. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}\label{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109} 
using {\bfseries Formats} = std\+::map$<$ unsigned int, std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1SizeRange}{Size\+Range}} $>$ $>$
\begin{DoxyCompactList}\small\item\em A map of supported media bus formats to frame sizes. \end{DoxyCompactList}\item 
using \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}} = std\+::vector$<$ \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Route}{Route}} $>$
\begin{DoxyCompactList}\small\item\em V4\+L2 subdevice routing table. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1V4L2Subdevice_aded4791bb9d9a977f33417b19590d1af}\label{classlibcamera_1_1V4L2Subdevice_aded4791bb9d9a977f33417b19590d1af} 
{\bfseries V4\+L2\+Subdevice} (const \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{Media\+Entity}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}{entity}})
\begin{DoxyCompactList}\small\item\em Create a V4\+L2 subdevice from a \doxylink{classlibcamera_1_1MediaEntity}{Media\+Entity} using its device node path. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a3bb955aa504fdaca8b068ea6936b39e8}{open}} ()
\begin{DoxyCompactList}\small\item\em Open a V4\+L2 subdevice. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{Media\+Entity}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}{entity}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the media entity associated with the subdevice. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a73ac07ba76587bb56181aa699cd15554}{get\+Selection}} (const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&stream, unsigned int target, \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}rect)
\begin{DoxyCompactList}\small\item\em Get selection rectangle {\itshape rect} for {\itshape target}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a3a26549de04b49ff3fbd94f0f2448706}{get\+Selection}} (unsigned int pad, unsigned int target, \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}rect)
\begin{DoxyCompactList}\small\item\em Get selection rectangle {\itshape rect} for {\itshape target}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a62c91acb30f22a4b526b157c03d2cc60}{set\+Selection}} (const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&stream, unsigned int target, \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}rect)
\begin{DoxyCompactList}\small\item\em Set selection rectangle {\itshape rect} for {\itshape target}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a8e021fbbd868e89103c0619afce3470b}{set\+Selection}} (unsigned int pad, unsigned int target, \mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}rect)
\begin{DoxyCompactList}\small\item\em Set selection rectangle {\itshape rect} for {\itshape target}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}{Formats}} \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_aa6c2f0770e41684df0fa0789f9f1e37f}{formats}} (const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&stream)
\begin{DoxyCompactList}\small\item\em Enumerate all media bus codes and frame sizes on a {\itshape stream}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}{Formats}} \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_aa5f63a79195261e864e4d1d7d454e6de}{formats}} (unsigned int pad)
\begin{DoxyCompactList}\small\item\em Enumerate all media bus codes and frame sizes on a {\itshape pad}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{get\+Format}} (const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&stream, \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}format, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} whence=\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}})
\begin{DoxyCompactList}\small\item\em Retrieve the image format set on one of the V4\+L2 subdevice streams. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ac4e02479daeb7e39cbc73d296203fbcd}{get\+Format}} (unsigned int pad, \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}format, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} whence=\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}})
\begin{DoxyCompactList}\small\item\em Retrieve the image format set on one of the V4\+L2 subdevice pads. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4}{set\+Format}} (const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&stream, \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}format, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} whence=\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}})
\begin{DoxyCompactList}\small\item\em Set an image format on one of the V4\+L2 subdevice pads. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a3dcfc24701b847dd318f8b6321933368}{set\+Format}} (unsigned int pad, \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}format, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} whence=\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}})
\begin{DoxyCompactList}\small\item\em Set an image format on one of the V4\+L2 subdevice pads. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ae9c19611e4a42ee9b2a7bf8931eb076c}{get\+Routing}} (\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}} \texorpdfstring{$\ast$}{*}routing, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} whence=\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}})
\begin{DoxyCompactList}\small\item\em Retrieve the subdevice\textquotesingle{}s internal routing table. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a457630ab43d822769aa1053d03310454}{set\+Routing}} (\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}} \texorpdfstring{$\ast$}{*}routing, \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}} whence=\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}})
\begin{DoxyCompactList}\small\item\em Set a routing table on the V4\+L2 subdevice. \end{DoxyCompactList}\item 
const std\+::string \& \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_ac8e06bbad91b294a1ac6fe4568986b9b}{model}} ()
\begin{DoxyCompactList}\small\item\em Retrieve the model name of the device. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceCapability}{V4\+L2\+Subdevice\+Capability}} \& \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a6f6a0a70ccd8c89f8d91efb4799eaae0}{caps}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the subdevice V4\+L2 capabilities. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1V4L2Device}{libcamera\+::\+V4\+L2\+Device}}}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a51eaec36a14fcf77950cbeeb6a69593d}{close}} ()
\begin{DoxyCompactList}\small\item\em Close the device node. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a1a1cbbf505ca93672c6f8086c2a9e3a0}{is\+Open}} () const
\begin{DoxyCompactList}\small\item\em Check if the V4\+L2 device node is open. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1ControlInfoMap}{Control\+Info\+Map}} \& \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a3da981578e5d7f23032bd902597c3a15}{controls}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the supported V4\+L2 controls and their information. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \mbox{\hyperlink{classlibcamera_1_1V4L2Device_aaaadfb4e56d3099f9a84fa0a7a3fec50}{get\+Controls}} (const std\+::vector$<$ uint32\+\_\+t $>$ \&ids)
\begin{DoxyCompactList}\small\item\em Read controls from the device. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_ab0485054b749a15cb5152cc751c81750}{set\+Controls}} (\mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \texorpdfstring{$\ast$}{*}ctrls)
\begin{DoxyCompactList}\small\item\em Write controls to the device. \end{DoxyCompactList}\item 
const struct \mbox{\hyperlink{structv4l2__query__ext__ctrl}{v4l2\+\_\+query\+\_\+ext\+\_\+ctrl}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1V4L2Device_acf0ec992186e2a248c810e9c42bd5794}{control\+Info}} (uint32\+\_\+t id) const
\begin{DoxyCompactList}\small\item\em Retrieve the \doxylink{structv4l2__query__ext__ctrl}{v4l2\+\_\+query\+\_\+ext\+\_\+ctrl} information for the given control. \end{DoxyCompactList}\item 
const std\+::string \& \mbox{\hyperlink{classlibcamera_1_1V4L2Device_afa2ad0ec434245d9c5cd910d784764f2}{device\+Node}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the device node path. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a8454df564fffa7ad160468709aa172ff}{device\+Path}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the device path in sysfs. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a22b82e6fa7c29f792c6458eba30fd135}{set\+Frame\+Start\+Enabled}} (bool enable)
\begin{DoxyCompactList}\small\item\em Enable or disable frame start event notification. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a52bc2f8287edb89748a1fc88c3b684ee}{update\+Control\+Info}} ()
\begin{DoxyCompactList}\small\item\em Update the information for all device controls. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice}} $>$ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a35a7e3645918e7694c371a77ad5c3f64}{from\+Entity\+Name}} (const \mbox{\hyperlink{classlibcamera_1_1MediaDevice}{Media\+Device}} \texorpdfstring{$\ast$}{*}media, const std\+::string \&\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}{entity}})
\begin{DoxyCompactList}\small\item\em Create a new video subdevice instance from {\itshape entity} in media device {\itshape media}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a41a4a5e9c16871c69ac235545b88346a}{log\+Prefix}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve a string to be prefixed to the log message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1V4L2Device}{libcamera\+::\+V4\+L2\+Device}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1V4L2Device_af2c3423ffe8a3333ea7c82018b49844d}{V4\+L2\+Device}} (const std\+::string \&\mbox{\hyperlink{classlibcamera_1_1V4L2Device_afa2ad0ec434245d9c5cd910d784764f2}{device\+Node}})
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classlibcamera_1_1V4L2Device}{V4\+L2\+Device}. \end{DoxyCompactList}\item 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+V4\+L2\+Device} ()
\begin{DoxyCompactList}\small\item\em Destroy a \doxylink{classlibcamera_1_1V4L2Device}{V4\+L2\+Device}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a5cdee8ca74669a21480dbce6568551ec}{open}} (unsigned int flags)
\begin{DoxyCompactList}\small\item\em Open a V4\+L2 device node. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_ab5143b4bba37aea67885c61a2b3850d2}{set\+Fd}} (\mbox{\hyperlink{classlibcamera_1_1UniqueFD}{Unique\+FD}} \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a6b77845cf4b1eddcfc8fdeabf1795f82}{fd}})
\begin{DoxyCompactList}\small\item\em Set the file descriptor of a V4\+L2 device. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a34c8a36a4c3d22beb3bf173f7c498d2d}{ioctl}} (unsigned long request, void \texorpdfstring{$\ast$}{*}argp)
\begin{DoxyCompactList}\small\item\em Perform an IOCTL system call on the device node. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a6b77845cf4b1eddcfc8fdeabf1795f82}{fd}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the V4\+L2 device file descriptor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Loggable}{libcamera\+::\+Loggable}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1LogMessage}{Log\+Message}} \mbox{\hyperlink{classlibcamera_1_1Loggable_a56b00f844b75b5d08cad898ed9c6181e}{\+\_\+log}} (const \mbox{\hyperlink{classlibcamera_1_1LogCategory}{Log\+Category}} \texorpdfstring{$\ast$}{*}category, \mbox{\hyperlink{namespacelibcamera_a68f26f5a54a5bb105f2e7422215a0ca3}{Log\+Severity}} severity, const char \texorpdfstring{$\ast$}{*}file\+Name=\+\_\+\+\_\+builtin\+\_\+\+FILE(), unsigned int line=\+\_\+\+\_\+builtin\+\_\+\+LINE()) const
\begin{DoxyCompactList}\small\item\em Create a temporary \doxylink{classlibcamera_1_1LogMessage}{Log\+Message} object to log a message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{classlibcamera_1_1V4L2Device}{libcamera\+::\+V4\+L2\+Device}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1Signal}{Signal}}$<$ uint32\+\_\+t $>$ {\bfseries frame\+Start}
\begin{DoxyCompactList}\small\item\em A \doxylink{classlibcamera_1_1Signal}{Signal} emitted when capture of a frame has started. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1V4L2Device}{libcamera\+::\+V4\+L2\+Device}}}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\static std\+::optional$<$ \mbox{\hyperlink{classlibcamera_1_1ColorSpace}{Color\+Space}} $>$ \mbox{\hyperlink{classlibcamera_1_1V4L2Device_ac6fba98c260ee82f4d82c0da6a34166e}{to\+Color\+Space}} (const T \&v4l2\+Format, \mbox{\hyperlink{classlibcamera_1_1PixelFormatInfo_a021bf0e82baec37b1523baa3322dc23c}{Pixel\+Format\+Info\+::\+Colour\+Encoding}} colour\+Encoding)
\begin{DoxyCompactList}\small\item\em Convert the color space fields in a V4\+L2 format to a \doxylink{classlibcamera_1_1ColorSpace}{Color\+Space}. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\static int \mbox{\hyperlink{classlibcamera_1_1V4L2Device_a3b2d0bf205d45b91c6945018e92f3933}{from\+Color\+Space}} (const std\+::optional$<$ \mbox{\hyperlink{classlibcamera_1_1ColorSpace}{Color\+Space}} $>$ \&color\+Space, T \&v4l2\+Format)
\begin{DoxyCompactList}\small\item\em Fill in the color space fields of a V4\+L2 format from a \doxylink{classlibcamera_1_1ColorSpace}{Color\+Space}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A V4\+L2 subdevice as exposed by the Linux kernel. 

The \doxylink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice} class provides an API to the "{}\+Sub-\/device interface"{} as described in section 4.\+15 of the "{}\+Linux Media Infrastructure userspace API"{} chapter of the Linux Kernel documentation.

A \doxylink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice} is constructed from a \doxylink{classlibcamera_1_1MediaEntity}{Media\+Entity} instance, using the system path of the entity\textquotesingle{}s device node. No API call other than \doxylink{classlibcamera_1_1V4L2Subdevice_a3bb955aa504fdaca8b068ea6936b39e8}{open()}, \doxylink{classlibcamera_1_1V4L2Device_a1a1cbbf505ca93672c6f8086c2a9e3a0}{is\+Open()} and \doxylink{classlibcamera_1_1V4L2Device_a51eaec36a14fcf77950cbeeb6a69593d}{close()} shall be called on an unopened device instance. Upon destruction any device left open will be closed, and any resources released. 

\doxysubsection{Member Typedef Documentation}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}\label{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!Routing@{Routing}}
\index{Routing@{Routing}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{Routing}{Routing}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{libcamera\+::\+V4\+L2\+Subdevice\+::\+Routing}}}



V4\+L2 subdevice routing table. 

This class stores a subdevice routing table as a vector of routes. 

\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}\label{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!Whence@{Whence}}
\index{Whence@{Whence}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{Whence}{Whence}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{libcamera\+::\+V4\+L2\+Subdevice\+::\+Whence}}}



Specify the type of format for \doxylink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{get\+Format()} and \doxylink{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4}{set\+Format()} operations. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{TryFormat@{TryFormat}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!TryFormat@{TryFormat}}}\Hypertarget{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}\label{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9} 
Try\+Format&The format operation applies to TRY formats. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ActiveFormat@{ActiveFormat}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!ActiveFormat@{ActiveFormat}}}\Hypertarget{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}\label{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b} 
Active\+Format&The format operation applies to ACTIVE formats. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a6f6a0a70ccd8c89f8d91efb4799eaae0}\label{classlibcamera_1_1V4L2Subdevice_a6f6a0a70ccd8c89f8d91efb4799eaae0} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!caps@{caps}}
\index{caps@{caps}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{caps()}{caps()}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::caps (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the subdevice V4\+L2 capabilities. 

\begin{DoxyReturn}{Returns}
The subdevice V4\+L2 capabilities 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c}\label{classlibcamera_1_1V4L2Subdevice_af02a7fe93733b81630ff469f615b9a8c} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!entity@{entity}}
\index{entity@{entity}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{entity()}{entity()}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::entity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the media entity associated with the subdevice. 

\begin{DoxyReturn}{Returns}
The subdevice\textquotesingle{}s associated media entity. 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_aa6c2f0770e41684df0fa0789f9f1e37f}\label{classlibcamera_1_1V4L2Subdevice_aa6c2f0770e41684df0fa0789f9f1e37f} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!formats@{formats}}
\index{formats@{formats}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{formats()}{formats()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a7d9d89369b43ec42f094ef7238639109}{V4\+L2\+Subdevice\+::\+Formats}} libcamera\+::\+V4\+L2\+Subdevice\+::formats (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&}]{stream }\end{DoxyParamCaption})}



Enumerate all media bus codes and frame sizes on a {\itshape stream}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em stream} & The stream to enumerate formats for\\
\hline
\end{DoxyParams}
Enumerate all media bus codes and frame sizes supported by the subdevice on a {\itshape stream}.

\begin{DoxyReturn}{Returns}
A list of the supported device formats 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_aa5f63a79195261e864e4d1d7d454e6de}\label{classlibcamera_1_1V4L2Subdevice_aa5f63a79195261e864e4d1d7d454e6de} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!formats@{formats}}
\index{formats@{formats}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{formats()}{formats()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::formats (\begin{DoxyParamCaption}\item[{unsigned int}]{pad }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enumerate all media bus codes and frame sizes on a {\itshape pad}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pad} & The 0-\/indexed pad number to enumerate formats on\\
\hline
\end{DoxyParams}
Enumerate all media bus codes and frame sizes supported by the subdevice on a {\itshape pad} 

\begin{DoxyReturn}{Returns}
A list of the supported device formats 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a35a7e3645918e7694c371a77ad5c3f64}\label{classlibcamera_1_1V4L2Subdevice_a35a7e3645918e7694c371a77ad5c3f64} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!fromEntityName@{fromEntityName}}
\index{fromEntityName@{fromEntityName}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{fromEntityName()}{fromEntityName()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice}} $>$ libcamera\+::\+V4\+L2\+Subdevice\+::from\+Entity\+Name (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1MediaDevice}{Media\+Device}} \texorpdfstring{$\ast$}{*}}]{media,  }\item[{const std\+::string \&}]{entity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a new video subdevice instance from {\itshape entity} in media device {\itshape media}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em media} & The media device where the entity is registered \\
\hline
\mbox{\texttt{ in}}  & {\em entity} & The media entity name\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A newly created \doxylink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice} on success, nullptr otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}\label{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!getFormat@{getFormat}}
\index{getFormat@{getFormat}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{getFormat()}{getFormat()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::get\+Format (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&}]{stream,  }\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{format,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}}]{whence = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}}} }\end{DoxyParamCaption})}



Retrieve the image format set on one of the V4\+L2 subdevice streams. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em stream} & The stream the format is to be retrieved from \\
\hline
\mbox{\texttt{ out}}  & {\em format} & The image bus format \\
\hline
\mbox{\texttt{ in}}  & {\em whence} & The format to get, \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format} or \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_ac4e02479daeb7e39cbc73d296203fbcd}\label{classlibcamera_1_1V4L2Subdevice_ac4e02479daeb7e39cbc73d296203fbcd} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!getFormat@{getFormat}}
\index{getFormat@{getFormat}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{getFormat()}{getFormat()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::get\+Format (\begin{DoxyParamCaption}\item[{unsigned int}]{pad,  }\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{format,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}}]{whence = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the image format set on one of the V4\+L2 subdevice pads. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pad} & The 0-\/indexed pad number the format is to be retrieved from \\
\hline
\mbox{\texttt{ out}}  & {\em format} & The image bus format \\
\hline
\mbox{\texttt{ in}}  & {\em whence} & The format to get, \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format} or \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_ae9c19611e4a42ee9b2a7bf8931eb076c}\label{classlibcamera_1_1V4L2Subdevice_ae9c19611e4a42ee9b2a7bf8931eb076c} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!getRouting@{getRouting}}
\index{getRouting@{getRouting}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{getRouting()}{getRouting()}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::get\+Routing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}} \texorpdfstring{$\ast$}{*}}]{routing,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}}]{whence = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}}} }\end{DoxyParamCaption})}



Retrieve the subdevice\textquotesingle{}s internal routing table. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em routing} & The routing table \\
\hline
\mbox{\texttt{ in}}  & {\em whence} & The routing table to get, \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format} or \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a73ac07ba76587bb56181aa699cd15554}\label{classlibcamera_1_1V4L2Subdevice_a73ac07ba76587bb56181aa699cd15554} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!getSelection@{getSelection}}
\index{getSelection@{getSelection}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{getSelection()}{getSelection()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::get\+Selection (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&}]{stream,  }\item[{unsigned int}]{target,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}}]{rect }\end{DoxyParamCaption})}



Get selection rectangle {\itshape rect} for {\itshape target}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em stream} & The stream the rectangle is retrieved from \\
\hline
\mbox{\texttt{ in}}  & {\em target} & The selection target defined by the V4\+L2\+\_\+\+SEL\+\_\+\+TGT\+\_\+\texorpdfstring{$\ast$}{*} flags \\
\hline
\mbox{\texttt{ out}}  & {\em rect} & The retrieved selection rectangle\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000050}{Todo}}]Define a V4\+L2\+Selection\+Target enum for the selection target\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a3a26549de04b49ff3fbd94f0f2448706}\label{classlibcamera_1_1V4L2Subdevice_a3a26549de04b49ff3fbd94f0f2448706} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!getSelection@{getSelection}}
\index{getSelection@{getSelection}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{getSelection()}{getSelection()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::get\+Selection (\begin{DoxyParamCaption}\item[{unsigned int}]{pad,  }\item[{unsigned int}]{target,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}}]{rect }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get selection rectangle {\itshape rect} for {\itshape target}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pad} & The 0-\/indexed pad number the rectangle is retrieved from \\
\hline
\mbox{\texttt{ in}}  & {\em target} & The selection target defined by the V4\+L2\+\_\+\+SEL\+\_\+\+TGT\+\_\+\texorpdfstring{$\ast$}{*} flags \\
\hline
\mbox{\texttt{ out}}  & {\em rect} & The retrieved selection rectangle\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a41a4a5e9c16871c69ac235545b88346a}\label{classlibcamera_1_1V4L2Subdevice_a41a4a5e9c16871c69ac235545b88346a} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!logPrefix@{logPrefix}}
\index{logPrefix@{logPrefix}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{logPrefix()}{logPrefix()}}
{\footnotesize\ttfamily std\+::string libcamera\+::\+V4\+L2\+Subdevice\+::log\+Prefix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Retrieve a string to be prefixed to the log message. 

This function allows classes inheriting from the \doxylink{classlibcamera_1_1Loggable}{Loggable} class to extend the logger with an object-\/specific prefix output right before the log message contents.

\begin{DoxyReturn}{Returns}
A string to be prefixed to the log message 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1Loggable_a4cc48b0ae7215ceb4bfae6f192b2b3ee}{libcamera\+::\+Loggable}}.

\Hypertarget{classlibcamera_1_1V4L2Subdevice_ac8e06bbad91b294a1ac6fe4568986b9b}\label{classlibcamera_1_1V4L2Subdevice_ac8e06bbad91b294a1ac6fe4568986b9b} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!model@{model}}
\index{model@{model}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{model()}{model()}}
{\footnotesize\ttfamily const std\+::string \& libcamera\+::\+V4\+L2\+Subdevice\+::model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Retrieve the model name of the device. 

The model name allows identification of the specific device model. This can be used to infer device characteristics, for instance to determine the analogue gain model of a camera sensor based on the sensor model name.

Neither the V4\+L2 API nor the Media Controller API expose an explicit model name. This function implements a heuristics to extract the model name from the subdevice\textquotesingle{}s entity name. This should produce accurate results for I2\+C-\/based devices. If the heuristics can\textquotesingle{}t match a known naming pattern, the function returns the full entity name.

\begin{DoxyReturn}{Returns}
The model name of the device 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a3bb955aa504fdaca8b068ea6936b39e8}\label{classlibcamera_1_1V4L2Subdevice_a3bb955aa504fdaca8b068ea6936b39e8} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!open@{open}}
\index{open@{open}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Open a V4\+L2 subdevice. 

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4}\label{classlibcamera_1_1V4L2Subdevice_ab26c6ef5e165fd6c4aa304a94772cca4} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!setFormat@{setFormat}}
\index{setFormat@{setFormat}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{setFormat()}{setFormat()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::set\+Format (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&}]{stream,  }\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{format,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}}]{whence = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}}} }\end{DoxyParamCaption})}



Set an image format on one of the V4\+L2 subdevice pads. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em stream} & The stream the format is to be applied to \\
\hline
\mbox{\texttt{ in,out}}  & {\em format} & The image bus format to apply to the stream \\
\hline
\mbox{\texttt{ in}}  & {\em whence} & The format to set, \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format} or \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format}\\
\hline
\end{DoxyParams}
Apply the requested image format to the desired stream and return the actually applied format parameters, as \doxylink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{get\+Format()} would do.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a3dcfc24701b847dd318f8b6321933368}\label{classlibcamera_1_1V4L2Subdevice_a3dcfc24701b847dd318f8b6321933368} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!setFormat@{setFormat}}
\index{setFormat@{setFormat}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{setFormat()}{setFormat()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::set\+Format (\begin{DoxyParamCaption}\item[{unsigned int}]{pad,  }\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{format,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}}]{whence = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Set an image format on one of the V4\+L2 subdevice pads. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pad} & The 0-\/indexed pad number the format is to be applied to \\
\hline
\mbox{\texttt{ in,out}}  & {\em format} & The image bus format to apply to the subdevice\textquotesingle{}s pad \\
\hline
\mbox{\texttt{ in}}  & {\em whence} & The format to set, \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format} or \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format}\\
\hline
\end{DoxyParams}
Apply the requested image format to the desired media pad and return the actually applied format parameters, as \doxylink{classlibcamera_1_1V4L2Subdevice_ae46094891cb537d0282ea713db89b310}{get\+Format()} would do.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a457630ab43d822769aa1053d03310454}\label{classlibcamera_1_1V4L2Subdevice_a457630ab43d822769aa1053d03310454} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!setRouting@{setRouting}}
\index{setRouting@{setRouting}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{setRouting()}{setRouting()}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::set\+Routing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a283f1cd79d8ae8c86ce9a976242789ce}{Routing}} \texorpdfstring{$\ast$}{*}}]{routing,  }\item[{\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091}{Whence}}}]{whence = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format}}} }\end{DoxyParamCaption})}



Set a routing table on the V4\+L2 subdevice. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em routing} & The routing table \\
\hline
\mbox{\texttt{ in}}  & {\em whence} & The routing table to set, \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a65fa9139cc61ca18ecedfc37fa155e6b}{Active\+Format} or \doxylink{classlibcamera_1_1V4L2Subdevice_a9e0329816bbda2b6745b5c72233d5091a9b77c7d9612b9cd3588037cd4ec149f9}{Try\+Format}\\
\hline
\end{DoxyParams}
Apply to the V4\+L2 subdevice the routing table {\itshape routing} and update its content to reflect the actually applied routing table as \doxylink{classlibcamera_1_1V4L2Subdevice_ae9c19611e4a42ee9b2a7bf8931eb076c}{get\+Routing()} would do.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a62c91acb30f22a4b526b157c03d2cc60}\label{classlibcamera_1_1V4L2Subdevice_a62c91acb30f22a4b526b157c03d2cc60} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!setSelection@{setSelection}}
\index{setSelection@{setSelection}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{setSelection()}{setSelection()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int libcamera\+::\+V4\+L2\+Subdevice\+::set\+Selection (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structlibcamera_1_1V4L2Subdevice_1_1Stream}{Stream}} \&}]{stream,  }\item[{unsigned int}]{target,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}}]{rect }\end{DoxyParamCaption})}



Set selection rectangle {\itshape rect} for {\itshape target}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em stream} & The stream the rectangle is to be applied to \\
\hline
\mbox{\texttt{ in}}  & {\em target} & The selection target defined by the V4\+L2\+\_\+\+SEL\+\_\+\+TGT\+\_\+\texorpdfstring{$\ast$}{*} flags \\
\hline
\mbox{\texttt{ in,out}}  & {\em rect} & The selection rectangle to be applied\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000051}{Todo}}]Define a V4\+L2\+Selection\+Target enum for the selection target\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1V4L2Subdevice_a8e021fbbd868e89103c0619afce3470b}\label{classlibcamera_1_1V4L2Subdevice_a8e021fbbd868e89103c0619afce3470b} 
\index{libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}!setSelection@{setSelection}}
\index{setSelection@{setSelection}!libcamera::V4L2Subdevice@{libcamera::V4L2Subdevice}}
\doxysubsubsection{\texorpdfstring{setSelection()}{setSelection()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily libcamera\+::\+V4\+L2\+Subdevice\+::set\+Selection (\begin{DoxyParamCaption}\item[{unsigned int}]{pad,  }\item[{unsigned int}]{target,  }\item[{\mbox{\hyperlink{classlibcamera_1_1Rectangle}{Rectangle}} \texorpdfstring{$\ast$}{*}}]{rect }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Set selection rectangle {\itshape rect} for {\itshape target}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pad} & The 0-\/indexed pad number the rectangle is to be applied to \\
\hline
\mbox{\texttt{ in}}  & {\em target} & The selection target defined by the V4\+L2\+\_\+\+SEL\+\_\+\+TGT\+\_\+\texorpdfstring{$\ast$}{*} flags \\
\hline
\mbox{\texttt{ in,out}}  & {\em rect} & The selection rectangle to be applied\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000052}{Todo}}]Define a V4\+L2\+Selection\+Target enum for the selection target\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/internal/\mbox{\hyperlink{v4l2__subdevice_8h}{v4l2\+\_\+subdevice.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/v4l2\+\_\+subdevice.\+cpp\end{DoxyCompactItemize}
