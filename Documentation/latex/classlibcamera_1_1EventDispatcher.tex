\doxysection{libcamera\+::Event\+Dispatcher Class Reference}
\hypertarget{classlibcamera_1_1EventDispatcher}{}\label{classlibcamera_1_1EventDispatcher}\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}}


Interface to manage the libcamera events and timers.  


Inheritance diagram for libcamera\+::Event\+Dispatcher\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classlibcamera_1_1EventDispatcher}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1EventDispatcher_a3c88ad0cc1eeb3bace6f78dd65256ef8}{register\+Event\+Notifier}} (\mbox{\hyperlink{classlibcamera_1_1EventNotifier}{Event\+Notifier}} \texorpdfstring{$\ast$}{*}notifier)=0
\begin{DoxyCompactList}\small\item\em Register an event notifier. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1EventDispatcher_acce5cba984a6fe441a704911fb3d45f1}{unregister\+Event\+Notifier}} (\mbox{\hyperlink{classlibcamera_1_1EventNotifier}{Event\+Notifier}} \texorpdfstring{$\ast$}{*}notifier)=0
\begin{DoxyCompactList}\small\item\em Unregister an event notifier. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1EventDispatcher_aad6f0d92bd0745af50a165ec8cf58453}{register\+Timer}} (\mbox{\hyperlink{classlibcamera_1_1Timer}{Timer}} \texorpdfstring{$\ast$}{*}timer)=0
\begin{DoxyCompactList}\small\item\em Register a timer. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1EventDispatcher_aa5b09e506519264577acf26f4e3f9068}{unregister\+Timer}} (\mbox{\hyperlink{classlibcamera_1_1Timer}{Timer}} \texorpdfstring{$\ast$}{*}timer)=0
\begin{DoxyCompactList}\small\item\em Unregister a timer. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}{process\+Events}} ()=0
\begin{DoxyCompactList}\small\item\em Wait for and process pending events. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classlibcamera_1_1EventDispatcher_a6c56e67ad8d3089ad11bad210011eb8b}{interrupt}} ()=0
\begin{DoxyCompactList}\small\item\em Interrupt any running \doxylink{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}{process\+Events()} call as soon as possible. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interface to manage the libcamera events and timers. 

The \doxylink{classlibcamera_1_1EventDispatcher}{Event\+Dispatcher} class allows the integration of the application event loop with libcamera by abstracting how events and timers are managed and processed.

To listen to events, libcamera creates \doxylink{classlibcamera_1_1EventNotifier}{Event\+Notifier} instances and registers them with the dispatcher with \doxylink{classlibcamera_1_1EventDispatcher_a3c88ad0cc1eeb3bace6f78dd65256ef8}{register\+Event\+Notifier()}. The event notifier \doxylink{classlibcamera_1_1EventNotifier_afa2b7b07823ea7dabb67ef827e35a715}{Event\+Notifier\+::activated} signal is then emitted by the dispatcher whenever the event is detected.

To set timers, libcamera creates \doxylink{classlibcamera_1_1Timer}{Timer} instances and registers them with the dispatcher with \doxylink{classlibcamera_1_1EventDispatcher_aad6f0d92bd0745af50a165ec8cf58453}{register\+Timer()}. The timer \doxylink{classlibcamera_1_1Timer_aa5cf441be2e6686c96e085de2ef47d7a}{Timer\+::timeout} signal is then emitted by the dispatcher when the timer times out. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1EventDispatcher_a6c56e67ad8d3089ad11bad210011eb8b}\label{classlibcamera_1_1EventDispatcher_a6c56e67ad8d3089ad11bad210011eb8b} 
\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}!interrupt@{interrupt}}
\index{interrupt@{interrupt}!libcamera::EventDispatcher@{libcamera::EventDispatcher}}
\doxysubsubsection{\texorpdfstring{interrupt()}{interrupt()}}
{\footnotesize\ttfamily libcamera\+::\+Event\+Dispatcher\+::interrupt (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Interrupt any running \doxylink{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}{process\+Events()} call as soon as possible. 

Calling this function interrupts any blocking \doxylink{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}{process\+Events()} call in progress. The \doxylink{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}{process\+Events()} function will return as soon as possible, after processing pending timers and events. If \doxylink{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}{process\+Events()} isn\textquotesingle{}t in progress, it will be interrupted immediately the next time it gets called. 

Implemented in \mbox{\hyperlink{classlibcamera_1_1EventDispatcherPoll_aa5762bc4d8ed3cb08c6f2e1ac9550aa7}{libcamera\+::\+Event\+Dispatcher\+Poll}}.

\Hypertarget{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90}\label{classlibcamera_1_1EventDispatcher_a33dea42b992409416799a48dc32fec90} 
\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}!processEvents@{processEvents}}
\index{processEvents@{processEvents}!libcamera::EventDispatcher@{libcamera::EventDispatcher}}
\doxysubsubsection{\texorpdfstring{processEvents()}{processEvents()}}
{\footnotesize\ttfamily libcamera\+::\+Event\+Dispatcher\+::process\+Events (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Wait for and process pending events. 

This function processes all pending events associated with registered event notifiers and timers and signals the corresponding \doxylink{classlibcamera_1_1EventNotifier}{Event\+Notifier} and \doxylink{classlibcamera_1_1Timer}{Timer} objects. If no events are pending, it waits for the first event and processes it before returning. 

Implemented in \mbox{\hyperlink{classlibcamera_1_1EventDispatcherPoll_aeecb48a1f8a12fa36a6764299baebba8}{libcamera\+::\+Event\+Dispatcher\+Poll}}.

\Hypertarget{classlibcamera_1_1EventDispatcher_a3c88ad0cc1eeb3bace6f78dd65256ef8}\label{classlibcamera_1_1EventDispatcher_a3c88ad0cc1eeb3bace6f78dd65256ef8} 
\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}!registerEventNotifier@{registerEventNotifier}}
\index{registerEventNotifier@{registerEventNotifier}!libcamera::EventDispatcher@{libcamera::EventDispatcher}}
\doxysubsubsection{\texorpdfstring{registerEventNotifier()}{registerEventNotifier()}}
{\footnotesize\ttfamily libcamera\+::\+Event\+Dispatcher\+::register\+Event\+Notifier (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1EventNotifier}{Event\+Notifier}} \texorpdfstring{$\ast$}{*}}]{notifier }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Register an event notifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em notifier} & The event notifier to register\\
\hline
\end{DoxyParams}
Once the {\itshape notifier} is registered with the dispatcher, the dispatcher will emit the notifier \doxylink{classlibcamera_1_1EventNotifier_afa2b7b07823ea7dabb67ef827e35a715}{Event\+Notifier\+::activated} signal whenever a corresponding event is detected on the notifier\textquotesingle{}s file descriptor. The event is monitored until the notifier is unregistered with \doxylink{classlibcamera_1_1EventDispatcher_acce5cba984a6fe441a704911fb3d45f1}{unregister\+Event\+Notifier()}.

Registering multiple notifiers for the same file descriptor and event type is not allowed and results in undefined behaviour. 

Implemented in \mbox{\hyperlink{classlibcamera_1_1EventDispatcherPoll_aebc4fda2b87d7ed67cbb19510d190cfc}{libcamera\+::\+Event\+Dispatcher\+Poll}}.

\Hypertarget{classlibcamera_1_1EventDispatcher_aad6f0d92bd0745af50a165ec8cf58453}\label{classlibcamera_1_1EventDispatcher_aad6f0d92bd0745af50a165ec8cf58453} 
\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}!registerTimer@{registerTimer}}
\index{registerTimer@{registerTimer}!libcamera::EventDispatcher@{libcamera::EventDispatcher}}
\doxysubsubsection{\texorpdfstring{registerTimer()}{registerTimer()}}
{\footnotesize\ttfamily libcamera\+::\+Event\+Dispatcher\+::register\+Timer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Timer}{Timer}} \texorpdfstring{$\ast$}{*}}]{timer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Register a timer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em timer} & The timer to register\\
\hline
\end{DoxyParams}
Once the {\itshape timer} is registered with the dispatcher, the dispatcher will emit the timer \doxylink{classlibcamera_1_1Timer_aa5cf441be2e6686c96e085de2ef47d7a}{Timer\+::timeout} signal when the timer times out. The timer can be unregistered with \doxylink{classlibcamera_1_1EventDispatcher_aa5b09e506519264577acf26f4e3f9068}{unregister\+Timer()} before it times out, in which case the signal will not be emitted.

When the {\itshape timer} times out, it is automatically unregistered by the dispatcher and can be registered back as early as from the \doxylink{classlibcamera_1_1Timer_aa5cf441be2e6686c96e085de2ef47d7a}{Timer\+::timeout} signal handlers.

Registering the same timer multiple times is not allowed and results in undefined behaviour. 

Implemented in \mbox{\hyperlink{classlibcamera_1_1EventDispatcherPoll_a62b43090e99b13e883fb30c8c768d2d2}{libcamera\+::\+Event\+Dispatcher\+Poll}}.

\Hypertarget{classlibcamera_1_1EventDispatcher_acce5cba984a6fe441a704911fb3d45f1}\label{classlibcamera_1_1EventDispatcher_acce5cba984a6fe441a704911fb3d45f1} 
\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}!unregisterEventNotifier@{unregisterEventNotifier}}
\index{unregisterEventNotifier@{unregisterEventNotifier}!libcamera::EventDispatcher@{libcamera::EventDispatcher}}
\doxysubsubsection{\texorpdfstring{unregisterEventNotifier()}{unregisterEventNotifier()}}
{\footnotesize\ttfamily libcamera\+::\+Event\+Dispatcher\+::unregister\+Event\+Notifier (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1EventNotifier}{Event\+Notifier}} \texorpdfstring{$\ast$}{*}}]{notifier }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Unregister an event notifier. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em notifier} & The event notifier to unregister\\
\hline
\end{DoxyParams}
After this function returns the {\itshape notifier} is guaranteed not to emit the \doxylink{classlibcamera_1_1EventNotifier_afa2b7b07823ea7dabb67ef827e35a715}{Event\+Notifier\+::activated} signal.

If the notifier isn\textquotesingle{}t registered, this function performs no operation. 

Implemented in \mbox{\hyperlink{classlibcamera_1_1EventDispatcherPoll_a7b5b854e94d77587e3a5935b774e2b5d}{libcamera\+::\+Event\+Dispatcher\+Poll}}.

\Hypertarget{classlibcamera_1_1EventDispatcher_aa5b09e506519264577acf26f4e3f9068}\label{classlibcamera_1_1EventDispatcher_aa5b09e506519264577acf26f4e3f9068} 
\index{libcamera::EventDispatcher@{libcamera::EventDispatcher}!unregisterTimer@{unregisterTimer}}
\index{unregisterTimer@{unregisterTimer}!libcamera::EventDispatcher@{libcamera::EventDispatcher}}
\doxysubsubsection{\texorpdfstring{unregisterTimer()}{unregisterTimer()}}
{\footnotesize\ttfamily libcamera\+::\+Event\+Dispatcher\+::unregister\+Timer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1Timer}{Timer}} \texorpdfstring{$\ast$}{*}}]{timer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Unregister a timer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em timer} & The timer to unregister\\
\hline
\end{DoxyParams}
After this function returns the {\itshape timer} is guaranteed not to emit the \doxylink{classlibcamera_1_1Timer_aa5cf441be2e6686c96e085de2ef47d7a}{Timer\+::timeout} signal.

If the timer isn\textquotesingle{}t registered, this function performs no operation. 

Implemented in \mbox{\hyperlink{classlibcamera_1_1EventDispatcherPoll_a8865f1ddfd5404ea292446fbc9970949}{libcamera\+::\+Event\+Dispatcher\+Poll}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/base/\mbox{\hyperlink{event__dispatcher_8h}{event\+\_\+dispatcher.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/base/event\+\_\+dispatcher.\+cpp\end{DoxyCompactItemize}
