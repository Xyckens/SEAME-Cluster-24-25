\doxysection{libcamera\+::Stream\+Formats Class Reference}
\hypertarget{classlibcamera_1_1StreamFormats}{}\label{classlibcamera_1_1StreamFormats}\index{libcamera::StreamFormats@{libcamera::StreamFormats}}


Hold information about supported stream formats.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1StreamFormats_a385594c10deb6bfbb121f03c2af117cd}{Stream\+Formats}} (const std\+::map$<$ \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}}, std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1SizeRange}{Size\+Range}} $>$ $>$ \&formats)
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classlibcamera_1_1StreamFormats}{Stream\+Formats} object with a map of image formats. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}} $>$ \mbox{\hyperlink{classlibcamera_1_1StreamFormats_ab956a73dcc86314d903227ad736a29a4}{pixelformats}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the list of supported pixel formats. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} $>$ \mbox{\hyperlink{classlibcamera_1_1StreamFormats_a4321746fcfffed9750f6f9dbffcf102b}{sizes}} (const \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}} \&pixelformat) const
\begin{DoxyCompactList}\small\item\em Retrieve the list of frame sizes supported for {\itshape pixelformat}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1SizeRange}{Size\+Range}} \mbox{\hyperlink{classlibcamera_1_1StreamFormats_a8f966e5f785f2c30669889c5b5307801}{range}} (const \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}} \&pixelformat) const
\begin{DoxyCompactList}\small\item\em Retrieve the range of minimum and maximum sizes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Hold information about supported stream formats. 

The \doxylink{classlibcamera_1_1StreamFormats}{Stream\+Formats} class holds information about the pixel formats and frame sizes a stream supports. The class groups size information by the pixel format which can produce it.

There are two ways to examine the size information, as a range or as a list of discrete sizes. When sizes are viewed as a range it describes the minimum and maximum width and height values. The range description can include horizontal and vertical steps.

When sizes are viewed as a list of discrete sizes they describe the exact dimensions which can be selected and used.

Pipeline handlers can create \doxylink{classlibcamera_1_1StreamFormats}{Stream\+Formats} describing each pixel format using either a range or a list of discrete sizes. The \doxylink{classlibcamera_1_1StreamFormats}{Stream\+Formats} class attempts to translate between the two different ways to view them. The translations are performed as\+:


\begin{DoxyItemize}
\item If the Stream\+Format is constructed using a list of discrete image sizes and a range is requested, it gets created by taking the minimum and maximum width/height in the list. The step information is not recreated and is set to 0 to indicate the range is generated.
\item If the image sizes used to construct a Stream\+Format are expressed as a range and a list of discrete sizes is requested, one which fits inside that range are selected from a list of common sizes. The step information is taken into consideration when generating the sizes.
\end{DoxyItemize}

Applications examining sizes as a range with step values of 0 shall be aware that the range are generated from a list of discrete sizes and there could be a large number of possible \doxylink{classlibcamera_1_1Size}{Size} combinations that may not be supported by the \doxylink{classlibcamera_1_1Stream}{Stream}.

All sizes retrieved from \doxylink{classlibcamera_1_1StreamFormats}{Stream\+Formats} shall be treated as advisory and no size shall be considered to be supported until it has been verified using \doxylink{classlibcamera_1_1CameraConfiguration_a29f8f263384c6149775b6011c7397093}{Camera\+Configuration\+::validate()}.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000047}{Todo}}]Review the usage patterns of this class, and cache the computed \doxylink{classlibcamera_1_1StreamFormats_ab956a73dcc86314d903227ad736a29a4}{pixelformats()}, \doxylink{classlibcamera_1_1StreamFormats_a4321746fcfffed9750f6f9dbffcf102b}{sizes()} and \doxylink{classlibcamera_1_1StreamFormats_a8f966e5f785f2c30669889c5b5307801}{range()} if this would improve performances. \end{DoxyRefDesc}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlibcamera_1_1StreamFormats_a385594c10deb6bfbb121f03c2af117cd}\label{classlibcamera_1_1StreamFormats_a385594c10deb6bfbb121f03c2af117cd} 
\index{libcamera::StreamFormats@{libcamera::StreamFormats}!StreamFormats@{StreamFormats}}
\index{StreamFormats@{StreamFormats}!libcamera::StreamFormats@{libcamera::StreamFormats}}
\doxysubsubsection{\texorpdfstring{StreamFormats()}{StreamFormats()}}
{\footnotesize\ttfamily libcamera\+::\+Stream\+Formats\+::\+Stream\+Formats (\begin{DoxyParamCaption}\item[{const std\+::map$<$ \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}}, std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1SizeRange}{Size\+Range}} $>$ $>$ \&}]{formats }\end{DoxyParamCaption})}



Construct a \doxylink{classlibcamera_1_1StreamFormats}{Stream\+Formats} object with a map of image formats. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em formats} & A map of pixel formats to a sizes description \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1StreamFormats_ab956a73dcc86314d903227ad736a29a4}\label{classlibcamera_1_1StreamFormats_ab956a73dcc86314d903227ad736a29a4} 
\index{libcamera::StreamFormats@{libcamera::StreamFormats}!pixelformats@{pixelformats}}
\index{pixelformats@{pixelformats}!libcamera::StreamFormats@{libcamera::StreamFormats}}
\doxysubsubsection{\texorpdfstring{pixelformats()}{pixelformats()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}} $>$ libcamera\+::\+Stream\+Formats\+::pixelformats (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieve the list of supported pixel formats. 

\begin{DoxyReturn}{Returns}
The list of supported pixel formats 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1StreamFormats_a8f966e5f785f2c30669889c5b5307801}\label{classlibcamera_1_1StreamFormats_a8f966e5f785f2c30669889c5b5307801} 
\index{libcamera::StreamFormats@{libcamera::StreamFormats}!range@{range}}
\index{range@{range}!libcamera::StreamFormats@{libcamera::StreamFormats}}
\doxysubsubsection{\texorpdfstring{range()}{range()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1SizeRange}{Size\+Range}} libcamera\+::\+Stream\+Formats\+::range (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}} \&}]{pixelformat }\end{DoxyParamCaption}) const}



Retrieve the range of minimum and maximum sizes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pixelformat} & \doxylink{classlibcamera_1_1PixelFormat}{Pixel\+Format} to retrieve range for\\
\hline
\end{DoxyParams}
If the size described for {\itshape pixelformat} is a range, that range is returned directly. If the sizes described are a list of discrete sizes, a range is created from the minimum and maximum sizes in the list. The step values of the range are set to 0 to indicate that the range is generated and that not all image sizes contained in the range might be supported.

\begin{DoxyReturn}{Returns}
A range of valid image sizes or an empty range on error 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1StreamFormats_a4321746fcfffed9750f6f9dbffcf102b}\label{classlibcamera_1_1StreamFormats_a4321746fcfffed9750f6f9dbffcf102b} 
\index{libcamera::StreamFormats@{libcamera::StreamFormats}!sizes@{sizes}}
\index{sizes@{sizes}!libcamera::StreamFormats@{libcamera::StreamFormats}}
\doxysubsubsection{\texorpdfstring{sizes()}{sizes()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} $>$ libcamera\+::\+Stream\+Formats\+::sizes (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1PixelFormat}{Pixel\+Format}} \&}]{pixelformat }\end{DoxyParamCaption}) const}



Retrieve the list of frame sizes supported for {\itshape pixelformat}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pixelformat} & \doxylink{classlibcamera_1_1PixelFormat}{Pixel\+Format} to retrieve sizes for\\
\hline
\end{DoxyParams}
If the sizes described for {\itshape pixelformat} are discrete they are returned directly.

If the sizes are described as a range, a list of discrete sizes are computed from a list of common resolutions that fit inside the described range. When computing the discrete list step values are considered but there are no guarantees that all sizes computed are supported.

\begin{DoxyReturn}{Returns}
A list of frame sizes or an empty list on error 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/\mbox{\hyperlink{stream_8h}{stream.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/stream.\+cpp\end{DoxyCompactItemize}
