\doxysection{libcamera\+::ipa\+::rkisp1\+::IPAFrame\+Context Struct Reference}
\hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext}{}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext}\index{libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}}


Per-\/frame context for algorithms.  


Inheritance diagram for libcamera\+::ipa\+::rkisp1\+::IPAFrame\+Context\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext}
\end{center}
\end{figure}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>uint32\_t {\bfseries exposure}\\
\>double {\bfseries gain}\\
\>bool {\bfseries autoEnabled}\\
\>controls::AeConstraintModeEnum {\bfseries constraintMode}\\
\>controls::AeExposureModeEnum {\bfseries exposureMode}\\
\>controls::AeMeteringModeEnum {\bfseries meteringMode}\\
\>\mbox{\hyperlink{classlibcamera_1_1utils_1_1Duration}{utils::Duration}} {\bfseries maxFrameDuration}\\
\>bool {\bfseries updateMetering}\\
\} \mbox{\hyperlink{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a6ab3caacaf719c5882f045e50d812b8a}{agc}}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Automatic Gain \doxylink{classlibcamera_1_1Control}{Control} parameters for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_acd8a5d3ee8830e39694718e6d1273720}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_acd8a5d3ee8830e39694718e6d1273720} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>\mbox{\hyperlink{namespacelibcamera_1_1ipa_a00daf846a0a55af6fe111cba13f597ed}{RGB}}$<$ double $>$ {\bfseries gains}\\
\>bool {\bfseries autoEnabled}\\
\} {\bfseries awb}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Automatic White Balance parameters for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a5d552fcfefe72625387f3aa4da85f060}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a5d552fcfefe72625387f3aa4da85f060} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>int8\_t {\bfseries brightness}\\
\>uint8\_t {\bfseries contrast}\\
\>uint8\_t {\bfseries saturation}\\
\>bool {\bfseries update}\\
\} {\bfseries cproc}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em \doxylink{classColor}{Color} Processing parameters for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a6b613ba1b3b8e9d1284816f4953e16bc}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a6b613ba1b3b8e9d1284816f4953e16bc} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>bool {\bfseries denoise}\\
\>bool {\bfseries update}\\
\} {\bfseries dpf}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Denoise Pre-\/\+Filter parameters for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_ae78a6f9bc17c227c5bf89f7ff07426c4}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_ae78a6f9bc17c227c5bf89f7ff07426c4} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>uint8\_t {\bfseries denoise}\\
\>uint8\_t {\bfseries sharpness}\\
\>bool {\bfseries update}\\
\} {\bfseries filter}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Filter parameters for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a84eabe0f52e91676217d3a2de280efdf}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a84eabe0f52e91676217d3a2de280efdf} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>double {\bfseries gamma}\\
\>bool {\bfseries update}\\
\} {\bfseries goc}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Gamma out correction parameters for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a0b77ae554369f20b5e935ad1b3f974e6}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a0b77ae554369f20b5e935ad1b3f974e6} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>uint32\_t {\bfseries exposure}\\
\>double {\bfseries gain}\\
\} {\bfseries sensor}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em Sensor configuration that used been used for this frame. \end{DoxyCompactList}\item 
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_ad6a45a4f9e0d0f6cdd3719b2a01475f4}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_ad6a45a4f9e0d0f6cdd3719b2a01475f4} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>\mbox{\hyperlink{classlibcamera_1_1Matrix}{Matrix}}$<$ float, 3, 3 $>$ {\bfseries ccm}\\
\} {\bfseries ccm}\\

\end{tabbing}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Per-\/frame context for algorithms. 

The frame context stores two distinct categories of information\+:


\begin{DoxyItemize}
\item The value of the controls to be applied to the frame. These values are typically set in the queue\+Request() function, from the consolidated control values stored in the active state. The frame context thus stores values for all controls related to the algorithm, not limited to the controls specified in the corresponding request, but consolidated from all requests that have been queued so far.

For controls that can be set manually or computed by an algorithm (depending on the algorithm operation mode), such as for instance the colour gains for the AWB algorithm, the control value will be stored in the frame context in the queue\+Request() function only when operating in manual mode. When operating in auto mode, the values are computed by the algorithm in process(), stored in the active state, and copied to the frame context in prepare(), just before being stored in the ISP parameters buffer.

The queue\+Request() function can also store ancillary data in the frame context, such as flags to indicate if (and what) control values have changed compared to the previous request.
\item Status information computed by the algorithm for a frame. For instance, the colour temperature estimated by the AWB algorithm from ISP statistics calculated on a frame is stored in the frame context for that frame in the process() function. 
\end{DoxyItemize}

\doxysubsection{Member Data Documentation}
\Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a6ab3caacaf719c5882f045e50d812b8a}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a6ab3caacaf719c5882f045e50d812b8a} 
\index{libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}!agc@{agc}}
\index{agc@{agc}!libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}}
\doxysubsubsection{\texorpdfstring{agc}{agc}}
{\footnotesize\ttfamily libcamera\+::ipa\+::rkisp1\+::\+IPAFrame\+Context\+::agc}



Automatic Gain \doxylink{classlibcamera_1_1Control}{Control} parameters for this frame. 

The exposure and gain are provided by the AGC algorithm, and are to be applied to the sensor in order to take effect for this frame. \Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a4c482afd63ae0fd9ea741c25f45036fc}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a4c482afd63ae0fd9ea741c25f45036fc} 
\index{libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}!autoEnabled@{autoEnabled}}
\index{autoEnabled@{autoEnabled}!libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}}
\doxysubsubsection{\texorpdfstring{autoEnabled}{autoEnabled}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_acd8a5d3ee8830e39694718e6d1273720}{awb}} libcamera\+::ipa\+::rkisp1\+::\+IPAFrame\+Context\+::auto\+Enabled}



Manual/automatic AGC state as set by the Ae\+Enable control. 

Whether the Auto White Balance algorithm is enabled. \Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a15cd8b7e751df37fabd1c88a1dfd8fc8}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a15cd8b7e751df37fabd1c88a1dfd8fc8} 
\index{libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}!exposure@{exposure}}
\index{exposure@{exposure}!libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}}
\doxysubsubsection{\texorpdfstring{exposure}{exposure}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a0b77ae554369f20b5e935ad1b3f974e6}{sensor}} libcamera\+::ipa\+::rkisp1\+::\+IPAFrame\+Context\+::exposure}



Exposure time expressed as a number of lines computed by the algorithm. 

Exposure time expressed as a number of lines. \Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_abaa5e4862661f7f290c6531d576e6a56}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_abaa5e4862661f7f290c6531d576e6a56} 
\index{libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}!gain@{gain}}
\index{gain@{gain}!libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}}
\doxysubsubsection{\texorpdfstring{gain}{gain}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a0b77ae554369f20b5e935ad1b3f974e6}{sensor}} libcamera\+::ipa\+::rkisp1\+::\+IPAFrame\+Context\+::gain}



Analogue gain multiplier computed by the algorithm. 

Analogue gain multiplier.

The gain should be adapted to the sensor specific gain code before applying. \Hypertarget{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a7f61e881e361207d8dcdb7def2c48da6}\label{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a7f61e881e361207d8dcdb7def2c48da6} 
\index{libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}!update@{update}}
\index{update@{update}!libcamera::ipa::rkisp1::IPAFrameContext@{libcamera::ipa::rkisp1::IPAFrameContext}}
\doxysubsubsection{\texorpdfstring{update}{update}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlibcamera_1_1ipa_1_1rkisp1_1_1IPAFrameContext_a84eabe0f52e91676217d3a2de280efdf}{goc}} libcamera\+::ipa\+::rkisp1\+::\+IPAFrame\+Context\+::update}



Indicates if the color processing parameters have been updated compared to the previous frame. 

Indicates if the goc parameters have been updated compared to the previous frame.

Indicates if the denoise pre-\/filter parameters have been updated compared to the previous frame. 

The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/src/ipa/rkisp1/\mbox{\hyperlink{rkisp1_2ipa__context_8h}{ipa\+\_\+context.\+h}}\item 
src/peripherals/camera/libcamera/src/ipa/rkisp1/ipa\+\_\+context.\+cpp\end{DoxyCompactItemize}
