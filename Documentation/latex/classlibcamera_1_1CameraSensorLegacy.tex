\doxysection{libcamera\+::Camera\+Sensor\+Legacy Class Reference}
\hypertarget{classlibcamera_1_1CameraSensorLegacy}{}\label{classlibcamera_1_1CameraSensorLegacy}\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}


A camera sensor based on V4\+L2 subdevices.  


Inheritance diagram for libcamera\+::Camera\+Sensor\+Legacy\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classlibcamera_1_1CameraSensorLegacy}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a64d21d9ca53385fd4a6e46d717fe8807}\label{classlibcamera_1_1CameraSensorLegacy_a64d21d9ca53385fd4a6e46d717fe8807} 
{\bfseries Camera\+Sensor\+Legacy} (const \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{Media\+Entity}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ad672a190ec37b37f2841ec854c9b9fdb}{entity}})
\item 
const std\+::string \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a0e507e40de4434fd37494c876e46ccb0}{model}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the sensor model name. \end{DoxyCompactList}\item 
const std\+::string \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_abf6e43c7641804f60dd6f6bc64bbebf7}{id}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the sensor ID. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{Media\+Entity}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ad672a190ec37b37f2841ec854c9b9fdb}{entity}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the sensor media entity. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a9afc034f697036b28dfce3266b76fc91}{device}} () override
\begin{DoxyCompactList}\small\item\em Retrieve the camera sensor device. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1CameraLens}{Camera\+Lens}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ae7d995d17e2549a8296201de08ae19a9}{focus\+Lens}} () override
\begin{DoxyCompactList}\small\item\em Retrieve the focus lens controller. \end{DoxyCompactList}\item 
const std\+::vector$<$ unsigned int $>$ \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_aef083ec1b68113a3d60f7a7a7bf0c041}{mbus\+Codes}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the media bus codes supported by the camera sensor. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} $>$ \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a5856099b4cca79d3c5abe42a19b88638}{sizes}} (unsigned int mbus\+Code) const override
\begin{DoxyCompactList}\small\item\em Retrieve the supported frame sizes for a media bus code. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1Size}{Size}} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_adddba1c4fefb7796caf9b8841a7dae2f}{resolution}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the camera sensor resolution. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a05c7e0969d6331b0b4f85565a1383440}{get\+Format}} (const std\+::vector$<$ unsigned int $>$ \&\mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_aef083ec1b68113a3d60f7a7a7bf0c041}{mbus\+Codes}}, const \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} \&size) const override
\begin{DoxyCompactList}\small\item\em Retrieve the best sensor format for a desired output. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ae66e86ef1d254715ca7cea337ed2d37b}{set\+Format}} (\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}format, \mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}} transform=\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571ac9c5c65fb4af9cf90eb99b3b84424189}{Transform\+::\+Identity}}) override
\begin{DoxyCompactList}\small\item\em Set the sensor output format. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ae55ab53844419331040f036aeeeee40e}{try\+Format}} (\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}format) const override
\begin{DoxyCompactList}\small\item\em Try the sensor output format. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a8f1e9a86cc63e4a51ad98f3780c43cbd}{apply\+Configuration}} (const \mbox{\hyperlink{classlibcamera_1_1SensorConfiguration}{Sensor\+Configuration}} \&config, \mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}} transform=\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571ac9c5c65fb4af9cf90eb99b3b84424189}{Transform\+::\+Identity}}, \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}sensor\+Format=nullptr) override
\begin{DoxyCompactList}\small\item\em Apply a sensor configuration to the camera sensor. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a749e92dd3e50cfd9a8a5c28f94c9e410}{properties}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the camera sensor properties. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a3239cf46a9b3074793d9141ca4a4f373}{sensor\+Info}} (IPACamera\+Sensor\+Info \texorpdfstring{$\ast$}{*}info) const override
\begin{DoxyCompactList}\small\item\em Assemble and return the camera sensor info. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a117ed9170c7bc47875a61e59251bdf41}{compute\+Transform}} (\mbox{\hyperlink{namespacelibcamera_a80ea01625b93ecfe879249ac60c79384}{Orientation}} \texorpdfstring{$\ast$}{*}orientation) const override
\begin{DoxyCompactList}\small\item\em Compute the Transform that gives the requested {\itshape orientation}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1BayerFormat_a72f709c68ce975ab0cbfc65cc5a73b95}{Bayer\+Format\+::\+Order}} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a9b1763c83f89ed67cc0f82eeec49521c}{bayer\+Order}} (\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}} t) const override
\begin{DoxyCompactList}\small\item\em Compute the Bayer order that results from the given Transform. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{classlibcamera_1_1ControlInfoMap}{Control\+Info\+Map}} \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ac3f99c31558e53e0525a362dd0d8d6b9}{controls}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve the supported V4\+L2 controls and their information. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ac1a33c0481efff7a398755a628fca9f0}{get\+Controls}} (const std\+::vector$<$ uint32\+\_\+t $>$ \&ids) override
\begin{DoxyCompactList}\small\item\em Read V4\+L2 controls from the sensor. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a559b2c5f779a9b34c1bf1693832b1898}{set\+Controls}} (\mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \texorpdfstring{$\ast$}{*}ctrls) override
\begin{DoxyCompactList}\small\item\em Write V4\+L2 controls to the sensor. \end{DoxyCompactList}\item 
const std\+::vector$<$ controls\+::draft\+::\+Test\+Pattern\+Mode\+Enum $>$ \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a18036d65f91fc51ad99ec3b2f7f86c8f}{test\+Pattern\+Modes}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve all the supported test pattern modes of the camera sensor The test pattern mode values correspond to the controls\+::\+Test\+Pattern control. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_aae9e326170bec2e2c5f04eeab0e2de91}{set\+Test\+Pattern\+Mode}} (controls\+::draft\+::\+Test\+Pattern\+Mode\+Enum mode) override
\begin{DoxyCompactList}\small\item\em Set the test pattern mode for the camera sensor. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{structlibcamera_1_1CameraSensorProperties_1_1SensorDelays}{Camera\+Sensor\+Properties\+::\+Sensor\+Delays}} \& \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_abf1a7b6c6ee09c472844d51d4380a8fc}{sensor\+Delays}} () override
\begin{DoxyCompactList}\small\item\em Fetch the sensor delay values. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1CameraSensor}{libcamera\+::\+Camera\+Sensor}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Camera\+Sensor} ()
\begin{DoxyCompactList}\small\item\em Destroy a \doxylink{classlibcamera_1_1CameraSensor}{Camera\+Sensor}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a52c8c3f442773ee6e5ddaf54ff74b7c5}\label{classlibcamera_1_1CameraSensorLegacy_a52c8c3f442773ee6e5ddaf54ff74b7c5} 
static std\+::variant$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classlibcamera_1_1CameraSensor}{Camera\+Sensor}} $>$, int $>$ {\bfseries match} (\mbox{\hyperlink{classlibcamera_1_1MediaEntity}{Media\+Entity}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_ad672a190ec37b37f2841ec854c9b9fdb}{entity}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classlibcamera_1_1CameraSensorLegacy_a883334ec58de9d7313eb5817f13168da}{log\+Prefix}} () const override
\begin{DoxyCompactList}\small\item\em Retrieve a string to be prefixed to the log message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classlibcamera_1_1Loggable}{libcamera\+::\+Loggable}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1LogMessage}{Log\+Message}} \mbox{\hyperlink{classlibcamera_1_1Loggable_a56b00f844b75b5d08cad898ed9c6181e}{\+\_\+log}} (const \mbox{\hyperlink{classlibcamera_1_1LogCategory}{Log\+Category}} \texorpdfstring{$\ast$}{*}category, \mbox{\hyperlink{namespacelibcamera_a68f26f5a54a5bb105f2e7422215a0ca3}{Log\+Severity}} severity, const char \texorpdfstring{$\ast$}{*}file\+Name=\+\_\+\+\_\+builtin\+\_\+\+FILE(), unsigned int line=\+\_\+\+\_\+builtin\+\_\+\+LINE()) const
\begin{DoxyCompactList}\small\item\em Create a temporary \doxylink{classlibcamera_1_1LogMessage}{Log\+Message} object to log a message. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A camera sensor based on V4\+L2 subdevices. 

The implementation is currently limited to sensors that expose a single V4\+L2 subdevice with a single pad. It will be extended to support more complex devices as the needs arise. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a8f1e9a86cc63e4a51ad98f3780c43cbd}\label{classlibcamera_1_1CameraSensorLegacy_a8f1e9a86cc63e4a51ad98f3780c43cbd} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!applyConfiguration@{applyConfiguration}}
\index{applyConfiguration@{applyConfiguration}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{applyConfiguration()}{applyConfiguration()}}
{\footnotesize\ttfamily int libcamera\+::\+Camera\+Sensor\+Legacy\+::apply\+Configuration (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1SensorConfiguration}{Sensor\+Configuration}} \&}]{config,  }\item[{\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}}}]{transform = {\ttfamily \mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571ac9c5c65fb4af9cf90eb99b3b84424189}{Transform\+::\+Identity}}},  }\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{sensor\+Format = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Apply a sensor configuration to the camera sensor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em config} & The sensor configuration \\
\hline
\mbox{\texttt{ in}}  & {\em transform} & The transform to be applied on the sensor. Defaults to Identity \\
\hline
\mbox{\texttt{ out}}  & {\em sensor\+Format} & \doxylink{classFormat}{Format} applied to the sensor (optional)\\
\hline
\end{DoxyParams}
Apply to the camera sensor the configuration {\itshape config}.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000046}{Todo}}]The configuration shall be fully populated and if any of the fields specified cannot be applied exactly, an error code is returned.\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
0 if {\itshape config} is applied correctly to the camera sensor, a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a36b9ce9307b2b6eb1c741d59b6473368}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a9b1763c83f89ed67cc0f82eeec49521c}\label{classlibcamera_1_1CameraSensorLegacy_a9b1763c83f89ed67cc0f82eeec49521c} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!bayerOrder@{bayerOrder}}
\index{bayerOrder@{bayerOrder}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{bayerOrder()}{bayerOrder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1BayerFormat_a72f709c68ce975ab0cbfc65cc5a73b95}{Bayer\+Format\+::\+Order}} libcamera\+::\+Camera\+Sensor\+Legacy\+::bayer\+Order (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}}}]{t }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Compute the Bayer order that results from the given Transform. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em t} & The Transform to apply to the sensor\\
\hline
\end{DoxyParams}
Some sensors change their Bayer order when they are h-\/flipped or v-\/flipped. This function computes and returns the Bayer order that would result from the given transform applied to the sensor.

This function is valid only when the sensor produces raw Bayer formats.

\begin{DoxyReturn}{Returns}
The Bayer order produced by the sensor when the Transform is applied 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a65e3530e09c358fd8564c413a077a769}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a117ed9170c7bc47875a61e59251bdf41}\label{classlibcamera_1_1CameraSensorLegacy_a117ed9170c7bc47875a61e59251bdf41} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!computeTransform@{computeTransform}}
\index{computeTransform@{computeTransform}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{computeTransform()}{computeTransform()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}} libcamera\+::\+Camera\+Sensor\+Legacy\+::compute\+Transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacelibcamera_a80ea01625b93ecfe879249ac60c79384}{Orientation}} \texorpdfstring{$\ast$}{*}}]{orientation }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Compute the Transform that gives the requested {\itshape orientation}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em orientation} & The desired image orientation\\
\hline
\end{DoxyParams}
This function computes the Transform that the pipeline handler should apply to the \doxylink{classlibcamera_1_1CameraSensor}{Camera\+Sensor} to obtain the requested {\itshape orientation}.

The intended caller of this function is the validate() implementation of pipeline handlers, that pass in the application requested \doxylink{classlibcamera_1_1CameraConfiguration_a44acd9a3af5ce3a937c008e0843268b4}{Camera\+Configuration\+::orientation} and obtain a Transform to apply to the camera sensor, likely at configure() time.

If the requested {\itshape orientation} cannot be obtained, the {\itshape orientation} parameter is adjusted to report the current image orientation and \doxylink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571ac9c5c65fb4af9cf90eb99b3b84424189}{Transform\+::\+Identity} is returned.

If the requested {\itshape orientation} can be obtained, the function computes a Transform and does not adjust {\itshape orientation}.

Pipeline handlers are expected to verify if {\itshape orientation} has been adjusted by this function and set the Camera\+Configuration\+::status to Adjusted accordingly.

\begin{DoxyReturn}{Returns}
A Transform instance that applied to the \doxylink{classlibcamera_1_1CameraSensor}{Camera\+Sensor} produces images with {\itshape orientation} 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_aa4b012ff51c421b538f9f20bda0c9410}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_ac3f99c31558e53e0525a362dd0d8d6b9}\label{classlibcamera_1_1CameraSensorLegacy_ac3f99c31558e53e0525a362dd0d8d6b9} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!controls@{controls}}
\index{controls@{controls}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{controls()}{controls()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classlibcamera_1_1ControlInfoMap}{Control\+Info\+Map}} \& libcamera\+::\+Camera\+Sensor\+Legacy\+::controls (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the supported V4\+L2 controls and their information. 

\doxylink{classlibcamera_1_1Control}{Control} information is updated automatically to reflect the current sensor configuration when the \doxylink{classlibcamera_1_1CameraSensorLegacy_ae66e86ef1d254715ca7cea337ed2d37b}{set\+Format()} function is called, without invalidating any iterator on the \doxylink{classlibcamera_1_1ControlInfoMap}{Control\+Info\+Map}.

\begin{DoxyReturn}{Returns}
A map of the V4\+L2 controls supported by the sensor 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a276da213f947a316345f8f3cee87833f}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a9afc034f697036b28dfce3266b76fc91}\label{classlibcamera_1_1CameraSensorLegacy_a9afc034f697036b28dfce3266b76fc91} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!device@{device}}
\index{device@{device}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{device()}{device()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1V4L2Subdevice}{V4\+L2\+Subdevice}} \texorpdfstring{$\ast$}{*} libcamera\+::\+Camera\+Sensor\+Legacy\+::device (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the camera sensor device. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000043}{Todo}}]Remove this function by integrating Delayed\+Control with \doxylink{classlibcamera_1_1CameraSensor}{Camera\+Sensor} \end{DoxyRefDesc}
\begin{DoxyReturn}{Returns}
The camera sensor device 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_ab14ea54646bd5c542a5950de5c7671f0}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_ad672a190ec37b37f2841ec854c9b9fdb}\label{classlibcamera_1_1CameraSensorLegacy_ad672a190ec37b37f2841ec854c9b9fdb} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!entity@{entity}}
\index{entity@{entity}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{entity()}{entity()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classlibcamera_1_1MediaEntity}{Media\+Entity}} \texorpdfstring{$\ast$}{*} libcamera\+::\+Camera\+Sensor\+Legacy\+::entity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the sensor media entity. 

\begin{DoxyReturn}{Returns}
The sensor media entity 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a626e9f47783fe339ac402cdc5f4f0aa1}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_ae7d995d17e2549a8296201de08ae19a9}\label{classlibcamera_1_1CameraSensorLegacy_ae7d995d17e2549a8296201de08ae19a9} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!focusLens@{focusLens}}
\index{focusLens@{focusLens}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{focusLens()}{focusLens()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1CameraLens}{Camera\+Lens}} \texorpdfstring{$\ast$}{*} libcamera\+::\+Camera\+Sensor\+Legacy\+::focus\+Lens (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the focus lens controller. 

\begin{DoxyReturn}{Returns}
The focus lens controller. nullptr if no focus lens controller is connected to the sensor 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a7d0f6cea698adfeabf487111bc57408b}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_ac1a33c0481efff7a398755a628fca9f0}\label{classlibcamera_1_1CameraSensorLegacy_ac1a33c0481efff7a398755a628fca9f0} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!getControls@{getControls}}
\index{getControls@{getControls}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{getControls()}{getControls()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} libcamera\+::\+Camera\+Sensor\+Legacy\+::get\+Controls (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ uint32\+\_\+t $>$ \&}]{ids }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Read V4\+L2 controls from the sensor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ids} & The list of controls to read, specified by their ID\\
\hline
\end{DoxyParams}
This function reads the value of all controls contained in {\itshape ids}, and returns their values as a \doxylink{classlibcamera_1_1ControlList}{Control\+List}. The control identifiers are defined by the V4\+L2 specification (V4\+L2\+\_\+\+CID\+\_\+\texorpdfstring{$\ast$}{*}).

If any control in {\itshape ids} is not supported by the device, is disabled (i.\+e. has the V4\+L2\+\_\+\+CTRL\+\_\+\+FLAG\+\_\+\+DISABLED flag set), or if any other error occurs during validation of the requested controls, no control is read and this function returns an empty control list.

\begin{DoxySeeAlso}{See also}
\doxylink{classlibcamera_1_1V4L2Device_aaaadfb4e56d3099f9a84fa0a7a3fec50}{V4\+L2\+Device\+::get\+Controls()}
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
The control values in a \doxylink{classlibcamera_1_1ControlList}{Control\+List} on success, or an empty list on error 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_ac3fe0f2ea124fa0d82efacf1a6ae368f}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a05c7e0969d6331b0b4f85565a1383440}\label{classlibcamera_1_1CameraSensorLegacy_a05c7e0969d6331b0b4f85565a1383440} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!getFormat@{getFormat}}
\index{getFormat@{getFormat}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{getFormat()}{getFormat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} libcamera\+::\+Camera\+Sensor\+Legacy\+::get\+Format (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ unsigned int $>$ \&}]{mbus\+Codes,  }\item[{const \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} \&}]{size }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the best sensor format for a desired output. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mbus\+Codes} & The list of acceptable media bus codes \\
\hline
\mbox{\texttt{ in}}  & {\em size} & The desired size\\
\hline
\end{DoxyParams}
Media bus codes are selected from {\itshape mbus\+Codes}, which lists all acceptable codes in decreasing order of preference. Media bus codes supported by the sensor but not listed in {\itshape mbus\+Codes} are ignored. If none of the desired codes is supported, it returns an error.

{\itshape size} indicates the desired size at the output of the sensor. This function selects the best media bus code and size supported by the sensor according to the following criteria.


\begin{DoxyItemize}
\item The desired {\itshape size} shall fit in the sensor output size to avoid the need to up-\/scale.
\item The sensor output size shall match the desired aspect ratio to avoid the need to crop the field of view.
\item The sensor output size shall be as small as possible to lower the required bandwidth.
\item The desired {\itshape size} shall be supported by one of the media bus code listed in {\itshape mbus\+Codes}.
\end{DoxyItemize}

When multiple media bus codes can produce the same size, the code at the lowest position in {\itshape mbus\+Codes} is selected.

The use of this function is optional, as the above criteria may not match the needs of all pipeline handlers. Pipeline handlers may implement custom sensor format selection when needed.

The returned sensor output format is guaranteed to be acceptable by the \doxylink{classlibcamera_1_1CameraSensorLegacy_ae66e86ef1d254715ca7cea337ed2d37b}{set\+Format()} function without any modification.

\begin{DoxyReturn}{Returns}
The best sensor output format matching the desired media bus codes and size on success, or an empty format otherwise. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a9bfaf1b19d324547a3a4a072c359906f}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_abf6e43c7641804f60dd6f6bc64bbebf7}\label{classlibcamera_1_1CameraSensorLegacy_abf6e43c7641804f60dd6f6bc64bbebf7} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!id@{id}}
\index{id@{id}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{id()}{id()}}
{\footnotesize\ttfamily const std\+::string \& libcamera\+::\+Camera\+Sensor\+Legacy\+::id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the sensor ID. 

The sensor ID is a free-\/form string that uniquely identifies the sensor in the system. The ID satisfies the requirements to be used as a camera ID.

\begin{DoxyReturn}{Returns}
The sensor ID 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_ada5a8affea78c9a3b4e1f478c796b089}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a883334ec58de9d7313eb5817f13168da}\label{classlibcamera_1_1CameraSensorLegacy_a883334ec58de9d7313eb5817f13168da} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!logPrefix@{logPrefix}}
\index{logPrefix@{logPrefix}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{logPrefix()}{logPrefix()}}
{\footnotesize\ttfamily std\+::string libcamera\+::\+Camera\+Sensor\+Legacy\+::log\+Prefix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Retrieve a string to be prefixed to the log message. 

This function allows classes inheriting from the \doxylink{classlibcamera_1_1Loggable}{Loggable} class to extend the logger with an object-\/specific prefix output right before the log message contents.

\begin{DoxyReturn}{Returns}
A string to be prefixed to the log message 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1Loggable_a4cc48b0ae7215ceb4bfae6f192b2b3ee}{libcamera\+::\+Loggable}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_aef083ec1b68113a3d60f7a7a7bf0c041}\label{classlibcamera_1_1CameraSensorLegacy_aef083ec1b68113a3d60f7a7a7bf0c041} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!mbusCodes@{mbusCodes}}
\index{mbusCodes@{mbusCodes}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{mbusCodes()}{mbusCodes()}}
{\footnotesize\ttfamily const std\+::vector$<$ unsigned int $>$ \& libcamera\+::\+Camera\+Sensor\+Legacy\+::mbus\+Codes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the media bus codes supported by the camera sensor. 

Any Bayer formats are listed using the sensor\textquotesingle{}s native Bayer order, that is, with the effect of V4\+L2\+\_\+\+CID\+\_\+\+HFLIP and V4\+L2\+\_\+\+CID\+\_\+\+VFLIP undone (where these controls exist).

\begin{DoxyReturn}{Returns}
The supported media bus codes sorted in increasing order 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a39a823a3eec94b6ae1daf273f5eed820}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a0e507e40de4434fd37494c876e46ccb0}\label{classlibcamera_1_1CameraSensorLegacy_a0e507e40de4434fd37494c876e46ccb0} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!model@{model}}
\index{model@{model}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{model()}{model()}}
{\footnotesize\ttfamily const std\+::string \& libcamera\+::\+Camera\+Sensor\+Legacy\+::model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the sensor model name. 

The sensor model name is a free-\/formed string that uniquely identifies the sensor model.

\begin{DoxyReturn}{Returns}
The sensor model name 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_adfd4fa08b683442a23fd5a168b459774}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a749e92dd3e50cfd9a8a5c28f94c9e410}\label{classlibcamera_1_1CameraSensorLegacy_a749e92dd3e50cfd9a8a5c28f94c9e410} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!properties@{properties}}
\index{properties@{properties}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{properties()}{properties()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \& libcamera\+::\+Camera\+Sensor\+Legacy\+::properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the camera sensor properties. 

\begin{DoxyReturn}{Returns}
The list of camera sensor properties 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a5920ce0c8a3df3f438e3f54582974bd7}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_adddba1c4fefb7796caf9b8841a7dae2f}\label{classlibcamera_1_1CameraSensorLegacy_adddba1c4fefb7796caf9b8841a7dae2f} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!resolution@{resolution}}
\index{resolution@{resolution}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{resolution()}{resolution()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} libcamera\+::\+Camera\+Sensor\+Legacy\+::resolution (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the camera sensor resolution. 

The camera sensor resolution is the active pixel area size, clamped to the maximum frame size the sensor can produce if it is smaller than the active pixel area.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000044}{Todo}}]Consider if it desirable to distinguish between the maximum resolution the sensor can produce (also including upscaled ones) and the actual pixel array size by splitting this function in two.\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
The camera sensor resolution in pixels 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_abcd1c5043bbf5c848a4187a3e36fad13}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_abf1a7b6c6ee09c472844d51d4380a8fc}\label{classlibcamera_1_1CameraSensorLegacy_abf1a7b6c6ee09c472844d51d4380a8fc} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!sensorDelays@{sensorDelays}}
\index{sensorDelays@{sensorDelays}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{sensorDelays()}{sensorDelays()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structlibcamera_1_1CameraSensorProperties_1_1SensorDelays}{Camera\+Sensor\+Properties\+::\+Sensor\+Delays}} \& libcamera\+::\+Camera\+Sensor\+Legacy\+::sensor\+Delays (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Fetch the sensor delay values. 

This function retrieves the delays that the sensor applies to controls. If the static properties database doesn\textquotesingle{}t specifiy control delay values for the sensor, default delays that may be suitable are returned and a warning is logged.

\begin{DoxyReturn}{Returns}
The sensor delay values 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_ae63a2973a50ba1344d2c21182fee2d18}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a3239cf46a9b3074793d9141ca4a4f373}\label{classlibcamera_1_1CameraSensorLegacy_a3239cf46a9b3074793d9141ca4a4f373} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!sensorInfo@{sensorInfo}}
\index{sensorInfo@{sensorInfo}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{sensorInfo()}{sensorInfo()}}
{\footnotesize\ttfamily int libcamera\+::\+Camera\+Sensor\+Legacy\+::sensor\+Info (\begin{DoxyParamCaption}\item[{IPACamera\+Sensor\+Info \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Assemble and return the camera sensor info. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em info} & The camera sensor info\\
\hline
\end{DoxyParams}
This function fills {\itshape info} with information that describes the camera sensor and its current configuration. The information combines static data (such as the the sensor model or active pixel array size) and data specific to the current sensor configuration (such as the line length and pixel rate).

Sensor information is only available for raw sensors. When called for a YUV sensor, this function returns -\/EINVAL.

\begin{DoxyReturn}{Returns}
0 on success, a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_add91c30dc0cd77e32358bb19e39061cd}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a559b2c5f779a9b34c1bf1693832b1898}\label{classlibcamera_1_1CameraSensorLegacy_a559b2c5f779a9b34c1bf1693832b1898} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!setControls@{setControls}}
\index{setControls@{setControls}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{setControls()}{setControls()}}
{\footnotesize\ttfamily int libcamera\+::\+Camera\+Sensor\+Legacy\+::set\+Controls (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1ControlList}{Control\+List}} \texorpdfstring{$\ast$}{*}}]{ctrls }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Write V4\+L2 controls to the sensor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em ctrls} & The list of controls to write\\
\hline
\end{DoxyParams}
This function writes the value of all controls contained in {\itshape ctrls}, and stores the values actually applied to the device in the corresponding {\itshape ctrls} entry. The control identifiers are defined by the V4\+L2 specification (V4\+L2\+\_\+\+CID\+\_\+\texorpdfstring{$\ast$}{*}).

If any control in {\itshape ctrls} is not supported by the device, is disabled (i.\+e. has the V4\+L2\+\_\+\+CTRL\+\_\+\+FLAG\+\_\+\+DISABLED flag set), is read-\/only, or if any other error occurs during validation of the requested controls, no control is written and this function returns -\/EINVAL.

If an error occurs while writing the controls, the index of the first control that couldn\textquotesingle{}t be written is returned. All controls below that index are written and their values are updated in {\itshape ctrls}, while all other controls are not written and their values are not changed.

\begin{DoxySeeAlso}{See also}
\doxylink{classlibcamera_1_1V4L2Device_ab0485054b749a15cb5152cc751c81750}{V4\+L2\+Device\+::set\+Controls()}
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
0 on success or an error code otherwise 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em -\/\+EINVAL} & One of the control is not supported or not accessible \\
\hline
{\em i} & The index of the control that failed \\
\hline
\end{DoxyRetVals}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_acd6531f90b8b30fd347f3925f94103e6}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_ae66e86ef1d254715ca7cea337ed2d37b}\label{classlibcamera_1_1CameraSensorLegacy_ae66e86ef1d254715ca7cea337ed2d37b} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!setFormat@{setFormat}}
\index{setFormat@{setFormat}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{setFormat()}{setFormat()}}
{\footnotesize\ttfamily int libcamera\+::\+Camera\+Sensor\+Legacy\+::set\+Format (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{format,  }\item[{\mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571}{Transform}}}]{transform = {\ttfamily \mbox{\hyperlink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571ac9c5c65fb4af9cf90eb99b3b84424189}{Transform\+::\+Identity}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Set the sensor output format. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em format} & The desired sensor output format \\
\hline
\mbox{\texttt{ in}}  & {\em transform} & The transform to be applied on the sensor. Defaults to Identity.\\
\hline
\end{DoxyParams}
If flips are writable they are configured according to the desired Transform. \doxylink{namespacelibcamera_a371b6d17d531b85c035c4e889b116571ac9c5c65fb4af9cf90eb99b3b84424189}{Transform\+::\+Identity} always corresponds to H/V flip being disabled if the controls are writable. Flips are set before the new format is applied as they can effectively change the Bayer pattern ordering.

The ranges of any controls associated with the sensor are also updated.

\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_ad871514dff7a30406df5f8cd557672d7}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_aae9e326170bec2e2c5f04eeab0e2de91}\label{classlibcamera_1_1CameraSensorLegacy_aae9e326170bec2e2c5f04eeab0e2de91} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!setTestPatternMode@{setTestPatternMode}}
\index{setTestPatternMode@{setTestPatternMode}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{setTestPatternMode()}{setTestPatternMode()}}
{\footnotesize\ttfamily int libcamera\+::\+Camera\+Sensor\+Legacy\+::set\+Test\+Pattern\+Mode (\begin{DoxyParamCaption}\item[{controls\+::draft\+::\+Test\+Pattern\+Mode\+Enum}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Set the test pattern mode for the camera sensor. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mode} & The test pattern mode\\
\hline
\end{DoxyParams}
The new {\itshape mode} is applied to the sensor if it differs from the active test pattern mode. Otherwise, this function is a no-\/op. Setting the same test pattern mode for every frame thus incurs no performance penalty. 

Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a87d4b19ccd88bb7c4f0c7532e39583e4}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a5856099b4cca79d3c5abe42a19b88638}\label{classlibcamera_1_1CameraSensorLegacy_a5856099b4cca79d3c5abe42a19b88638} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!sizes@{sizes}}
\index{sizes@{sizes}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{sizes()}{sizes()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1Size}{Size}} $>$ libcamera\+::\+Camera\+Sensor\+Legacy\+::sizes (\begin{DoxyParamCaption}\item[{unsigned int}]{mbus\+Code }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve the supported frame sizes for a media bus code. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mbus\+Code} & The media bus code for which sizes are requested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The supported frame sizes for {\itshape mbus\+Code} sorted in increasing order 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a0d7f0a0296945aaed955dbf0457c2037}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_a18036d65f91fc51ad99ec3b2f7f86c8f}\label{classlibcamera_1_1CameraSensorLegacy_a18036d65f91fc51ad99ec3b2f7f86c8f} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!testPatternModes@{testPatternModes}}
\index{testPatternModes@{testPatternModes}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{testPatternModes()}{testPatternModes()}}
{\footnotesize\ttfamily const std\+::vector$<$ controls\+::draft\+::\+Test\+Pattern\+Mode\+Enum $>$ \& libcamera\+::\+Camera\+Sensor\+Legacy\+::test\+Pattern\+Modes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Retrieve all the supported test pattern modes of the camera sensor The test pattern mode values correspond to the controls\+::\+Test\+Pattern control. 

\begin{DoxyReturn}{Returns}
The list of test pattern modes 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_aeb3893db05dde5b030c6c9e42e0ac748}{libcamera\+::\+Camera\+Sensor}}.

\Hypertarget{classlibcamera_1_1CameraSensorLegacy_ae55ab53844419331040f036aeeeee40e}\label{classlibcamera_1_1CameraSensorLegacy_ae55ab53844419331040f036aeeeee40e} 
\index{libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}!tryFormat@{tryFormat}}
\index{tryFormat@{tryFormat}!libcamera::CameraSensorLegacy@{libcamera::CameraSensorLegacy}}
\doxysubsubsection{\texorpdfstring{tryFormat()}{tryFormat()}}
{\footnotesize\ttfamily int libcamera\+::\+Camera\+Sensor\+Legacy\+::try\+Format (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structlibcamera_1_1V4L2SubdeviceFormat}{V4\+L2\+Subdevice\+Format}} \texorpdfstring{$\ast$}{*}}]{format }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Try the sensor output format. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em format} & The desired sensor output format\\
\hline
\end{DoxyParams}
The ranges of any controls associated with the sensor are not updated.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000045}{Todo}}]Add support for Transform by changing the format\textquotesingle{}s Bayer ordering before calling subdev\+\_\+-\/\texorpdfstring{$>$}{>}\doxylink{classlibcamera_1_1CameraSensorLegacy_ae66e86ef1d254715ca7cea337ed2d37b}{set\+Format()}.\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
0 on success or a negative error code otherwise 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classlibcamera_1_1CameraSensor_a1d3d7d3ef571499184fbe7425f8da927}{libcamera\+::\+Camera\+Sensor}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/src/libcamera/sensor/camera\+\_\+sensor\+\_\+legacy.\+cpp\end{DoxyCompactItemize}
