\doxysection{libcamera\+::File Class Reference}
\hypertarget{classlibcamera_1_1File}{}\label{classlibcamera_1_1File}\index{libcamera::File@{libcamera::File}}


Interface for I/O operations on files.  


\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0}{Map\+Flag}} \{ \mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a44f0e1a448f14b3cfcae67338bdc04bb}{No\+Option}} = 0
, \mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a47f9082fc380ca62d531096aa1d110f1}{Private}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 0)
 \}
\begin{DoxyCompactList}\small\item\em \doxylink{classlibcamera_1_1Flags}{Flags} for the \doxylink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{File\+::map()} function. \end{DoxyCompactList}\item 
enum class \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cb}{Open\+Mode\+Flag}} \{ \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cbabdd7de68889646349ad64c3f6404b635}{Not\+Open}} = 0
, \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba131fb182a881796e7606ed6da27f1197}{Read\+Only}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 0)
, \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba53dfe5089ae9e65887cb0215cb0098f5}{Write\+Only}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 1)
, \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba70a2a84088d405a2e3f1e3accaa16723}{Read\+Write}} = Read\+Only \texorpdfstring{$\vert$}{|} Write\+Only
 \}
\begin{DoxyCompactList}\small\item\em Mode in which a file is opened. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1File_ab408d863e2a0191023b7368cb52213ef}\label{classlibcamera_1_1File_ab408d863e2a0191023b7368cb52213ef} 
using {\bfseries Map\+Flags} = \mbox{\hyperlink{classlibcamera_1_1Flags}{Flags}}$<$ \mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0}{Map\+Flag}} $>$
\begin{DoxyCompactList}\small\item\em A bitwise combination of \doxylink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0}{File\+::\+Map\+Flag} values. \end{DoxyCompactList}\item 
\Hypertarget{classlibcamera_1_1File_aa7d05f43db687fb4363b6c77413e0153}\label{classlibcamera_1_1File_aa7d05f43db687fb4363b6c77413e0153} 
using {\bfseries Open\+Mode} = \mbox{\hyperlink{classlibcamera_1_1Flags}{Flags}}$<$ \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cb}{Open\+Mode\+Flag}} $>$
\begin{DoxyCompactList}\small\item\em A bitwise combination of \doxylink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cb}{File\+::\+Open\+Mode\+Flag} values. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1File_abf5381b73abbd9be176c2691cd203314}{File}} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classlibcamera_1_1File}{File} to represent the file {\itshape name}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1File_aa47651dbd19d4a39ccd1aedebe661b7f}{File}} ()
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classlibcamera_1_1File}{File} without an associated name. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1File_a9c6a7c6572aed8367bf8632679ffbe33}{\texorpdfstring{$\sim$}{\string~}\+File}} ()
\begin{DoxyCompactList}\small\item\em Destroy a \doxylink{classlibcamera_1_1File}{File} instance. \end{DoxyCompactList}\item 
const std\+::string \& \mbox{\hyperlink{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a}{file\+Name}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the file name. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1File_aebffdf869c9e1e4708fc77e630c1404e}{set\+File\+Name}} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em Set the name of the file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1File_a41891c0fb18b11268b9367df43f99532}{exists}} () const
\begin{DoxyCompactList}\small\item\em Check if the file specified by \doxylink{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a}{file\+Name()} exists. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1File_a51d5e31e1583c024674392b721fe81d7}{open}} (\mbox{\hyperlink{classlibcamera_1_1File_aa7d05f43db687fb4363b6c77413e0153}{Open\+Mode}} mode)
\begin{DoxyCompactList}\small\item\em Open the file in the given mode. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1File_a9994a0225c3dae36a0d77bda2f9120cb}{is\+Open}} () const
\begin{DoxyCompactList}\small\item\em Check if the file is open. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1File_aa7d05f43db687fb4363b6c77413e0153}{Open\+Mode}} \mbox{\hyperlink{classlibcamera_1_1File_aa8fa7887b901b9bc4cc5bb4d647fc4dd}{open\+Mode}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the file open mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classlibcamera_1_1File_a62ad081ef9f239b476815bf855de08d7}{close}} ()
\begin{DoxyCompactList}\small\item\em Close the file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881}{error}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the file error status. \end{DoxyCompactList}\item 
ssize\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_ae5a2310f55bb95ad77257a63483392eb}{size}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the file size. \end{DoxyCompactList}\item 
off\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_ae941e89884152a9c7d8da39f580220ac}{pos}} () const
\begin{DoxyCompactList}\small\item\em Return current read or write position. \end{DoxyCompactList}\item 
off\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_ad724b3d6ab82d0b50cf9221fd55b60bd}{seek}} (off\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_ae941e89884152a9c7d8da39f580220ac}{pos}})
\begin{DoxyCompactList}\small\item\em Set the read or write position. \end{DoxyCompactList}\item 
ssize\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_acfe64877b7c056697bdeea56d553b383}{read}} (const \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ uint8\+\_\+t $>$ \&data)
\begin{DoxyCompactList}\small\item\em Read data from the file. \end{DoxyCompactList}\item 
ssize\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_a596bea491fd1306082e462842559c929}{write}} (const \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ const uint8\+\_\+t $>$ \&data)
\begin{DoxyCompactList}\small\item\em Write data to the file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ uint8\+\_\+t $>$ \mbox{\hyperlink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{map}} (off\+\_\+t offset=0, ssize\+\_\+t \mbox{\hyperlink{classlibcamera_1_1File_ae5a2310f55bb95ad77257a63483392eb}{size}}=-\/1, \mbox{\hyperlink{classlibcamera_1_1File_ab408d863e2a0191023b7368cb52213ef}{Map\+Flags}} flags=\mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a44f0e1a448f14b3cfcae67338bdc04bb}{Map\+Flag\+::\+No\+Option}})
\begin{DoxyCompactList}\small\item\em Map a region of the file in the process memory. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1File_ae2d7e600bc5bd4381741f9874c9a11ef}{unmap}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}addr)
\begin{DoxyCompactList}\small\item\em Unmap a region mapped with \doxylink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{map()} \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classlibcamera_1_1File_ab4a37eee57a9266c30c48753ec0b47a4}{exists}} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em Check if the file specified by {\itshape name} exists. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interface for I/O operations on files. 

The \doxylink{classlibcamera_1_1File}{File} class provides an interface to perform I/O operations on files. It wraps opening, closing and mapping files in memory, and handles the cleaning of allocated resources.

\doxylink{classlibcamera_1_1File}{File} instances are usually constructed with a file name, but the name can be set later through the \doxylink{classlibcamera_1_1File_aebffdf869c9e1e4708fc77e630c1404e}{set\+File\+Name()} function. Instances are not automatically opened when constructed, and shall be opened explictly with \doxylink{classlibcamera_1_1File_a51d5e31e1583c024674392b721fe81d7}{open()}.

Files can be mapped to the process memory with \doxylink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{map()}. Mapped regions can be unmapped manually with munmap(), and are automatically unmapped when the \doxylink{classlibcamera_1_1File}{File} is destroyed or when it is used to reference another file with \doxylink{classlibcamera_1_1File_aebffdf869c9e1e4708fc77e630c1404e}{set\+File\+Name()}. 

\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0}\label{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0} 
\index{libcamera::File@{libcamera::File}!MapFlag@{MapFlag}}
\index{MapFlag@{MapFlag}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{MapFlag}{MapFlag}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0}{libcamera\+::\+File\+::\+Map\+Flag}}\hspace{0.3cm}{\ttfamily [strong]}}



\doxylink{classlibcamera_1_1Flags}{Flags} for the \doxylink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{File\+::map()} function. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{NoOption@{NoOption}!libcamera::File@{libcamera::File}}\index{libcamera::File@{libcamera::File}!NoOption@{NoOption}}}\Hypertarget{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a44f0e1a448f14b3cfcae67338bdc04bb}\label{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a44f0e1a448f14b3cfcae67338bdc04bb} 
No\+Option&No option (used as default value) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Private@{Private}!libcamera::File@{libcamera::File}}\index{libcamera::File@{libcamera::File}!Private@{Private}}}\Hypertarget{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a47f9082fc380ca62d531096aa1d110f1}\label{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a47f9082fc380ca62d531096aa1d110f1} 
Private&The memory region is mapped as private, changes are not reflected in the file constents. \\
\hline

\end{DoxyEnumFields}
\Hypertarget{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cb}\label{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cb} 
\index{libcamera::File@{libcamera::File}!OpenModeFlag@{OpenModeFlag}}
\index{OpenModeFlag@{OpenModeFlag}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{OpenModeFlag}{OpenModeFlag}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cb}{libcamera\+::\+File\+::\+Open\+Mode\+Flag}}\hspace{0.3cm}{\ttfamily [strong]}}



Mode in which a file is opened. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{NotOpen@{NotOpen}!libcamera::File@{libcamera::File}}\index{libcamera::File@{libcamera::File}!NotOpen@{NotOpen}}}\Hypertarget{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cbabdd7de68889646349ad64c3f6404b635}\label{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cbabdd7de68889646349ad64c3f6404b635} 
Not\+Open&The file is not open. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ReadOnly@{ReadOnly}!libcamera::File@{libcamera::File}}\index{libcamera::File@{libcamera::File}!ReadOnly@{ReadOnly}}}\Hypertarget{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba131fb182a881796e7606ed6da27f1197}\label{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba131fb182a881796e7606ed6da27f1197} 
Read\+Only&The file is open for reading. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WriteOnly@{WriteOnly}!libcamera::File@{libcamera::File}}\index{libcamera::File@{libcamera::File}!WriteOnly@{WriteOnly}}}\Hypertarget{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba53dfe5089ae9e65887cb0215cb0098f5}\label{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba53dfe5089ae9e65887cb0215cb0098f5} 
Write\+Only&The file is open for writing. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ReadWrite@{ReadWrite}!libcamera::File@{libcamera::File}}\index{libcamera::File@{libcamera::File}!ReadWrite@{ReadWrite}}}\Hypertarget{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba70a2a84088d405a2e3f1e3accaa16723}\label{classlibcamera_1_1File_a6df7f0036263a0a04610e586e9e604cba70a2a84088d405a2e3f1e3accaa16723} 
Read\+Write&The file is open for reading and writing. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlibcamera_1_1File_abf5381b73abbd9be176c2691cd203314}\label{classlibcamera_1_1File_abf5381b73abbd9be176c2691cd203314} 
\index{libcamera::File@{libcamera::File}!File@{File}}
\index{File@{File}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{File()}{File()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily libcamera\+::\+File\+::\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}



Construct a \doxylink{classlibcamera_1_1File}{File} to represent the file {\itshape name}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em name} & The file name\\
\hline
\end{DoxyParams}
Upon construction the \doxylink{classlibcamera_1_1File}{File} object is closed and shall be opened with \doxylink{classlibcamera_1_1File_a51d5e31e1583c024674392b721fe81d7}{open()} before performing I/O operations. \Hypertarget{classlibcamera_1_1File_aa47651dbd19d4a39ccd1aedebe661b7f}\label{classlibcamera_1_1File_aa47651dbd19d4a39ccd1aedebe661b7f} 
\index{libcamera::File@{libcamera::File}!File@{File}}
\index{File@{File}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{File()}{File()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily libcamera\+::\+File\+::\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Construct a \doxylink{classlibcamera_1_1File}{File} without an associated name. 

Before being used for any purpose, the file name shall be set with \doxylink{classlibcamera_1_1File_aebffdf869c9e1e4708fc77e630c1404e}{set\+File\+Name()}. \Hypertarget{classlibcamera_1_1File_a9c6a7c6572aed8367bf8632679ffbe33}\label{classlibcamera_1_1File_a9c6a7c6572aed8367bf8632679ffbe33} 
\index{libcamera::File@{libcamera::File}!````~File@{\texorpdfstring{$\sim$}{\string~}File}}
\index{````~File@{\texorpdfstring{$\sim$}{\string~}File}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}File()}{\string~File()}}
{\footnotesize\ttfamily libcamera\+::\+File\+::\texorpdfstring{$\sim$}{\string~}\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destroy a \doxylink{classlibcamera_1_1File}{File} instance. 

Any memory mapping associated with the \doxylink{classlibcamera_1_1File}{File} is unmapped, and the \doxylink{classlibcamera_1_1File}{File} is closed if it is open. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1File_a62ad081ef9f239b476815bf855de08d7}\label{classlibcamera_1_1File_a62ad081ef9f239b476815bf855de08d7} 
\index{libcamera::File@{libcamera::File}!close@{close}}
\index{close@{close}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily void libcamera\+::\+File\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Close the file. 

This function closes the \doxylink{classlibcamera_1_1File}{File}. If the \doxylink{classlibcamera_1_1File}{File} is not open, it performs no operation. Memory mappings created with \doxylink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{map()} are not destroyed when the file is closed. \Hypertarget{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881}\label{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881} 
\index{libcamera::File@{libcamera::File}!error@{error}}
\index{error@{error}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{error()}{error()}}
{\footnotesize\ttfamily int libcamera\+::\+File\+::error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the file error status. 

This function retrieves the error status from the last file open or I/O operation. The error status is a negative number as defined by errno.\+h. If no error occurred, this function returns 0.

\begin{DoxyReturn}{Returns}
The file error status 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_a41891c0fb18b11268b9367df43f99532}\label{classlibcamera_1_1File_a41891c0fb18b11268b9367df43f99532} 
\index{libcamera::File@{libcamera::File}!exists@{exists}}
\index{exists@{exists}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{exists()}{exists()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool libcamera\+::\+File\+::exists (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Check if the file specified by \doxylink{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a}{file\+Name()} exists. 

This function checks if the file specified by \doxylink{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a}{file\+Name()} exists. The \doxylink{classlibcamera_1_1File}{File} instance doesn\textquotesingle{}t need to be open to check for file existence, and this function may return false even if the file is open, if it was deleted from the file system.

\begin{DoxyReturn}{Returns}
True if the the file exists, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_ab4a37eee57a9266c30c48753ec0b47a4}\label{classlibcamera_1_1File_ab4a37eee57a9266c30c48753ec0b47a4} 
\index{libcamera::File@{libcamera::File}!exists@{exists}}
\index{exists@{exists}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{exists()}{exists()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool libcamera\+::\+File\+::exists (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Check if the file specified by {\itshape name} exists. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em name} & The file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the file exists, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a}\label{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a} 
\index{libcamera::File@{libcamera::File}!fileName@{fileName}}
\index{fileName@{fileName}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{fileName()}{fileName()}}
{\footnotesize\ttfamily const std\+::string \& libcamera\+::\+File\+::file\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the file name. 

\begin{DoxyReturn}{Returns}
The file name 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_a9994a0225c3dae36a0d77bda2f9120cb}\label{classlibcamera_1_1File_a9994a0225c3dae36a0d77bda2f9120cb} 
\index{libcamera::File@{libcamera::File}!isOpen@{isOpen}}
\index{isOpen@{isOpen}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{isOpen()}{isOpen()}}
{\footnotesize\ttfamily bool libcamera\+::\+File\+::is\+Open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Check if the file is open. 

\begin{DoxyReturn}{Returns}
True if the file is open, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}\label{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44} 
\index{libcamera::File@{libcamera::File}!map@{map}}
\index{map@{map}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{map()}{map()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ uint8\+\_\+t $>$ libcamera\+::\+File\+::map (\begin{DoxyParamCaption}\item[{off\+\_\+t}]{offset = {\ttfamily 0},  }\item[{ssize\+\_\+t}]{size = {\ttfamily -\/1},  }\item[{\mbox{\hyperlink{classlibcamera_1_1File_ab408d863e2a0191023b7368cb52213ef}{File\+::\+Map\+Flags}}}]{flags = {\ttfamily \mbox{\hyperlink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a44f0e1a448f14b3cfcae67338bdc04bb}{Map\+Flag\+::\+No\+Option}}} }\end{DoxyParamCaption})}



Map a region of the file in the process memory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em offset} & The region offset within the file \\
\hline
\mbox{\texttt{ in}}  & {\em size} & The region sise \\
\hline
\mbox{\texttt{ in}}  & {\em flags} & The mapping flags\\
\hline
\end{DoxyParams}
This function maps a region of {\itshape size} bytes of the file starting at {\itshape offset} into the process memory. The \doxylink{classlibcamera_1_1File}{File} instance shall be open, but may be closed after mapping the region. Mappings stay valid when the \doxylink{classlibcamera_1_1File}{File} is closed, and are destroyed automatically when the \doxylink{classlibcamera_1_1File}{File} is deleted.

If {\itshape size} is a negative value, this function maps the region starting at {\itshape offset} until the end of the file.

The mapping memory protection is controlled by the file open mode, unless {\itshape flags} contains \doxylink{classlibcamera_1_1File_a128efbbcacb7cdaa1986ffc943e89ae0a47f9082fc380ca62d531096aa1d110f1}{Map\+Flag\+::\+Private} in which case the region is mapped in read/write mode.

The \doxylink{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881}{error()} status is updated.

\begin{DoxyReturn}{Returns}
The mapped memory on success, or an empty span otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_a51d5e31e1583c024674392b721fe81d7}\label{classlibcamera_1_1File_a51d5e31e1583c024674392b721fe81d7} 
\index{libcamera::File@{libcamera::File}!open@{open}}
\index{open@{open}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily bool libcamera\+::\+File\+::open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1File_aa7d05f43db687fb4363b6c77413e0153}{File\+::\+Open\+Mode}}}]{mode }\end{DoxyParamCaption})}



Open the file in the given mode. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mode} & The open mode\\
\hline
\end{DoxyParams}
This function opens the file specified by \doxylink{classlibcamera_1_1File_a387e2f92eb36a45aad031915ca90471a}{file\+Name()} in {\itshape mode}. If the file doesn\textquotesingle{}t exist and the mode is Write\+Only or Read\+Write, this function will attempt to create the file with initial permissions set to 0666 (modified by the process\textquotesingle{} umask).

The file is opened with the O\+\_\+\+CLOEXEC flag, and will be closed automatically when a new binary is executed with one of the exec(3) functions.

The \doxylink{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881}{error()} status is updated.

\begin{DoxyReturn}{Returns}
True on success, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_aa8fa7887b901b9bc4cc5bb4d647fc4dd}\label{classlibcamera_1_1File_aa8fa7887b901b9bc4cc5bb4d647fc4dd} 
\index{libcamera::File@{libcamera::File}!openMode@{openMode}}
\index{openMode@{openMode}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{openMode()}{openMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1File_aa7d05f43db687fb4363b6c77413e0153}{Open\+Mode}} libcamera\+::\+File\+::open\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the file open mode. 

\begin{DoxyReturn}{Returns}
The file open mode 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_ae941e89884152a9c7d8da39f580220ac}\label{classlibcamera_1_1File_ae941e89884152a9c7d8da39f580220ac} 
\index{libcamera::File@{libcamera::File}!pos@{pos}}
\index{pos@{pos}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{pos()}{pos()}}
{\footnotesize\ttfamily off\+\_\+t libcamera\+::\+File\+::pos (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return current read or write position. 

If the file is closed, this function returns 0.

\begin{DoxyReturn}{Returns}
The current read or write position 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_acfe64877b7c056697bdeea56d553b383}\label{classlibcamera_1_1File_acfe64877b7c056697bdeea56d553b383} 
\index{libcamera::File@{libcamera::File}!read@{read}}
\index{read@{read}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily ssize\+\_\+t libcamera\+::\+File\+::read (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ uint8\+\_\+t $>$ \&}]{data }\end{DoxyParamCaption})}



Read data from the file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Memory to read data into\\
\hline
\end{DoxyParams}
Read at most {\itshape data.\+size()} bytes from the file into {\itshape data.\+data()}, and return the number of bytes read. If less data than requested is available, the returned byte count may be smaller than the requested size. If no more data is available, 0 is returned.

The position of the file as returned by \doxylink{classlibcamera_1_1File_ae941e89884152a9c7d8da39f580220ac}{pos()} is advanced by the number of bytes read. If an error occurs, the position isn\textquotesingle{}t modified.

\begin{DoxyReturn}{Returns}
The number of bytes read on success, or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_ad724b3d6ab82d0b50cf9221fd55b60bd}\label{classlibcamera_1_1File_ad724b3d6ab82d0b50cf9221fd55b60bd} 
\index{libcamera::File@{libcamera::File}!seek@{seek}}
\index{seek@{seek}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{seek()}{seek()}}
{\footnotesize\ttfamily off\+\_\+t libcamera\+::\+File\+::seek (\begin{DoxyParamCaption}\item[{off\+\_\+t}]{pos }\end{DoxyParamCaption})}



Set the read or write position. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em pos} & The desired position \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resulting offset from the beginning of the file on success, or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_aebffdf869c9e1e4708fc77e630c1404e}\label{classlibcamera_1_1File_aebffdf869c9e1e4708fc77e630c1404e} 
\index{libcamera::File@{libcamera::File}!setFileName@{setFileName}}
\index{setFileName@{setFileName}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{setFileName()}{setFileName()}}
{\footnotesize\ttfamily void libcamera\+::\+File\+::set\+File\+Name (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}



Set the name of the file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em name} & The name of the file\\
\hline
\end{DoxyParams}
The {\itshape name} can contain an absolute path, a relative path or no path at all. Calling this function on an open file results in undefined behaviour.

Any memory mapping associated with the \doxylink{classlibcamera_1_1File}{File} is unmapped. \Hypertarget{classlibcamera_1_1File_ae5a2310f55bb95ad77257a63483392eb}\label{classlibcamera_1_1File_ae5a2310f55bb95ad77257a63483392eb} 
\index{libcamera::File@{libcamera::File}!size@{size}}
\index{size@{size}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily ssize\+\_\+t libcamera\+::\+File\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieve the file size. 

This function retrieves the size of the file on the filesystem. The \doxylink{classlibcamera_1_1File}{File} instance shall be open to retrieve its size. The \doxylink{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881}{error()} status is not modified, error codes are returned directly on failure.

\begin{DoxyReturn}{Returns}
The file size in bytes on success, or a negative error code otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_ae2d7e600bc5bd4381741f9874c9a11ef}\label{classlibcamera_1_1File_ae2d7e600bc5bd4381741f9874c9a11ef} 
\index{libcamera::File@{libcamera::File}!unmap@{unmap}}
\index{unmap@{unmap}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{unmap()}{unmap()}}
{\footnotesize\ttfamily bool libcamera\+::\+File\+::unmap (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{addr }\end{DoxyParamCaption})}



Unmap a region mapped with \doxylink{classlibcamera_1_1File_ae21f90c1db0adaab5769b4aa40aacd44}{map()} 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em addr} & The region address\\
\hline
\end{DoxyParams}
The \doxylink{classlibcamera_1_1File_a17a868b3e07508e37463acbbd525e881}{error()} status is updated.

\begin{DoxyReturn}{Returns}
True on success, or false if an error occurs 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1File_a596bea491fd1306082e462842559c929}\label{classlibcamera_1_1File_a596bea491fd1306082e462842559c929} 
\index{libcamera::File@{libcamera::File}!write@{write}}
\index{write@{write}!libcamera::File@{libcamera::File}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily ssize\+\_\+t libcamera\+::\+File\+::write (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ const uint8\+\_\+t $>$ \&}]{data }\end{DoxyParamCaption})}



Write data to the file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em data} & Memory containing data to be written\\
\hline
\end{DoxyParams}
Write at most {\itshape data.\+size()} bytes from {\itshape data.\+data()} to the file, and return the number of bytes written. If the file system doesn\textquotesingle{}t have enough space for the data, the returned byte count may be less than requested.

The position of the file as returned by \doxylink{classlibcamera_1_1File_ae941e89884152a9c7d8da39f580220ac}{pos()} is advanced by the number of bytes written. If an error occurs, the position isn\textquotesingle{}t modified.

\begin{DoxyReturn}{Returns}
The number of bytes written on success, or a negative error code otherwise 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/base/\mbox{\hyperlink{file_8h}{file.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/base/file.\+cpp\end{DoxyCompactItemize}
