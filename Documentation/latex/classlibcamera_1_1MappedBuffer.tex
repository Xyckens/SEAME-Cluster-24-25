\doxysection{libcamera\+::Mapped\+Buffer Class Reference}
\hypertarget{classlibcamera_1_1MappedBuffer}{}\label{classlibcamera_1_1MappedBuffer}\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}}


Provide an interface to support managing memory mapped buffers.  


Inheritance diagram for libcamera\+::Mapped\+Buffer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classlibcamera_1_1MappedBuffer}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}{Plane}} = \mbox{\hyperlink{classlibcamera_1_1Span}{Span}}$<$ uint8\+\_\+t $>$
\begin{DoxyCompactList}\small\item\em A mapped region of memory accessible to the CPU. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a91a5b45768e03f838314588b1e8cf51c}{Mapped\+Buffer}} (\mbox{\hyperlink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}} \&\&other)
\begin{DoxyCompactList}\small\item\em Move constructor, construct the \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} with the contents of {\itshape other} using move semantics. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}} \& \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_aa1342eb5fc37a7055103ca0d2babbc7b}{operator=}} (\mbox{\hyperlink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}} \&\&other)
\begin{DoxyCompactList}\small\item\em Move assignment operator, replace the mappings with those of {\itshape other}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_ad95bb6f3dc11a76b7cabba7be6816813}{is\+Valid}} () const
\begin{DoxyCompactList}\small\item\em Check if the \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} instance is valid. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a82de9ad85e265ef186cb3dab1cbbe0ed}{error}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the map error status. \end{DoxyCompactList}\item 
const std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}{Plane}} $>$ \& \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a150cdc7c892734781066e477c538a736}{planes}} () const
\begin{DoxyCompactList}\small\item\em Retrieve the mapped planes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classlibcamera_1_1MappedBuffer_a0585c7e99a32cc78d18fbd36bd11bffe}\label{classlibcamera_1_1MappedBuffer_a0585c7e99a32cc78d18fbd36bd11bffe} 
{\bfseries Mapped\+Buffer} ()
\begin{DoxyCompactList}\small\item\em Construct an empty \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_ac4b6701c923abeb049403d056ecc14b4}{error\+\_\+}}
\begin{DoxyCompactList}\small\item\em Stores the error value if present. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}{Plane}} $>$ \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_af7e58579fadc6f306b6bedb7b64f0ca7}{planes\+\_\+}}
\begin{DoxyCompactList}\small\item\em Stores the internal mapped planes. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}{Plane}} $>$ \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a2cc32d7cc1cbaffaef01a307cd947d94}{maps\+\_\+}}
\begin{DoxyCompactList}\small\item\em Stores the mapped buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Provide an interface to support managing memory mapped buffers. 

The \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} interface provides access to a set of Mapped\+Planes which are available for access by the CPU.

This class is not meant to be constructed directly, but instead derived classes should be used to implement the correct mapping of a source buffer.

This allows treating CPU accessible memory through a generic interface regardless of whether it originates from a libcamera \doxylink{classlibcamera_1_1FrameBuffer}{Frame\+Buffer} or other source. 

\doxysubsection{Member Typedef Documentation}
\Hypertarget{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}\label{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!Plane@{Plane}}
\index{Plane@{Plane}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{Plane}{Plane}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}{libcamera\+::\+Mapped\+Buffer\+::\+Plane}}}



A mapped region of memory accessible to the CPU. 

The \doxylink{classlibcamera_1_1MappedBuffer_a7c3b48c55b9f417a4e995bb2ee93163b}{Mapped\+Buffer\+::\+Plane} uses the \doxylink{classlibcamera_1_1Span}{Span} interface to describe the mapped memory region. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classlibcamera_1_1MappedBuffer_a91a5b45768e03f838314588b1e8cf51c}\label{classlibcamera_1_1MappedBuffer_a91a5b45768e03f838314588b1e8cf51c} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!MappedBuffer@{MappedBuffer}}
\index{MappedBuffer@{MappedBuffer}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{MappedBuffer()}{MappedBuffer()}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::\+Mapped\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}} \&\&}]{other }\end{DoxyParamCaption})}



Move constructor, construct the \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} with the contents of {\itshape other} using move semantics. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em other} & The other \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}\\
\hline
\end{DoxyParams}
Moving a \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} moves the mappings contained in the {\itshape other} to the new \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} and invalidates the {\itshape other}.

No mappings are unmapped or destroyed in this process. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classlibcamera_1_1MappedBuffer_a82de9ad85e265ef186cb3dab1cbbe0ed}\label{classlibcamera_1_1MappedBuffer_a82de9ad85e265ef186cb3dab1cbbe0ed} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!error@{error}}
\index{error@{error}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{error()}{error()}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the map error status. 

This function retrieves the error status from the \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}. The error status is a negative number as defined by errno.\+h. If no error occurred, this function returns 0.

\begin{DoxyReturn}{Returns}
The map error code 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1MappedBuffer_ad95bb6f3dc11a76b7cabba7be6816813}\label{classlibcamera_1_1MappedBuffer_ad95bb6f3dc11a76b7cabba7be6816813} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!isValid@{isValid}}
\index{isValid@{isValid}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{isValid()}{isValid()}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::is\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Check if the \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} instance is valid. 

\begin{DoxyReturn}{Returns}
True if the \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} has valid mappings, false otherwise 
\end{DoxyReturn}
\Hypertarget{classlibcamera_1_1MappedBuffer_aa1342eb5fc37a7055103ca0d2babbc7b}\label{classlibcamera_1_1MappedBuffer_aa1342eb5fc37a7055103ca0d2babbc7b} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!operator=@{operator=}}
\index{operator=@{operator=}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}} \& libcamera\+::\+Mapped\+Buffer\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}} \&\&}]{other }\end{DoxyParamCaption})}



Move assignment operator, replace the mappings with those of {\itshape other}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em other} & The other \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer}\\
\hline
\end{DoxyParams}
Moving a \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} moves the mappings contained in the {\itshape other} to the new \doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} and invalidates the {\itshape other}.

No mappings are unmapped or destroyed in this process. \Hypertarget{classlibcamera_1_1MappedBuffer_a150cdc7c892734781066e477c538a736}\label{classlibcamera_1_1MappedBuffer_a150cdc7c892734781066e477c538a736} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!planes@{planes}}
\index{planes@{planes}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{planes()}{planes()}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::planes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Retrieve the mapped planes. 

This function retrieves the successfully mapped planes stored as a vector of \doxylink{classlibcamera_1_1Span}{Span$<$uint8\+\_\+t$>$} to provide access to the mapped memory.

\begin{DoxyReturn}{Returns}
A vector of the mapped planes 
\end{DoxyReturn}


\doxysubsection{Member Data Documentation}
\Hypertarget{classlibcamera_1_1MappedBuffer_ac4b6701c923abeb049403d056ecc14b4}\label{classlibcamera_1_1MappedBuffer_ac4b6701c923abeb049403d056ecc14b4} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!error\_@{error\_}}
\index{error\_@{error\_}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{error\_}{error\_}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::error\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Stores the error value if present. 

\doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} derived classes shall set this to a negative value as defined by errno.\+h if an error occured during the mapping process. \Hypertarget{classlibcamera_1_1MappedBuffer_a2cc32d7cc1cbaffaef01a307cd947d94}\label{classlibcamera_1_1MappedBuffer_a2cc32d7cc1cbaffaef01a307cd947d94} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!maps\_@{maps\_}}
\index{maps\_@{maps\_}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{maps\_}{maps\_}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::maps\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Stores the mapped buffer. 

\doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} derived classes shall store the mappings they create in this vector which is parsed during destruct to unmap any memory mappings which completed successfully. \Hypertarget{classlibcamera_1_1MappedBuffer_af7e58579fadc6f306b6bedb7b64f0ca7}\label{classlibcamera_1_1MappedBuffer_af7e58579fadc6f306b6bedb7b64f0ca7} 
\index{libcamera::MappedBuffer@{libcamera::MappedBuffer}!planes\_@{planes\_}}
\index{planes\_@{planes\_}!libcamera::MappedBuffer@{libcamera::MappedBuffer}}
\doxysubsubsection{\texorpdfstring{planes\_}{planes\_}}
{\footnotesize\ttfamily libcamera\+::\+Mapped\+Buffer\+::planes\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Stores the internal mapped planes. 

\doxylink{classlibcamera_1_1MappedBuffer}{Mapped\+Buffer} derived classes shall store the mappings they create in this vector which points the beginning of mapped plane addresses. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/peripherals/camera/libcamera/include/libcamera/internal/\mbox{\hyperlink{mapped__framebuffer_8h}{mapped\+\_\+framebuffer.\+h}}\item 
src/peripherals/camera/libcamera/src/libcamera/mapped\+\_\+framebuffer.\+cpp\end{DoxyCompactItemize}
