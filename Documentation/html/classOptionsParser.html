<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JetPackJoyRide: OptionsParser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JetPackJoyRide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOptionsParser-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">OptionsParser Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A command line options parser.  
 <a href="classOptionsParser.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOptionsParser_1_1Options.html">Options</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An option list generated by the options parser.  <a href="classOptionsParser_1_1Options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad2a4f00cc2c8f9d3f05c9db1b66f4f06" id="r_ad2a4f00cc2c8f9d3f05c9db1b66f4f06"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOptionsParser.html#ad2a4f00cc2c8f9d3f05c9db1b66f4f06">addOption</a> (int opt, OptionType type, const char *help, const char *name=nullptr, OptionArgument argument=ArgumentNone, const char *argumentName=nullptr, bool array=false, int parent=0)</td></tr>
<tr class="memdesc:ad2a4f00cc2c8f9d3f05c9db1b66f4f06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an option to the parser.  <br /></td></tr>
<tr class="separator:ad2a4f00cc2c8f9d3f05c9db1b66f4f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9325a56c7fa64c135fc4638642926db5" id="r_a9325a56c7fa64c135fc4638642926db5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOptionsParser.html#a9325a56c7fa64c135fc4638642926db5">addOption</a> (int opt, <a class="el" href="classKeyValueParser.html">KeyValueParser</a> *parser, const char *help, const char *name=nullptr, bool array=false, int parent=0)</td></tr>
<tr class="memdesc:a9325a56c7fa64c135fc4638642926db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a key-value pair option to the parser.  <br /></td></tr>
<tr class="separator:a9325a56c7fa64c135fc4638642926db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7beaaf4a0aee77ffe169e4f7651b9493" id="r_a7beaaf4a0aee77ffe169e4f7651b9493"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOptionsParser_1_1Options.html">Options</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOptionsParser.html#a7beaaf4a0aee77ffe169e4f7651b9493">parse</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a7beaaf4a0aee77ffe169e4f7651b9493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse command line arguments.  <br /></td></tr>
<tr class="separator:a7beaaf4a0aee77ffe169e4f7651b9493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f087d3db320363318c858bd6ec92ce" id="r_a98f087d3db320363318c858bd6ec92ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOptionsParser.html#a98f087d3db320363318c858bd6ec92ce">usage</a> ()</td></tr>
<tr class="memdesc:a98f087d3db320363318c858bd6ec92ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print usage text to std::cerr.  <br /></td></tr>
<tr class="separator:a98f087d3db320363318c858bd6ec92ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A command line options parser. </p>
<p>The <a class="el" href="classOptionsParser.html" title="A command line options parser.">OptionsParser</a> class is an easy to use options parser for POSIX-style command line options. Supports short (e.g. <code>-f</code>) and long (e.g. <code>--foo</code>) options, optional and mandatory arguments, automatic parsing arguments for integer types and comma-separated list of key=value pairs, and multi-value arguments. It handles help text generation automatically.</p>
<p>An <a class="el" href="classOptionsParser.html" title="A command line options parser.">OptionsParser</a> instance is initialized by adding supported options with <a class="el" href="classOptionsParser.html#ad2a4f00cc2c8f9d3f05c9db1b66f4f06" title="Add an option to the parser.">addOption()</a>. <a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> are specified by an identifier and a name. If the identifier is an alphanumeric character, it will be used by the parser as a short option identifier (e.g. <code>-f</code>). The name, if specified, will be used as a long option identifier (e.g. <code>--foo</code>). It should not include the double dashes. The name is optional if the option identifier is an alphanumeric character and mandatory otherwise.</p>
<p>An option has a mandatory help text, which is used to print the full options list with the <a class="el" href="classOptionsParser.html#a98f087d3db320363318c858bd6ec92ce" title="Print usage text to std::cerr.">usage()</a> function. The help text may be a multi-line string. Correct indentation of the help text is handled automatically.</p>
<p><a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> accept arguments when created with OptionArgument::ArgumentRequired or OptionArgument::ArgumentOptional. If the argument is required, it can be specified as a positional argument after the option (e.g. <code>-f bar</code>, <code>--foo bar</code>), collated with the short option (e.g. <code>-fbar</code>) or separated from the long option by an equal sign (e.g. <code>--foo=bar</code>'). When the argument is optional, it must be collated with the short option or separated from the long option by an equal sign.</p>
<p>If an option has a required or optional argument, an argument name must be set when adding the option. The argument name is used in the help text as a place holder for an argument value. For instance, a <code>--write</code> option that takes a file name as an argument could set the argument name to <code>filename</code>, and the help text would display <code>--write filename</code>. This is only used to clarify the help text and has no effect on option parsing.</p>
<p>The option type tells the parser how to process the argument. Arguments for string options (OptionType::OptionString) are stored as-is without any processing. Arguments for integer options (OptionType::OptionInteger) are converted to an integer value, using an optional base prefix (<code>0</code> for base 8, <code>0x</code> for base 16, none for base 10). Arguments for key-value options are parsed by a <a class="el" href="classKeyValueParser.html" title="A specialized parser for list of key-value pairs.">KeyValueParser</a> given to <a class="el" href="classOptionsParser.html#ad2a4f00cc2c8f9d3f05c9db1b66f4f06" title="Add an option to the parser.">addOption()</a>.</p>
<p>By default, a given option can appear once only in the parsed command line. If the option is created as an array option, the parser will accept multiple instances of the option. The order in which identical options are specified is preserved in the values of an array option.</p>
<p>After preparing the parser, it can be used any number of times to parse command line options with the <a class="el" href="classOptionsParser.html#a7beaaf4a0aee77ffe169e4f7651b9493" title="Parse command line arguments.">parse()</a> function. The function returns an <a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> instance that stores the values for the parsed options. The <a class="el" href="classOptionsBase.html#a5cd5215b620f790a7f75e9a00b3caf9d" title="Tell if the option opt is specified.">Options::isSet()</a> function can be used to test if an option has been found, and is the only way to access options that take no argument (specified by OptionType::OptionNone and OptionArgument::ArgumentNone). For options that accept an argument, the option value can be access by <a class="el" href="classOptionsBase.html#a1a40faceadc5b6b416c05ebbc249cd16" title="Retrieve the value of option opt.">Options::operator[]()</a> using the option identifier as the key. The order in which different options are specified on the command line isn't preserved.</p>
<p><a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> can be created with parent-child relationships to organize them as a tree instead of a flat list. When parsing a command line, the child options are considered related to the parent option that precedes them. This is useful when the parent is an array option. The <a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> values list generated by the parser then turns into a tree, which each parent value storing the values of child options that follow that instance of the parent option. For instance, with a <code>capture</code> option specified as a child of a <code>camera</code> array option, parsing the command line</p>
<p><code>--camera 1 --capture=10 --camera 2 --capture=20</code></p>
<p>will return an <a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> instance containing a single <a class="el" href="classOptionValue.html" title="Container to store the value of an option.">OptionValue</a> instance of array type, for the <code>camera</code> option. The <a class="el" href="classOptionValue.html" title="Container to store the value of an option.">OptionValue</a> will contain two entries, with the first entry containing the integer value 1 and the second entry the integer value 2. Each of those entries will in turn store an <a class="el" href="classOptionsParser_1_1Options.html" title="An option list generated by the options parser.">Options</a> instance that contains the respective children. The first entry will store in its children a <code>capture</code> option of value 10, and the second entry a <code>capture</code> option of value 20.</p>
<p>The command line</p>
<p><code>--capture=10 --camera 1</code></p>
<p>would result in a parsing error, as the <code>capture</code> option has no preceding <code>camera</code> option on the command line. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9325a56c7fa64c135fc4638642926db5" name="a9325a56c7fa64c135fc4638642926db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9325a56c7fa64c135fc4638642926db5">&#9670;&#160;</a></span>addOption() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OptionsParser::addOption </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classKeyValueParser.html">KeyValueParser</a> *&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>help</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>array</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a key-value pair option to the parser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>The option identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parser</td><td>The <a class="el" href="classKeyValueParser.html" title="A specialized parser for list of key-value pairs.">KeyValueParser</a> for the option value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">help</td><td>The help text (may be a multi-line string) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The option name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">array</td><td>Whether the option can appear once or multiple times</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structOption.html" title="Store metadata about an option.">Option</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>True if the option was added successfully, false if an error occurred. </dd></dl>

</div>
</div>
<a id="ad2a4f00cc2c8f9d3f05c9db1b66f4f06" name="ad2a4f00cc2c8f9d3f05c9db1b66f4f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a4f00cc2c8f9d3f05c9db1b66f4f06">&#9670;&#160;</a></span>addOption() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OptionsParser::addOption </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OptionType&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>help</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OptionArgument&#160;</td>
          <td class="paramname"><em>argument</em> = <code>ArgumentNone</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argumentName</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>array</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an option to the parser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>The option identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The type of the option argument </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">help</td><td>The help text (may be a multi-line string) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The option name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argument</td><td>Whether the option accepts an optional argument, a mandatory argument, or no argument at all </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argumentName</td><td>The argument name used in the help text </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">array</td><td>Whether the option can appear once or multiple times </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>The identifier of the parent option (optional)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the option was added successfully, false if an error occurred. </dd></dl>

</div>
</div>
<a id="a7beaaf4a0aee77ffe169e4f7651b9493" name="a7beaaf4a0aee77ffe169e4f7651b9493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7beaaf4a0aee77ffe169e4f7651b9493">&#9670;&#160;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOptionsParser_1_1Options.html">OptionsParser::Options</a> OptionsParser::parse </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse command line arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argc</td><td>The number of arguments in the <em>argv</em> array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argv</td><td>The array of arguments</td></tr>
  </table>
  </dd>
</dl>
<p>If a parsing error occurs, the parsing stops, the function prints an error message that identifies the invalid argument, prints usage information with <a class="el" href="classOptionsParser.html#a98f087d3db320363318c858bd6ec92ce" title="Print usage text to std::cerr.">usage()</a>, and returns an invalid container. The container is populated with the options successfully parsed so far.</p>
<dl class="section return"><dt>Returns</dt><dd>A valid container with the list of parsed options on success, or an invalid container otherwise </dd></dl>

</div>
</div>
<a id="a98f087d3db320363318c858bd6ec92ce" name="a98f087d3db320363318c858bd6ec92ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f087d3db320363318c858bd6ec92ce">&#9670;&#160;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OptionsParser::usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print usage text to std::cerr. </p>
<p>The usage text list all the supported option with their arguments. It is generated automatically from the options added to the parser. Caller of this function may print additional usage information for the application before the list of options. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peripherals/camera/libcamera/src/apps/common/<a class="el" href="options_8h_source.html">options.h</a></li>
<li>src/peripherals/camera/libcamera/src/apps/common/<b>options.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
